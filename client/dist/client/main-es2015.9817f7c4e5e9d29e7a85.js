(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),r=n("wj3C"),s=n("q/0M"),o=n("zVF4"),a=n("x7I3"),l=n("S+S0"),u=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(r),c=new s.Logger("@firebase/firestore");function h(){return c.logLevel}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=s.LogLevel.DEBUG){var r=e.map(m);c.debug.apply(c,i.__spreadArrays(["Firestore (7.19.1): "+t],r))}}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=s.LogLevel.ERROR){var r=e.map(m);c.error.apply(c,i.__spreadArrays(["Firestore (7.19.1): "+t],r))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=s.LogLevel.WARN){var r=e.map(m);c.warn.apply(c,i.__spreadArrays(["Firestore (7.19.1): "+t],r))}}function m(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(r){return t}}function g(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.19.1) INTERNAL ASSERTION FAILED: "+t;throw f(e),new Error(e)}function _(t,e){t||g()}function y(t,e){return t}function v(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var b=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=v(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function w(t,e){return t<e?-1:t>e?1:0}function C(t,e,n){return t.length===e.length&&t.every((function(t,i){return n(t,e[i])}))}function E(t){return t+"\0"}var S=function(t,e,n,i,r){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r},x=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return w(this.projectId,t.projectId)||w(this.database,t.database)},t}();function I(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function T(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var A=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var s=r[i],o=s[1];if(this.u(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),i=this.l[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.u(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.u(n[i][0],t))return 1===n.length?delete this.l[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){k(this.l,(function(e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];t(s[0],s[1])}}))},t.prototype._=function(){return T(this.l)},t}(),R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return i.__extends(e,t),e}(Error),D=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new O(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new O(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new O(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new O(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?w(this.nanoseconds,t.nanoseconds):w(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),N=function(){function t(t){this.timestamp=t}return t.I=function(e){return new t(e)},t.min=function(){return new t(new D(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.A=function(){return this.timestamp},t}(),P=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&g(),void 0===n?n=t.length-e:n>t.length-e&&g(),this.segments=t,this.offset=e,this.R=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.g(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.V=function(t){return this.g(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.p=function(){return this.g(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.N=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),s=e.get(i);if(r<s)return-1;if(r>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.g=function(t,n,i){return new e(t,n,i)},e.prototype.F=function(){return this.N().join("/")},e.prototype.toString=function(){return this.F()},e.k=function(t){if(t.indexOf("//")>=0)throw new O(R.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.$=function(){return new e([])},e}(P),L=/^[_a-zA-Z][_a-zA-Z0-9]*$/,M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.g=function(t,n,i){return new e(t,n,i)},e.O=function(t){return L.test(t)},e.prototype.F=function(){return this.N().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.O(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.F()},e.prototype.M=function(){return 1===this.length&&"__name__"===this.get(0)},e.L=function(){return new e(["__name__"])},e.q=function(t){for(var n=[],i="",r=0,s=function(){if(0===i.length)throw new O(R.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new O(R.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new O(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new O(R.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.$=function(){return new e([])},e}(P),V=function(){function t(t){this.path=t}return t.B=function(e){return new t(F.k(e))},t.U=function(e){return new t(F.k(e).V(5))},t.prototype.W=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===F.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return F.P(t.path,e.path)},t.j=function(t){return t.length%2==0},t.K=function(e){return new t(new F(e.slice()))},t}();function U(t){return null==t}function j(t){return-0===t&&1/t==-1/0}function B(t){return"number"==typeof t&&Number.isInteger(t)&&!j(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var z=function(t,e,n,i,r,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.G=null};function q(t,e,n,i,r,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),new z(t,e,n,i,r,s,o)}function H(t){var e=y(t);if(null===e.G){var n=e.path.F();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.F()+t.op.toString()+Ft(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.F()+e.dir;var e})).join(","),U(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Pn(e.startAt)),e.endAt&&(n+="|ub:",n+=Pn(e.endAt)),e.G=n}return e.G}function G(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Un(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if((r=t.filters[i]).op!==(s=e.filters[i]).op||!r.field.isEqual(s.field)||!Ot(r.value,s.value))return!1;var r,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ln(t.startAt,e.startAt)&&Ln(t.endAt,e.endAt)}function $(t){return V.j(t.path)&&null===t.collectionGroup&&0===t.filters.length}var W=function(){function t(t){this.H=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.H)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.H)},t.prototype.Y=function(){return 2*this.H.length},t.prototype.o=function(t){return w(this.H,t.H)},t.prototype.isEqual=function(t){return this.H===t.H},t}();W.J=new W("");var K,Y,Z=function(){function t(t,e,n,i,r,s,o){void 0===r&&(r=N.min()),void 0===s&&(s=N.min()),void 0===o&&(o=W.J),this.target=t,this.targetId=e,this.X=n,this.sequenceNumber=i,this.Z=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.tt=function(e){return new t(this.target,this.targetId,this.X,e,this.Z,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.et=function(e,n){return new t(this.target,this.targetId,this.X,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.nt=function(e){return new t(this.target,this.targetId,this.X,this.sequenceNumber,this.Z,e,this.resumeToken)},t}(),Q=function(t){this.count=t};function X(t){switch(t){case R.OK:return g();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return g()}}function J(t){if(void 0===t)return f("GRPC error has no .code"),R.UNKNOWN;switch(t){case K.OK:return R.OK;case K.CANCELLED:return R.CANCELLED;case K.UNKNOWN:return R.UNKNOWN;case K.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case K.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case K.INTERNAL:return R.INTERNAL;case K.UNAVAILABLE:return R.UNAVAILABLE;case K.UNAUTHENTICATED:return R.UNAUTHENTICATED;case K.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case K.NOT_FOUND:return R.NOT_FOUND;case K.ALREADY_EXISTS:return R.ALREADY_EXISTS;case K.PERMISSION_DENIED:return R.PERMISSION_DENIED;case K.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case K.ABORTED:return R.ABORTED;case K.OUT_OF_RANGE:return R.OUT_OF_RANGE;case K.UNIMPLEMENTED:return R.UNIMPLEMENTED;case K.DATA_LOSS:return R.DATA_LOSS;default:return g()}}(Y=K||(K={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";var tt=function(){function t(t,e){this.P=t,this.root=e||nt.EMPTY}return t.prototype.st=function(e,n){return new t(this.P,this.root.st(e,n,this.P).copy(null,null,nt.it,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).copy(null,null,nt.it,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var i=this.P(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(){return this.root.ot()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.at=function(t){return this.root.at(t)},t.prototype.ut=function(){return new et(this.root,null,this.P,!1)},t.prototype.ct=function(t){return new et(this.root,t,this.P,!1)},t.prototype.lt=function(){return new et(this.root,null,this.P,!0)},t.prototype._t=function(t){return new et(this.root,t,this.P,!0)},t}(),et=function(){function t(t,e,n,i){this.ft=i,this.dt=[];for(var r=1;!t._();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.ft?t.left:t.right;else{if(0===r){this.dt.push(t);break}this.dt.push(t),t=this.ft?t.right:t.left}}return t.prototype.wt=function(){var t=this.dt.pop(),e={key:t.key,value:t.value};if(this.ft)for(t=t.left;!t._();)this.dt.push(t),t=t.right;else for(t=t.right;!t._();)this.dt.push(t),t=t.left;return e},t.prototype.Tt=function(){return this.dt.length>0},t.prototype.Et=function(){if(0===this.dt.length)return null;var t=this.dt[this.dt.length-1];return{key:t.key,value:t.value}},t}(),nt=function(){function t(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)},t.prototype._=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.at=function(t){return this.right.at(t)||t(this.key,this.value)||this.left.at(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.rt=function(){return this.min().key},t.prototype.ot=function(){return this.right._()?this.key:this.right.ot()},t.prototype.st=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.st(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.st(t,e,n))).It()},t.prototype.At=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.Rt()||e.left.left.Rt()||(e=e.Pt()),(e=e.copy(null,null,null,e.left.At(),null)).It()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left._()||r.left.Rt()||r.left.left.Rt()||(r=r.Pt()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.Rt()&&(r=r.gt()),r.right._()||r.right.Rt()||r.right.left.Rt()||(r=r.Vt()),0===n(e,r.key)){if(r.right._())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.At())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.It()},t.prototype.Rt=function(){return this.color},t.prototype.It=function(){var t=this;return t.right.Rt()&&!t.left.Rt()&&(t=t.yt()),t.left.Rt()&&t.left.left.Rt()&&(t=t.gt()),t.left.Rt()&&t.right.Rt()&&(t=t.pt()),t},t.prototype.Pt=function(){var t=this.pt();return t.right.left.Rt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.gt())).yt()).pt()),t},t.prototype.Vt=function(){var t=this.pt();return t.left.left.Rt()&&(t=(t=t.gt()).pt()),t},t.prototype.yt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.gt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.pt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.bt=function(){var t=this.vt();return Math.pow(2,t)<=this.size+1},t.prototype.vt=function(){if(this.Rt()&&this.left.Rt())throw g();if(this.right.Rt())throw g();var t=this.left.vt();if(t!==this.right.vt())throw g();return t+(this.Rt()?0:1)},t}();nt.EMPTY=null,nt.RED=!0,nt.it=!1,nt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw g()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.st=function(t,e,n){return new nt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.at=function(t){return!1},t.prototype.rt=function(){return null},t.prototype.ot=function(){return null},t.prototype.Rt=function(){return!1},t.prototype.bt=function(){return!0},t.prototype.vt=function(){return 0},t}());var it=function(){function t(t){this.P=t,this.data=new tt(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.rt()},t.prototype.last=function(){return this.data.ot()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.St=function(t,e){for(var n=this.data.ct(t[0]);n.Tt();){var i=n.wt();if(this.P(i.key,t[1])>=0)return;e(i.key)}},t.prototype.Dt=function(t,e){var n;for(n=void 0!==e?this.data.ct(e):this.data.ut();n.Tt();)if(!t(n.wt().key))return},t.prototype.Ct=function(t){var e=this.data.ct(t);return e.Tt()?e.wt().key:null},t.prototype.ut=function(){return new rt(this.data.ut())},t.prototype.ct=function(t){return new rt(this.data.ct(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).st(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Nt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ut(),i=e.data.ut();n.Tt();){var r=n.wt().key,s=i.wt().key;if(0!==this.P(r,s))return!1}return!0},t.prototype.N=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.P);return n.data=e,n},t}(),rt=function(){function t(t){this.Ft=t}return t.prototype.wt=function(){return this.Ft.wt().key},t.prototype.Tt=function(){return this.Ft.Tt()},t}(),st=new tt(V.P);function ot(){return st}function at(){return ot()}var lt=new tt(V.P);function ut(){return lt}var ct=new tt(V.P),ht=new it(V.P);function dt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ht,i=0,r=t;i<r.length;i++){var s=r[i];n=n.add(s)}return n}var ft=new it(w);function pt(){return ft}var mt=function(){function t(t){this.P=t?function(e,n){return t(e,n)||V.P(e.key,n.key)}:function(t,e){return V.P(t.key,e.key)},this.kt=ut(),this.$t=new tt(this.P)}return t.xt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.kt.get(t)},t.prototype.get=function(t){return this.kt.get(t)},t.prototype.first=function(){return this.$t.rt()},t.prototype.last=function(){return this.$t.ot()},t.prototype._=function(){return this.$t._()},t.prototype.indexOf=function(t){var e=this.kt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.kt.st(t.key,t),e.$t.st(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.kt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.ut(),i=e.$t.ut();n.Tt();){var r=n.wt().key,s=i.wt().key;if(!r.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.P=this.P,i.kt=e,i.$t=n,i},t}(),gt=function(){function t(){this.Ot=new tt(V.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Ot.get(e);n?0!==t.type&&3===n.type?this.Ot=this.Ot.st(e,t):3===t.type&&1!==n.type?this.Ot=this.Ot.st(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Ot=this.Ot.st(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Ot=this.Ot.st(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Ot=this.Ot.remove(e):1===t.type&&2===n.type?this.Ot=this.Ot.st(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Ot=this.Ot.st(e,{type:2,doc:t.doc}):g():this.Ot=this.Ot.st(e,t)},t.prototype.Mt=function(){var t=[];return this.Ot.ht((function(e,n){t.push(n)})),t},t}(),_t=function(){function t(t,e,n,i,r,s,o,a){this.query=t,this.docs=e,this.Lt=n,this.docChanges=i,this.qt=r,this.fromCache=s,this.Bt=o,this.Ut=a}return t.Qt=function(e,n,i,r){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,mt.xt(n),s,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.qt._()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Bt===t.Bt&&this.qt.isEqual(t.qt)&&vn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Lt.isEqual(t.Lt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),yt=function(){function t(t,e,n,i,r){this.Z=t,this.Wt=e,this.jt=n,this.Kt=i,this.Gt=r}return t.zt=function(e,n){var i=new Map;return i.set(e,vt.Ht(e,n)),new t(N.min(),i,pt(),ot(),dt())},t}(),vt=function(){function t(t,e,n,i,r){this.resumeToken=t,this.Yt=e,this.Jt=n,this.Xt=i,this.Zt=r}return t.Ht=function(e,n){return new t(W.J,n,dt(),dt(),dt())},t}(),bt=function(t,e,n,i){this.te=t,this.removedTargetIds=e,this.key=n,this.ee=i},wt=function(t,e){this.targetId=t,this.ne=e},Ct=function(t,e,n,i){void 0===n&&(n=W.J),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},Et=function(){function t(){this.se=0,this.ie=It(),this.re=W.J,this.oe=!1,this.he=!0}return Object.defineProperty(t.prototype,"Yt",{get:function(){return this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return 0!==this.se},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ue",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.ce=function(t){t.Y()>0&&(this.he=!0,this.re=t)},t.prototype.le=function(){var t=dt(),e=dt(),n=dt();return this.ie.forEach((function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:g()}})),new vt(this.re,this.oe,t,e,n)},t.prototype._e=function(){this.he=!1,this.ie=It()},t.prototype.fe=function(t,e){this.he=!0,this.ie=this.ie.st(t,e)},t.prototype.de=function(t){this.he=!0,this.ie=this.ie.remove(t)},t.prototype.we=function(){this.se+=1},t.prototype.Te=function(){this.se-=1},t.prototype.Ee=function(){this.he=!0,this.oe=!0},t}(),St=function(){function t(t){this.Ie=t,this.me=new Map,this.Ae=ot(),this.Re=xt(),this.Pe=new it(w)}return t.prototype.ge=function(t){for(var e=0,n=t.te;e<n.length;e++){var i=n[e];t.ee instanceof on?this.Ve(i,t.ee):t.ee instanceof an&&this.ye(i,t.key,t.ee)}for(var r=0,s=t.removedTargetIds;r<s.length;r++)this.ye(s[r],t.key,t.ee)},t.prototype.pe=function(t){var e=this;this.be(t,(function(n){var i=e.ve(n);switch(t.state){case 0:e.Se(n)&&i.ce(t.resumeToken);break;case 1:i.Te(),i.ae||i._e(),i.ce(t.resumeToken);break;case 2:i.Te(),i.ae||e.removeTarget(n);break;case 3:e.Se(n)&&(i.Ee(),i.ce(t.resumeToken));break;case 4:e.Se(n)&&(e.De(n),i.ce(t.resumeToken));break;default:g()}}))},t.prototype.be=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.me.forEach((function(t,i){n.Se(i)&&e(i)}))},t.prototype.Ce=function(t){var e=t.targetId,n=t.ne.count,i=this.Ne(e);if(i){var r=i.target;if($(r))if(0===n){var s=new V(r.path);this.ye(e,s,new an(s,N.min()))}else _(1===n);else this.Fe(e)!==n&&(this.De(e),this.Pe=this.Pe.add(e))}},t.prototype.ke=function(t){var e=this,n=new Map;this.me.forEach((function(i,r){var s=e.Ne(r);if(s){if(i.Yt&&$(s.target)){var o=new V(s.target.path);null!==e.Ae.get(o)||e.$e(r,o)||e.ye(r,o,new an(o,t))}i.ue&&(n.set(r,i.le()),i._e())}}));var i=dt();this.Re.forEach((function(t,n){var r=!0;n.Dt((function(t){var n=e.Ne(t);return!n||2===n.X||(r=!1,!1)})),r&&(i=i.add(t))}));var r=new yt(t,n,this.Pe,this.Ae,i);return this.Ae=ot(),this.Re=xt(),this.Pe=new it(w),r},t.prototype.Ve=function(t,e){if(this.Se(t)){var n=this.$e(t,e.key)?2:0;this.ve(t).fe(e.key,n),this.Ae=this.Ae.st(e.key,e),this.Re=this.Re.st(e.key,this.xe(e.key).add(t))}},t.prototype.ye=function(t,e,n){if(this.Se(t)){var i=this.ve(t);this.$e(t,e)?i.fe(e,1):i.de(e),this.Re=this.Re.st(e,this.xe(e).delete(t)),n&&(this.Ae=this.Ae.st(e,n))}},t.prototype.removeTarget=function(t){this.me.delete(t)},t.prototype.Fe=function(t){var e=this.ve(t).le();return this.Ie.Oe(t).size+e.Jt.size-e.Zt.size},t.prototype.we=function(t){this.ve(t).we()},t.prototype.ve=function(t){var e=this.me.get(t);return e||(e=new Et,this.me.set(t,e)),e},t.prototype.xe=function(t){var e=this.Re.get(t);return e||(e=new it(w),this.Re=this.Re.st(t,e)),e},t.prototype.Se=function(t){var e=null!==this.Ne(t);return e||d("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ne=function(t){var e=this.me.get(t);return e&&e.ae?null:this.Ie.Me(t)},t.prototype.De=function(t){var e=this;this.me.set(t,new Et),this.Ie.Oe(t).forEach((function(n){e.ye(t,n,null)}))},t.prototype.$e=function(t,e){return this.Ie.Oe(t).has(e)},t}();function xt(){return new tt(V.P)}function It(){return new tt(V.P)}function kt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tt(t){var e=Lt(t.mapValue.fields.__local_write_time__.timestampValue);return new D(e.seconds,e.nanos)}var At=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kt(t)?4:10:g()}function Ot(t,e){var n=Rt(t);if(n!==Rt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tt(t).isEqual(Tt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Lt(t.timestampValue),i=Lt(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Vt(t.bytesValue).isEqual(Vt(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Mt(t.geoPointValue.latitude)===Mt(e.geoPointValue.latitude)&&Mt(t.geoPointValue.longitude)===Mt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Mt(t.integerValue)===Mt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Mt(t.doubleValue),i=Mt(e.doubleValue);return n===i?j(n)===j(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return C(t.arrayValue.values||[],e.arrayValue.values||[],Ot);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(I(n)!==I(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Ot(n[r],i[r])))return!1;return!0}(t,e);default:return g()}}function Dt(t,e){return void 0!==(t.values||[]).find((function(t){return Ot(t,e)}))}function Nt(t,e){var n=Rt(t),i=Rt(e);if(n!==i)return w(n,i);switch(n){case 0:return 0;case 1:return w(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Mt(t.integerValue||t.doubleValue),i=Mt(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Pt(t.timestampValue,e.timestampValue);case 4:return Pt(Tt(t),Tt(e));case 5:return w(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Vt(t),i=Vt(e);return n.o(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var s=w(n[r],i[r]);if(0!==s)return s}return w(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=w(Mt(t.latitude),Mt(e.latitude));return 0!==n?n:w(Mt(t.longitude),Mt(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var s=Nt(n[r],i[r]);if(s)return s}return w(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(var o=0;o<i.length&&o<s.length;++o){var a=w(i[o],s[o]);if(0!==a)return a;var l=Nt(n[i[o]],r[s[o]]);if(0!==l)return l}return w(i.length,s.length)}(t.mapValue,e.mapValue);default:throw g()}}function Pt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return w(t,e);var n=Lt(t),i=Lt(e),r=w(n.seconds,i.seconds);return 0!==r?r:w(n.nanos,i.nanos)}function Ft(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Lt(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vt(e.bytesValue).toBase64():"referenceValue"in e?V.U(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",i=!0,r=0,s=e.values||[];r<s.length;r++)i?i=!1:n+=",",n+=t(s[r]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",i=!0,r=0,s=Object.keys(e.fields||{}).sort();r<s.length;r++){var o=s[r];i?i=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):g();var n}(t)}function Lt(t){if(_(!!t),"string"==typeof t){var e=0,n=At.exec(t);if(_(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Vt(t){return"string"==typeof t?W.fromBase64String(t):W.fromUint8Array(t)}function Ut(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.F()}}function jt(t){return!!t&&"integerValue"in t}function Bt(t){return!!t&&"arrayValue"in t}function zt(t){return!!t&&"nullValue"in t}function qt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ht(t){return!!t&&"mapValue"in t}var Gt={asc:"ASCENDING",desc:"DESCENDING"},$t={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wt=function(t,e){this.s=t,this.Le=e};function Kt(t){return{integerValue:""+t}}function Yt(t,e){if(t.Le){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:j(e)?"-0":e}}function Zt(t,e){return B(e)?Kt(e):Yt(t,e)}function Qt(t,e){return t.Le?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xt(t,e){return t.Le?e.toBase64():e.toUint8Array()}function Jt(t,e){return Qt(t,e.A())}function te(t){return _(!!t),N.I(function(t){var e=Lt(t);return new D(e.seconds,e.nanos)}(t))}function ee(t,e){return function(t){return new F(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).F()}function ne(t){var e=F.k(t);return _(Ee(e)),e}function ie(t,e){return ee(t.s,e.path)}function re(t,e){var n=ne(e);return _(n.get(1)===t.s.projectId),_(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new V(le(n))}function se(t,e){return ee(t.s,e)}function oe(t){var e=ne(t);return 4===e.length?F.$():le(e)}function ae(t){return new F(["projects",t.s.projectId,"databases",t.s.database]).F()}function le(t){return _(t.length>4&&"documents"===t.get(4)),t.V(5)}function ue(t,e,n){return{name:ie(t,e),fields:n.proto.mapValue.fields}}function ce(t,e){var n;if(e instanceof We)n={update:ue(t,e.key,e.value)};else if(e instanceof Je)n={delete:ie(t,e.key)};else if(e instanceof Ke)n={update:ue(t,e.key,e.data),updateMask:Ce(e.qe)};else if(e instanceof Ze)n={transform:{document:ie(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Te)return{fieldPath:e.field.F(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ae)return{fieldPath:e.field.F(),appendMissingElements:{values:n.elements}};if(n instanceof Oe)return{fieldPath:e.field.F(),removeAllFromArray:{values:n.elements}};if(n instanceof Ne)return{fieldPath:e.field.F(),increment:n.Be};throw g()}(0,t)}))}};else{if(!(e instanceof tn))return g();n={verify:ie(t,e.key)}}return e.Qe.Ue||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Jt(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:g()}(t,e.Qe)),n}function he(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ue.updateTime(te(t.updateTime)):void 0!==t.exists?Ue.exists(t.exists):Ue.We()}(e.currentDocument):Ue.We();if(e.update){var i=re(t,e.update.name),r=new en({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Le((t.fieldPaths||[]).map((function(t){return M.q(t)})))}(e.updateMask);return new Ke(i,r,s,n)}return new We(i,r,n)}if(e.delete){var o=re(t,e.delete);return new Je(o,n)}if(e.transform){var a=re(t,e.transform.document),l=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(_("REQUEST_TIME"===e.setToServerValue),n=new Te):"appendMissingElements"in e?n=new Ae(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Oe(e.removeAllFromArray.values||[]):"increment"in e?n=new Ne(t,e.increment):g();var i=M.q(e.fieldPath);return new Me(i,n)}(t,e)}));return _(!0===n.exists),new Ze(a,l)}if(e.verify){var u=re(t,e.verify);return new tn(u,n)}return g()}function de(t,e){return{documents:[se(t,e.path)]}}function fe(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=se(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=se(t,i.p()),n.structuredQuery.from=[{collectionId:i.S()}]);var r=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(qt(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NAN"}};if(zt(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(qt(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NOT_NAN"}};if(zt(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ye(t.field),op:_e(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ye(t.field),direction:ge(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Le||U(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=pe(e.startAt)),e.endAt&&(n.structuredQuery.endAt=pe(e.endAt)),n}function pe(t){return{before:t.before,values:t.position}}function me(t){return new Nn(t.values||[],!!t.before)}function ge(t){return Gt[t]}function _e(t){return $t[t]}function ye(t){return{fieldPath:t.F()}}function ve(t){return M.q(t.fieldPath)}function be(t){return Sn.create(ve(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return g()}}(t.fieldFilter.op),t.fieldFilter.value)}function we(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ve(t.unaryFilter.field);return Sn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ve(t.unaryFilter.field);return Sn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=ve(t.unaryFilter.field);return Sn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=ve(t.unaryFilter.field);return Sn.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return g()}}function Ce(t){var e=[];return t.fields.forEach((function(t){return e.push(t.F())})),{fieldPaths:e}}function Ee(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Se=function(){this.je=void 0};function xe(t,e,n){return t instanceof Te?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ae?Re(t,e):t instanceof Oe?De(t,e):function(t,e){var n=ke(t,e),i=Pe(n)+Pe(t.Be);return jt(n)&&jt(t.Be)?Kt(i):Yt(t.serializer,i)}(t,e)}function Ie(t,e,n){return t instanceof Ae?Re(t,e):t instanceof Oe?De(t,e):n}function ke(t,e){return t instanceof Ne?jt(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(Se),Ae=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i.__extends(e,t),e}(Se);function Re(t,e){for(var n=Fe(e),i=function(t){n.some((function(e){return Ot(e,t)}))||n.push(t)},r=0,s=t.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}var Oe=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i.__extends(e,t),e}(Se);function De(t,e){for(var n=Fe(e),i=function(t){n=n.filter((function(e){return!Ot(e,t)}))},r=0,s=t.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}var Ne=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).serializer=e,i.Be=n,i}return i.__extends(e,t),e}(Se);function Pe(t){return Mt(t.integerValue||t.doubleValue)}function Fe(t){return Bt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Le=function(){function t(t){this.fields=t,t.sort(M.P)}return t.prototype.Ke=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return C(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Me=function(t,e){this.field=t,this.transform=e},Ve=function(t,e){this.version=t,this.transformResults=e},Ue=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.We=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ue",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function je(t,e){return void 0!==t.updateTime?e instanceof on&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof on}var Be=function(){};function ze(t,e,n){return t instanceof We?function(t,e,n){return new on(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Ke?function(t,e,n){if(!je(t.Qe,e))return new ln(t.key,n.version);var i=Ye(t,e);return new on(t.key,n.version,i,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ze?function(t,e,n){if(_(null!=n.transformResults),!je(t.Qe,e))return new ln(t.key,n.version);var i=Qe(0,e),r=function(t,e,n){var i=[];_(t.length===n.length);for(var r=0;r<n.length;r++){var s=t[r],o=s.transform,a=null;e instanceof on&&(a=e.field(s.field)),i.push(Ie(o,a,n[r]))}return i}(t.fieldTransforms,e,n.transformResults),s=n.version,o=Xe(t,i.data(),r);return new on(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new an(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function qe(t,e,n,i){return t instanceof We?function(t,e){if(!je(t.Qe,e))return e;var n=$e(e);return new on(t.key,n,t.value,{Ge:!0})}(t,e):t instanceof Ke?function(t,e){if(!je(t.Qe,e))return e;var n=$e(e),i=Ye(t,e);return new on(t.key,n,i,{Ge:!0})}(t,e):t instanceof Ze?function(t,e,n,i){if(!je(t.Qe,e))return e;var r=Qe(0,e),s=function(t,e,n,i){for(var r=[],s=0,o=t;s<o.length;s++){var a=o[s],l=a.transform,u=null;n instanceof on&&(u=n.field(a.field)),null===u&&i instanceof on&&(u=i.field(a.field)),r.push(xe(l,u,e))}return r}(t.fieldTransforms,n,e,i),o=Xe(t,r.data(),s);return new on(t.key,r.version,o,{Ge:!0})}(t,e,i,n):function(t,e){return je(t.Qe,e)?new an(t.key,N.min()):e}(t,e)}function He(t,e){return t instanceof Ze?function(t,e){for(var n=null,i=0,r=t.fieldTransforms;i<r.length;i++){var s=r[i],o=e instanceof on?e.field(s.field):void 0,a=ke(s.transform,o||null);null!=a&&(n=null==n?(new nn).set(s.field,a):n.set(s.field,a))}return n?n.ze():null}(t,e):null}function Ge(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Qe.isEqual(e.Qe)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.qe.isEqual(e.qe):2!==t.type||C(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ae&&e instanceof Ae||t instanceof Oe&&e instanceof Oe?C(t.elements,e.elements,Ot):t instanceof Ne&&e instanceof Ne?Ot(t.Be,e.Be):t instanceof Te&&e instanceof Te}(t.transform,e.transform)}(t,e)})))}function $e(t){return t instanceof on?t.version:N.min()}var We=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).key=e,r.value=n,r.Qe=i,r.type=0,r}return i.__extends(e,t),e}(Be),Ke=function(t){function e(e,n,i,r){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.qe=i,s.Qe=r,s.type=1,s}return i.__extends(e,t),e}(Be);function Ye(t,e){return function(t,e){var n=new nn(e);return t.qe.fields.forEach((function(e){if(!e._()){var i=t.data.field(e);null!==i?n.set(e,i):n.delete(e)}})),n.ze()}(t,e instanceof on?e.data():en.empty())}var Ze=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.fieldTransforms=n,i.type=2,i.Qe=Ue.exists(!0),i}return i.__extends(e,t),e}(Be);function Qe(t,e){return e}function Xe(t,e,n){for(var i=new nn(e),r=0;r<t.fieldTransforms.length;r++)i.set(t.fieldTransforms[r].field,n[r]);return i.ze()}var Je=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Qe=n,i.type=3,i}return i.__extends(e,t),e}(Be),tn=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Qe=n,i.type=4,i}return i.__extends(e,t),e}(Be),en=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ht(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return Ot(this.proto,t.proto)},t}(),nn=function(){function t(t){void 0===t&&(t=en.empty()),this.He=t,this.Ye=new Map}return t.prototype.set=function(t,e){return this.Je(t,e),this},t.prototype.delete=function(t){return this.Je(t,null),this},t.prototype.Je=function(t,e){for(var n=this.Ye,i=0;i<t.length-1;++i){var r=t.get(i),s=n.get(r);s instanceof Map?n=s:s&&10===Rt(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(r,s),n=s):(s=new Map,n.set(r,s),n=s)}n.set(t.S(),e)},t.prototype.ze=function(){var t=this.Xe(M.$(),this.Ye);return null!=t?new en(t):this.He},t.prototype.Xe=function(t,e){var n=this,i=!1,r=this.He.field(t),s=Ht(r)?Object.assign({},r.mapValue.fields):{};return e.forEach((function(e,r){if(e instanceof Map){var o=n.Xe(t.child(r),e);null!=o&&(s[r]=o,i=!0)}else null!==e?(s[r]=e,i=!0):s.hasOwnProperty(r)&&(delete s[r],i=!0)})),i?{mapValue:{fields:s}}:null},t}();function rn(t){var e=[];return k(t.fields||{},(function(t,n){var i=new M([t]);if(Ht(n)){var r=rn(n.mapValue).fields;if(0===r.length)e.push(i);else for(var s=0,o=r;s<o.length;s++)e.push(i.child(o[s]))}else e.push(i)})),new Le(e)}var sn=function(t,e){this.key=t,this.version=e},on=function(t){function e(e,n,i,r){var s=this;return(s=t.call(this,e,n)||this).Ze=i,s.Ge=!!r.Ge,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return i.__extends(e,t),e.prototype.field=function(t){return this.Ze.field(t)},e.prototype.data=function(){return this.Ze},e.prototype.tn=function(){return this.Ze.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ge===t.Ge&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ze.isEqual(t.Ze)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ze.toString()+", {hasLocalMutations: "+this.Ge+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ge||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(sn),an=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(sn),ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(sn);function un(t,e){if(!(t instanceof e))throw new O(R.INVALID_ARGUMENT,e.name===t.constructor.name?"Type does not match the expected instance. Did you pass '"+e.name+"' from a different Firestore SDK?":"Expected type '"+e.name+"', but was '"+t.constructor.name+"'");return t}var cn=function(){function t(t,e,n,i,r,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.en=n,this.filters=i,this.limit=r,this.nn=s,this.startAt=o,this.endAt=a,this.sn=null,this.rn=null}return t.prototype.on=function(e){return new t(e,null,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},t.prototype.hn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.en.length||1===this.en.length&&this.en[0].field.M())},t.prototype.an=function(){return!U(this.limit)&&"F"===this.nn},t.prototype.un=function(){return!U(this.limit)&&"L"===this.nn},t.prototype.cn=function(){return this.en.length>0?this.en[0].field:null},t.prototype.ln=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n._n())return n.field}return null},t.prototype.fn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var i=n[e];if(t.indexOf(i.op)>=0)return i.op}return null},t}();function hn(t,e,n,i,r,s,o,a){return new cn(t,e,n,i,r,s,o,a)}function dn(t){return new cn(t)}function fn(t){return null!==t.collectionGroup}function pn(t){var e=un(t,cn);if(null===e.sn){e.sn=[];var n=e.ln(),i=e.cn();if(null!==n&&null===i)n.M()||e.sn.push(new Mn(n)),e.sn.push(new Mn(M.L(),"asc"));else{for(var r=!1,s=0,o=e.en;s<o.length;s++){var a=o[s];e.sn.push(a),a.field.M()&&(r=!0)}if(!r){var l=e.en.length>0?e.en[e.en.length-1].dir:"asc";e.sn.push(new Mn(M.L(),l))}}}return e.sn}function mn(t){var e=un(t,cn);if(!e.rn)if("F"===e.nn)e.rn=q(e.path,e.collectionGroup,pn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,r=pn(e);i<r.length;i++){var s=r[i];n.push(new Mn(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Nn(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Nn(e.startAt.position,!e.startAt.before):null;e.rn=q(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.rn}function gn(t,e,n){return new cn(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _n(t,e){return new cn(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),t.limit,t.nn,e,t.endAt)}function yn(t,e){return new cn(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),t.limit,t.nn,t.startAt,e)}function vn(t,e){return G(mn(t),mn(e))&&t.nn===e.nn}function bn(t){return H(mn(t))+"|lt:"+t.nn}function wn(t){return"Query(target="+function(t){var e=t.path.F();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.F()+" "+e.op+" "+Ft(e.value);var e})).join(", ")+"]"),U(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.F()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Pn(t.startAt)),t.endAt&&(e+=", endAt: "+Pn(t.endAt)),"Target("+e+")"}(mn(t))+"; limitType="+t.nn+")"}function Cn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.W(t.collectionGroup)&&t.path.D(n):V.j(t.path)?t.path.isEqual(n):t.path.C(n)}(t,e)&&function(t,e){for(var n=0,i=t.en;n<i.length;n++){var r=i[n];if(!r.field.M()&&null===e.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Fn(t.startAt,pn(t),e)||t.endAt&&Fn(t.endAt,pn(t),e))}(t,e)}function En(t){return function(e,n){for(var i=!1,r=0,s=pn(t);r<s.length;r++){var o=s[r],a=Vn(o,e,n);if(0!==a)return a;i=i||o.field.M()}return 0}}var Sn=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return i.__extends(e,t),e.create=function(t,n,i){if(t.M())return"in"===n||"not-in"===n?this.dn(t,n,i):new xn(t,n,i);if(zt(i)){if("=="!==n&&"!="!==n)throw new O(R.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,i)}if(qt(i)){if("=="!==n&&"!="!==n)throw new O(R.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,i)}return"array-contains"===n?new An(t,i):"in"===n?new Rn(t,i):"not-in"===n?new On(t,i):"array-contains-any"===n?new Dn(t,i):new e(t,n,i)},e.dn=function(t,e,n){return"in"===e?new In(t,n):new kn(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.wn(Nt(e,this.value)):null!==e&&Rt(this.value)===Rt(e)&&this.wn(Nt(e,this.value))},e.prototype.wn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return g()}},e.prototype._n=function(){return["<","<=",">",">=","!="].indexOf(this.op)>=0},e}((function(){})),xn=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=V.U(i.referenceValue),r}return i.__extends(e,t),e.prototype.matches=function(t){var e=V.P(t.key,this.key);return this.wn(e)},e}(Sn),In=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=Tn(0,n),i}return i.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Sn),kn=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"not-in",n)||this).keys=Tn(0,n),i}return i.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Sn);function Tn(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return V.U(t.referenceValue)}))}var An=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Bt(e)&&Dt(e.arrayValue,this.value)},e}(Sn),Rn=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Dt(this.value.arrayValue,e)},e}(Sn),On=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&!Dt(this.value.arrayValue,e)},e}(Sn),Dn=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Bt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Dt(e.value.arrayValue,t)}))},e}(Sn),Nn=function(t,e){this.position=t,this.before=e};function Pn(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Ft(t)})).join(",")}function Fn(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var s=e[r],o=t.position[r];if(i=s.field.M()?V.P(V.U(o.referenceValue),n.key):Nt(o,n.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function Ln(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ot(t.position[n],e.position[n]))return!1;return!0}var Mn=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Vn(t,e,n){var i=t.field.M()?V.P(e.key,n.key):function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?Nt(i,r):g()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return g()}}function Un(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var jn=function(){function t(t,e,n,i){this.batchId=t,this.Tn=e,this.baseMutations=n,this.mutations=i}return t.prototype.En=function(t,e,n){for(var i=n.In,r=0;r<this.mutations.length;r++){var s=this.mutations[r];s.key.isEqual(t)&&(e=ze(s,e,i[r]))}return e},t.prototype.mn=function(t,e){for(var n=0,i=this.baseMutations;n<i.length;n++){var r=i[n];r.key.isEqual(t)&&(e=qe(r,e,e,this.Tn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var l=a[o];l.key.isEqual(t)&&(e=qe(l,e,s,this.Tn))}return e},t.prototype.An=function(t){var e=this,n=t;return this.mutations.forEach((function(i){var r=e.mn(i.key,t.get(i.key));r&&(n=n.st(i.key,r))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),dt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&C(this.mutations,t.mutations,(function(t,e){return Ge(t,e)}))&&C(this.baseMutations,t.baseMutations,(function(t,e){return Ge(t,e)}))},t}(),Bn=function(){function t(t,e,n,i){this.batch=t,this.Rn=e,this.In=n,this.Pn=i}return t.from=function(e,n,i){_(e.mutations.length===i.length);for(var r=ct,s=e.mutations,o=0;o<s.length;o++)r=r.st(s[o].key,i[o].version);return new t(e,n,i,r)},t}(),zn=function(){function t(t){var e=this;this.gn=null,this.Vn=null,this.result=void 0,this.error=void 0,this.yn=!1,this.pn=!1,t((function(t){e.yn=!0,e.result=t,e.gn&&e.gn(t)}),(function(t){e.yn=!0,e.error=t,e.Vn&&e.Vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.pn&&g(),this.pn=!0,this.yn?this.error?this.bn(n,this.error):this.vn(e,this.result):new t((function(t,r){i.gn=function(n){i.vn(e,n).next(t,r)},i.Vn=function(e){i.bn(n,e).next(t,r)}}))},t.prototype.Sn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Dn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.vn=function(e,n){return e?this.Dn((function(){return e(n)})):t.resolve(n)},t.prototype.bn=function(e,n){return e?this.Dn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Cn=function(e){return new t((function(t,n){var i=0,r=0,s=!1;e.forEach((function(e){++i,e.next((function(){++r,s&&r===i&&t()}),(function(t){return n(t)}))})),s=!0,r===i&&t()}))},t.Nn=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},r=0,s=e;r<s.length;r++)i(s[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.Cn(i)},t}(),qn=function(){function t(){this.Fn=new A((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.kn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.$n},set:function(t){this.$n=t},enumerable:!1,configurable:!0}),t.prototype.xn=function(t,e){this.On(),this.readTime=e,this.Fn.set(t.key,t)},t.prototype.Mn=function(t,e){this.On(),e&&(this.readTime=e),this.Fn.set(t,null)},t.prototype.Ln=function(t,e){this.On();var n=this.Fn.get(e);return void 0!==n?zn.resolve(n):this.qn(t,e)},t.prototype.getEntries=function(t,e){return this.Bn(t,e)},t.prototype.apply=function(t){return this.On(),this.kn=!0,this.Un(t)},t.prototype.On=function(){},t}(),Hn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gn=function(){function t(){this.Qn=[]}return t.prototype.Wn=function(t){this.Qn.push(t)},t.prototype.jn=function(){this.Qn.forEach((function(t){return t()}))},t}(),$n=function(){function t(t,e,n){this.Kn=t,this.Gn=e,this.zn=n}return t.prototype.Hn=function(t,e){var n=this;return this.Gn.Yn(t,e).next((function(i){return n.Jn(t,e,i)}))},t.prototype.Jn=function(t,e,n){return this.Kn.Ln(t,e).next((function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].mn(e,t);return t}))},t.prototype.Xn=function(t,e,n){var i=at();return e.forEach((function(t,e){for(var r=0,s=n;r<s.length;r++)e=s[r].mn(t,e);i=i.st(t,e)})),i},t.prototype.Zn=function(t,e){var n=this;return this.Kn.getEntries(t,e).next((function(e){return n.ts(t,e)}))},t.prototype.ts=function(t,e){var n=this;return this.Gn.es(t,e).next((function(i){var r=n.Xn(t,e,i),s=ot();return r.forEach((function(t,e){e||(e=new an(t,N.min())),s=s.st(t,e)})),s}))},t.prototype.ns=function(t,e,n){return function(t){return V.j(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ss(t,e.path):fn(e)?this.rs(t,e,n):this.os(t,e,n)},t.prototype.ss=function(t,e){return this.Hn(t,new V(e)).next((function(t){var e=ut();return t instanceof on&&(e=e.st(t.key,t)),e}))},t.prototype.rs=function(t,e,n){var i=this,r=e.collectionGroup,s=ut();return this.zn.hs(t,r).next((function(o){return zn.forEach(o,(function(o){var a=e.on(o.child(r));return i.os(t,a,n).next((function(t){t.forEach((function(t,e){s=s.st(t,e)}))}))})).next((function(){return s}))}))},t.prototype.os=function(t,e,n){var i,r,s=this;return this.Kn.ns(t,e,n).next((function(n){return i=n,s.Gn.as(t,e)})).next((function(e){return s.us(t,r=e,i).next((function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var l=a[o],u=l.key,c=i.get(u),h=qe(l,c,c,s.Tn);i=h instanceof on?i.st(u,h):i.remove(u)}}))})).next((function(){return i.forEach((function(t,n){Cn(e,n)||(i=i.remove(t))})),i}))},t.prototype.us=function(t,e,n){for(var i=dt(),r=0,s=e;r<s.length;r++)for(var o=0,a=s[r].mutations;o<a.length;o++){var l=a[o];l instanceof Ke&&null===n.get(l.key)&&(i=i.add(l.key))}var u=n;return this.Kn.getEntries(t,i).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof on&&(u=u.st(t,e))})),u}))},t}(),Wn=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.cs=n,this.ls=i}return t._s=function(e,n){for(var i=dt(),r=dt(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),Kn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.fs=function(t){return n.ds(t)},this.ws=function(t){return e.Ts(t)})}return t.prototype.ds=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ws&&this.ws(t),t},t}();Kn.Es=-1;var Yn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Zn=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.Is=t,this.ms=e,this.As=n,this.Rs=i,this.Ps=r,this.gs=0,this.Vs=null,this.ys=Date.now(),this.reset()}return t.prototype.reset=function(){this.gs=0},t.prototype.ps=function(){this.gs=this.Ps},t.prototype.bs=function(t){var e=this;this.cancel();var n=Math.floor(this.gs+this.vs()),i=Math.max(0,Date.now()-this.ys),r=Math.max(0,n-i);r>0&&d("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.gs+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.Vs=this.Is.Ss(this.ms,r,(function(){return e.ys=Date.now(),t()})),this.gs*=this.Rs,this.gs<this.As&&(this.gs=this.As),this.gs>this.Ps&&(this.gs=this.Ps)},t.prototype.Ds=function(){null!==this.Vs&&(this.Vs.Cs(),this.Vs=null)},t.prototype.cancel=function(){null!==this.Vs&&(this.Vs.cancel(),this.Vs=null)},t.prototype.vs=function(){return(Math.random()-.5)*this.gs},t}(),Qn=function(){function t(e,n,i){this.name=e,this.version=n,this.Ns=i,12.2===t.Fs(o.getUA())&&f("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return d("SimpleDb","Removing database:",t),ii(window.indexedDB.deleteDatabase(t)).Sn()},t.ks=function(){if("undefined"==typeof indexedDB)return!1;if(t.$s())return!0;var e=o.getUA(),n=t.Fs(e),i=0<n&&n<10,r=t.xs(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)},t.$s=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Os)},t.Ms=function(t,e){return t.store(e)},t.Fs=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.xs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Ls=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(d("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var i=indexedDB.open(e.name,e.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){n(new Jn("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var e=t.target.error;n("VersionError"===e.name?new O(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Jn(e))},i.onupgradeneeded=function(t){d("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion),e.Ns.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,e.version).next((function(){d("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.qs&&(this.db.onversionchange=function(t){return e.qs(t)}),this.db)]}}))}))},t.prototype.Bs=function(t){this.qs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,s,o,a,l;return i.__generator(this,(function(u){switch(u.label){case 0:r="readonly"===t,s=0,o=function(){var t,o,l,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:++s,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,a.Ls()];case 2:return a.db=i.sent(),t=ei.open(a.db,r?"readonly":"readwrite",e),o=n(t).catch((function(e){return t.abort(e),zn.reject(e)})).Sn(),l={},o.catch((function(){})),[4,t.Us];case 3:return[2,(l.value=(i.sent(),o),l)];case 4:return d("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(u=i.sent()).message,c="FirebaseError"!==u.name&&s<3),a.close(),c?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(l=u.sent()))return[2,l.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Xn=function(){function t(t){this.Qs=t,this.Ws=!1,this.js=null}return Object.defineProperty(t.prototype,"yn",{get:function(){return this.Ws},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ks",{get:function(){return this.js},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Qs=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Ws=!0},t.prototype.Gs=function(t){this.js=t},t.prototype.delete=function(){return ii(this.Qs.delete())},t}(),Jn=function(t){function e(e){var n=this;return(n=t.call(this,R.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return i.__extends(e,t),e}(O);function ti(t){return"IndexedDbTransactionError"===t.name}var ei=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.zs=new Yn,this.transaction.oncomplete=function(){e.zs.resolve()},this.transaction.onabort=function(){t.error?e.zs.reject(new Jn(t.error)):e.zs.resolve()},this.transaction.onerror=function(t){var n=si(t.target.error);e.zs.reject(new Jn(n))}}return t.open=function(e,n,i){try{return new t(e.transaction(i,n))}catch(e){throw new Jn(e)}},Object.defineProperty(t.prototype,"Us",{get:function(){return this.zs.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.zs.reject(t),this.aborted||(d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ni(e)},t}(),ni=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ii(n)},t.prototype.add=function(t){return d("SimpleDb","ADD",this.store.name,t,t),ii(this.store.add(t))},t.prototype.get=function(t){var e=this;return ii(this.store.get(t)).next((function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),ii(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),ii(this.store.count())},t.prototype.Hs=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.Ys(n,(function(t,e){i.push(e)})).next((function(){return i}))},t.prototype.Js=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Xs=!1;var i=this.cursor(n);return this.Ys(i,(function(t,e,n){return n.delete()}))},t.prototype.Zs=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.Ys(i,e)},t.prototype.ti=function(t){var e=this.cursor({});return new zn((function(n,i){e.onerror=function(t){var e=si(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next((function(t){t?i.continue():n()})):n()}}))},t.prototype.Ys=function(t,e){var n=[];return new zn((function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var s=new Xn(r),o=e(r.primaryKey,r.value,s);if(o instanceof zn){var a=o.catch((function(t){return s.done(),zn.reject(t)}));n.push(a)}s.yn?i():null===s.Ks?r.continue():r.continue(s.Ks)}else i()}})).next((function(){return zn.Cn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Xs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ii(t){return new zn((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=si(t.target.error);n(e)}}))}var ri=!1;function si(t){var e=Qn.Fs(o.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new O("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ri||(ri=!0,setTimeout((function(){throw i}),0)),i}}return t}function oi(){return"undefined"!=typeof window?window:null}function ai(){return"undefined"!=typeof document?document:null}var li=function(){function t(t,e,n,i,r){this.ei=t,this.ms=e,this.ni=n,this.op=i,this.si=r,this.ii=new Yn,this.then=this.ii.promise.then.bind(this.ii.promise),this.ii.promise.catch((function(t){}))}return t.ri=function(e,n,i,r,s){var o=new t(e,n,Date.now()+i,r,s);return o.start(i),o},t.prototype.start=function(t){var e=this;this.oi=setTimeout((function(){return e.hi()}),t)},t.prototype.Cs=function(){return this.hi()},t.prototype.cancel=function(t){null!==this.oi&&(this.clearTimeout(),this.ii.reject(new O(R.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.hi=function(){var t=this;this.ei.ai((function(){return null!==t.oi?(t.clearTimeout(),t.op().then((function(e){return t.ii.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.oi&&(this.si(this),clearTimeout(this.oi),this.oi=null)},t}(),ui=function(){function t(){var t=this;this.ui=Promise.resolve(),this.ci=[],this.li=!1,this._i=[],this.fi=null,this.di=!1,this.wi=[],this.Ti=new Zn(this,"async_queue_retry"),this.Ei=function(){var e=ai();e&&d("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.Ti.Ds()};var e=ai();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ei)}return Object.defineProperty(t.prototype,"Ii",{get:function(){return this.li},enumerable:!1,configurable:!0}),t.prototype.ai=function(t){this.enqueue(t)},t.prototype.mi=function(t){this.Ai(),this.Ri(t)},t.prototype.Pi=function(){if(!this.li){this.li=!0;var t=ai();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ei)}},t.prototype.enqueue=function(t){return this.Ai(),this.li?new Promise((function(t){})):this.Ri(t)},t.prototype.gi=function(t){var e=this;this.ci.push(t),this.ai((function(){return e.Vi()}))},t.prototype.Vi=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(0===this.ci.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ci[0]()];case 2:return n.sent(),this.ci.shift(),this.Ti.reset(),[3,4];case 3:if(!ti(t=n.sent()))throw t;return d("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ci.length>0&&this.Ti.bs((function(){return e.Vi()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ri=function(t){var e=this,n=this.ui.then((function(){return e.di=!0,t().catch((function(t){throw e.fi=t,e.di=!1,f("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.di=!1,t}))}));return this.ui=n,n},t.prototype.Ss=function(t,e,n){var i=this;this.Ai(),this.wi.indexOf(t)>-1&&(e=0);var r=li.ri(this,t,e,n,(function(t){return i.yi(t)}));return this._i.push(r),r},t.prototype.Ai=function(){this.fi&&g()},t.prototype.pi=function(){},t.prototype.bi=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ui];case 1:e.sent(),e.label=2;case 2:if(t!==this.ui)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vi=function(t){for(var e=0,n=this._i;e<n.length;e++)if(n[e].ms===t)return!0;return!1},t.prototype.Si=function(t){var e=this;return this.bi().then((function(){e._i.sort((function(t,e){return t.ni-e.ni}));for(var n=0,i=e._i;n<i.length;n++){var r=i[n];if(r.Cs(),"all"!==t&&r.ms===t)break}return e.bi()}))},t.prototype.Di=function(t){this.wi.push(t)},t.prototype.yi=function(t){var e=this._i.indexOf(t);this._i.splice(e,1)},t}();function ci(t,e){if(f("AsyncQueue",e+": "+t),ti(t))return new O(R.UNAVAILABLE,e+": "+t);throw t}function hi(t,e){var n=t[1],i=e[1],r=w(t[0],e[0]);return 0===r?w(n,i):r}var di=function(){function t(t){this.Ci=t,this.buffer=new it(hi),this.Ni=0}return t.prototype.Fi=function(){return++this.Ni},t.prototype.ki=function(t){var e=[t,this.Fi()];if(this.buffer.size<this.Ci)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();hi(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),fi={$i:!1,xi:0,Oi:0,Mi:0},pi=function(){function t(t,e,n){this.Li=t,this.qi=e,this.Bi=n}return t.Ui=function(e){return new t(e,t.Qi,t.Wi)},t}();pi.ji=-1,pi.Ki=1048576,pi.Gi=41943040,pi.Qi=10,pi.Wi=1e3,pi.zi=new pi(pi.Gi,pi.Qi,pi.Wi),pi.Hi=new pi(pi.ji,0,0);var mi=function(){function t(t,e){this.Yi=t,this.ei=e,this.Ji=!1,this.Xi=null}return t.prototype.start=function(t){this.Yi.params.Li!==pi.ji&&this.Zi(t)},t.prototype.stop=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Object.defineProperty(t.prototype,"tr",{get:function(){return null!==this.Xi},enumerable:!1,configurable:!0}),t.prototype.Zi=function(t){var e=this,n=this.Ji?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Xi=this.ei.Ss("lru_garbage_collection",n,(function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:this.Xi=null,this.Ji=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.er(this.Yi)];case 2:return n.sent(),[3,7];case 3:return ti(e=n.sent())?(d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Or(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Zi(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),gi=function(){function t(t,e){this.nr=t,this.params=e}return t.prototype.sr=function(t,e){return this.nr.ir(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.rr=function(t,e){var n=this;if(0===e)return zn.resolve(Kn.Es);var i=new di(e);return this.nr.be(t,(function(t){return i.ki(t.sequenceNumber)})).next((function(){return n.nr.or(t,(function(t){return i.ki(t)}))})).next((function(){return i.maxValue}))},t.prototype.hr=function(t,e,n){return this.nr.hr(t,e,n)},t.prototype.ar=function(t,e){return this.nr.ar(t,e)},t.prototype.ur=function(t,e){var n=this;return this.params.Li===pi.ji?(d("LruGarbageCollector","Garbage collection skipped; disabled"),zn.resolve(fi)):this.cr(t).next((function(i){return i<n.params.Li?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.Li),fi):n.lr(t,e)}))},t.prototype.cr=function(t){return this.nr.cr(t)},t.prototype.lr=function(t,e){var n,i,r,o,a,l,u,c=this,f=Date.now();return this.sr(t,this.params.qi).next((function(e){return e>c.params.Bi?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Bi+" from "+e),i=c.params.Bi):i=e,o=Date.now(),c.rr(t,i)})).next((function(i){return n=i,a=Date.now(),c.hr(t,n,e)})).next((function(e){return r=e,l=Date.now(),c.ar(t,n)})).next((function(t){return u=Date.now(),h()<=s.LogLevel.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-f)+"ms\n\tDetermined least recently used "+i+" in "+(a-o)+"ms\n\tRemoved "+r+" targets in "+(l-a)+"ms\n\tRemoved "+t+" documents in "+(u-l)+"ms\nTotal Duration: "+(u-f)+"ms"),zn.resolve({$i:!0,xi:i,Oi:r,Mi:t})}))},t}();function _i(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=vi(e)),e=yi(t.get(n),e);return vi(e)}function yi(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var s=t.charAt(r);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function vi(t){return t+"\x01\x01"}function bi(t){var e=t.length;if(_(e>=2),2===e)return _("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),F.$();for(var n=e-2,i=[],r="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&g(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),l=void 0;0===r.length?l=a:(l=r+=a,r=""),i.push(l);break;case"\x10":r+=t.substring(s,o),r+="\0";break;case"\x11":r+=t.substring(s,o+1);break;default:g()}s=o+2}return new F(i)}var wi=function(t){this._r=t};function Ci(t,e){if(e.document)return function(t,e,n){var i=re(t,e.name),r=te(e.updateTime),s=new en({mapValue:{fields:e.fields}});return new on(i,r,s,{hasCommittedMutations:!!n})}(t._r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=V.K(e.noDocument.path),i=ki(e.noDocument.readTime);return new an(n,i,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var r=V.K(e.unknownDocument.path),s=ki(e.unknownDocument.version);return new ln(r,s)}return g()}function Ei(t,e,n){var i=Si(n),r=e.key.path.p().N();if(e instanceof on){var s=function(t,e){return{name:ie(t,e.key),fields:e.tn().mapValue.fields,updateTime:Qt(t,e.version.A())}}(t._r,e);return new Xi(null,null,s,e.hasCommittedMutations,i,r)}if(e instanceof an){var o=e.key.path.N(),a=Ii(e.version),l=e.hasCommittedMutations;return new Xi(null,new Zi(o,a),null,l,i,r)}if(e instanceof ln){var u=e.key.path.N(),c=Ii(e.version);return new Xi(new Qi(u,c),null,null,!0,i,r)}return g()}function Si(t){var e=t.A();return[e.seconds,e.nanoseconds]}function xi(t){var e=new D(t[0],t[1]);return N.I(e)}function Ii(t){var e=t.A();return new Gi(e.seconds,e.nanoseconds)}function ki(t){var e=new D(t.seconds,t.nanoseconds);return N.I(e)}function Ti(t,e){var n=(e.baseMutations||[]).map((function(e){return he(t._r,e)})),i=e.mutations.map((function(e){return he(t._r,e)})),r=D.fromMillis(e.localWriteTimeMs);return new jn(e.batchId,r,n,i)}function Ai(t){var e,n,i=ki(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?ki(t.lastLimboFreeSnapshotVersion):N.min();return void 0!==t.query.documents?(_(1===(n=t.query).documents.length),e=mn(dn(oe(n.documents[0])))):e=function(t){var e=oe(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){_(1===i);var s=n.from[0];s.allDescendants?r=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[we(e)]:void 0!==e.fieldFilter?[be(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):g():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Mn(ve(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var l=null;n.limit&&(l=function(t){var e;return U(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=me(n.startAt));var c=null;return n.endAt&&(c=me(n.endAt)),mn(hn(e,r,a,o,l,"F",u,c))}(t.query),new Z(e,t.targetId,0,t.lastListenSequenceNumber,i,r,W.fromBase64String(t.resumeToken))}function Ri(t,e){var n,i=Ii(e.Z),r=Ii(e.lastLimboFreeSnapshotVersion);n=$(e.target)?de(t._r,e.target):fe(t._r,e.target);var s=e.resumeToken.toBase64();return new tr(e.targetId,H(e.target),i,s,e.sequenceNumber,r,n)}var Oi=function(){function t(t,e,n,i){this.userId=t,this.serializer=e,this.zn=n,this.dr=i,this.wr={}}return t.Tr=function(e,n,i,r){return _(""!==e.uid),new t(e.Er()?e.uid:"",n,i,r)},t.prototype.Ir=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pi(t).Zs({index:Ki.userMutationsIndex,range:n},(function(t,n,i){e=!1,i.done()})).next((function(){return e}))},t.prototype.mr=function(t,e,n,i){var r=this,s=Fi(t),o=Pi(t);return o.add({}).next((function(a){_("number"==typeof a);for(var l=new jn(a,e,n,i),u=function(t,e,n){var i=n.baseMutations.map((function(e){return ce(t._r,e)})),r=n.mutations.map((function(e){return ce(t._r,e)}));return new Ki(e,n.batchId,n.Tn.toMillis(),i,r)}(r.serializer,r.userId,l),c=[],h=new it((function(t,e){return w(t.F(),e.F())})),d=0,f=i;d<f.length;d++){var p=f[d],m=Yi.key(r.userId,p.key.path,a);h=h.add(p.key.path.p()),c.push(o.put(u)),c.push(s.put(m,Yi.PLACEHOLDER))}return h.forEach((function(e){c.push(r.zn.Ar(t,e))})),t.Wn((function(){r.wr[a]=l.keys()})),zn.Cn(c).next((function(){return l}))}))},t.prototype.Rr=function(t,e){var n=this;return Pi(t).get(e).next((function(t){return t?(_(t.userId===n.userId),Ti(n.serializer,t)):null}))},t.prototype.Pr=function(t,e){var n=this;return this.wr[e]?zn.resolve(this.wr[e]):this.Rr(t,e).next((function(t){if(t){var i=t.keys();return n.wr[e]=i,i}return null}))},t.prototype.gr=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Pi(t).Zs({index:Ki.userMutationsIndex,range:r},(function(t,e,r){e.userId===n.userId&&(_(e.batchId>=i),s=Ti(n.serializer,e)),r.done()})).next((function(){return s}))},t.prototype.Vr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Pi(t).Zs({index:Ki.userMutationsIndex,range:e,reverse:!0},(function(t,e,i){n=e.batchId,i.done()})).next((function(){return n}))},t.prototype.yr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pi(t).Hs(Ki.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ti(e.serializer,t)}))}))},t.prototype.Yn=function(t,e){var n=this,i=Yi.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Fi(t).Zs({range:r},(function(i,r,o){var a=i[0],l=i[2],u=bi(i[1]);if(a===n.userId&&e.path.isEqual(u))return Pi(t).get(l).next((function(t){if(!t)throw g();_(t.userId===n.userId),s.push(Ti(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.es=function(t,e){var n=this,i=new it(w),r=[];return e.forEach((function(e){var s=Yi.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Fi(t).Zs({range:o},(function(t,r,s){var o=t[0],a=t[2],l=bi(t[1]);o===n.userId&&e.path.isEqual(l)?i=i.add(a):s.done()}));r.push(a)})),zn.Cn(r).next((function(){return n.pr(t,i)}))},t.prototype.as=function(t,e){var n=this,i=e.path,r=i.length+1,s=Yi.prefixForPath(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new it(w);return Fi(t).Zs({range:o},(function(t,e,s){var o=t[0],l=t[2],u=bi(t[1]);o===n.userId&&i.D(u)?u.length===r&&(a=a.add(l)):s.done()})).next((function(){return n.pr(t,a)}))},t.prototype.pr=function(t,e){var n=this,i=[],r=[];return e.forEach((function(e){r.push(Pi(t).get(e).next((function(t){if(null===t)throw g();_(t.userId===n.userId),i.push(Ti(n.serializer,t))})))})),zn.Cn(r).next((function(){return i}))},t.prototype.br=function(t,e){var n=this;return Ni(t.vr,this.userId,e).next((function(i){return t.Wn((function(){n.Sr(e.batchId)})),zn.forEach(i,(function(e){return n.dr.Dr(t,e)}))}))},t.prototype.Sr=function(t){delete this.wr[t]},t.prototype.Cr=function(t){var e=this;return this.Ir(t).next((function(n){if(!n)return zn.resolve();var i=IDBKeyRange.lowerBound(Yi.prefixForUser(e.userId)),r=[];return Fi(t).Zs({range:i},(function(t,n,i){if(t[0]===e.userId){var s=bi(t[1]);r.push(s)}else i.done()})).next((function(){_(0===r.length)}))}))},t.prototype.Nr=function(t,e){return Di(t,this.userId,e)},t.prototype.Fr=function(t){var e=this;return Li(t).get(this.userId).next((function(t){return t||new Wi(e.userId,-1,"")}))},t}();function Di(t,e,n){var i=Yi.prefixForPath(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return Fi(t).Zs({range:s,Xs:!0},(function(t,n,i){t[0]===e&&t[1]===r&&(o=!0),i.done()})).next((function(){return o}))}function Ni(t,e,n){var i=t.store(Ki.store),r=t.store(Yi.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,l=i.Zs({range:o},(function(t,e,n){return a++,n.delete()}));s.push(l.next((function(){_(1===a)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=Yi.key(e,d.key.path,n.batchId);s.push(r.delete(f)),u.push(d.key)}return zn.Cn(s).next((function(){return u}))}function Pi(t){return gr.Ms(t,Ki.store)}function Fi(t){return gr.Ms(t,Yi.store)}function Li(t){return gr.Ms(t,Wi.store)}var Mi=function(){function t(t,e){this.serializer=t,this.zn=e}return t.prototype.xn=function(t,e,n){return Ui(t).put(ji(e),n)},t.prototype.Mn=function(t,e){var n=Ui(t),i=ji(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(i){return i.byteSize+=e,n.kr(t,i)}))},t.prototype.Ln=function(t,e){var n=this;return Ui(t).get(ji(e)).next((function(t){return n.$r(t)}))},t.prototype.xr=function(t,e){var n=this;return Ui(t).get(ji(e)).next((function(t){var e=n.$r(t);return e?{Or:e,size:Bi(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,i=at();return this.Mr(t,e,(function(t,e){var r=n.$r(e);i=i.st(t,r)})).next((function(){return i}))},t.prototype.Lr=function(t,e){var n=this,i=at(),r=new tt(V.P);return this.Mr(t,e,(function(t,e){var s=n.$r(e);s?(i=i.st(t,s),r=r.st(t,Bi(e))):(i=i.st(t,null),r=r.st(t,0))})).next((function(){return{qr:i,Br:r}}))},t.prototype.Mr=function(t,e,n){if(e._())return zn.resolve();var i=IDBKeyRange.bound(e.first().path.N(),e.last().path.N()),r=e.ut(),s=r.wt();return Ui(t).Zs({range:i},(function(t,e,i){for(var o=V.K(t);s&&V.P(s,o)<0;)n(s,null),s=r.wt();s&&s.isEqual(o)&&(n(s,e),s=r.Tt()?r.wt():null),s?i.Gs(s.path.N()):i.done()})).next((function(){for(;s;)n(s,null),s=r.Tt()?r.wt():null}))},t.prototype.ns=function(t,e,n){var i=this,r=ut(),s=e.path.length+1,o={};if(n.isEqual(N.min())){var a=e.path.N();o.range=IDBKeyRange.lowerBound(a)}else{var l=e.path.N(),u=Si(n);o.range=IDBKeyRange.lowerBound([l,u],!0),o.index=Xi.collectionReadTimeIndex}return Ui(t).Zs(o,(function(t,n,o){if(t.length===s){var a=Ci(i.serializer,n);e.path.D(a.key.path)?a instanceof on&&Cn(e,a)&&(r=r.st(a.key,a)):o.done()}})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,i=ot(),r=Si(e),s=Ui(t),o=IDBKeyRange.lowerBound(r,!0);return s.Zs({index:Xi.readTimeIndex,range:o},(function(t,e){var s=Ci(n.serializer,e);i=i.st(s.key,s),r=e.readTime})).next((function(){return{Qr:i,readTime:xi(r)}}))},t.prototype.Wr=function(t){var e=Ui(t),n=N.min();return e.Zs({index:Xi.readTimeIndex,reverse:!0},(function(t,e,i){e.readTime&&(n=xi(e.readTime)),i.done()})).next((function(){return n}))},t.prototype.jr=function(e){return new t.Kr(this,!!e&&e.Gr)},t.prototype.zr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Vi(t).get(Ji.key).next((function(t){return _(!!t),t}))},t.prototype.kr=function(t,e){return Vi(t).put(Ji.key,e)},t.prototype.$r=function(t){if(t){var e=Ci(this.serializer,t);return e instanceof an&&e.version.isEqual(N.min())?null:e}return null},t}();function Vi(t){return gr.Ms(t,Ji.store)}function Ui(t){return gr.Ms(t,Xi.store)}function ji(t){return t.path.N()}function Bi(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw g();e=t.noDocument}return JSON.stringify(e).length}Mi.Kr=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Hr=e,i.Gr=n,i.Yr=new A((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),i}return i.__extends(e,t),e.prototype.Un=function(t){var e=this,n=[],i=0,r=new it((function(t,e){return w(t.F(),e.F())}));return this.Fn.forEach((function(s,o){var a=e.Yr.get(s);if(o){var l=Ei(e.Hr.serializer,o,e.readTime);r=r.add(s.path.p());var u=Bi(l);i+=u-a,n.push(e.Hr.xn(t,s,l))}else if(i-=a,e.Gr){var c=Ei(e.Hr.serializer,new an(s,N.min()),e.readTime);n.push(e.Hr.xn(t,s,c))}else n.push(e.Hr.Mn(t,s))})),r.forEach((function(i){n.push(e.Hr.zn.Ar(t,i))})),n.push(this.Hr.updateMetadata(t,i)),zn.Cn(n)},e.prototype.qn=function(t,e){var n=this;return this.Hr.xr(t,e).next((function(t){return null===t?(n.Yr.set(e,0),null):(n.Yr.set(e,t.size),t.Or)}))},e.prototype.Bn=function(t,e){var n=this;return this.Hr.Lr(t,e).next((function(t){var e=t.qr;return t.Br.forEach((function(t,e){n.Yr.set(t,e)})),e}))},e}(qn);var zi=function(){function t(){this.Jr=new qi}return t.prototype.Ar=function(t,e){return this.Jr.add(e),zn.resolve()},t.prototype.hs=function(t,e){return zn.resolve(this.Jr.getEntries(e))},t}(),qi=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),i=this.index[e]||new it(F.P),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.S(),n=t.p(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new it(F.P)).N()},t}(),Hi=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,i){var r=this;_(n<i&&n>=0&&i<=10);var s=new ei(e);n<1&&i>=1&&(function(t){t.createObjectStore($i.store)}(t),function(t){t.createObjectStore(Wi.store,{keyPath:Wi.keyPath}),t.createObjectStore(Ki.store,{keyPath:Ki.keyPath,autoIncrement:!0}).createIndex(Ki.userMutationsIndex,Ki.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Yi.store)}(t),rr(t),function(t){t.createObjectStore(Xi.store)}(t));var o=zn.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(er.store),t.deleteObjectStore(tr.store),t.deleteObjectStore(nr.store)}(t),rr(t)),o=o.next((function(){return function(t){var e=t.store(nr.store),n=new nr(0,0,N.min().A(),0);return e.put(nr.key,n)}(s)}))),n<4&&i>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Ki.store).Hs().next((function(n){t.deleteObjectStore(Ki.store),t.createObjectStore(Ki.store,{keyPath:Ki.keyPath,autoIncrement:!0}).createIndex(Ki.userMutationsIndex,Ki.userMutationsKeyPath,{unique:!0});var i=e.store(Ki.store),r=n.map((function(t){return i.put(t)}));return zn.Cn(r)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(sr.store,{keyPath:sr.keyPath})}(t)}))),n<5&&i>=5&&(o=o.next((function(){return r.removeAcknowledgedMutations(s)}))),n<6&&i>=6&&(o=o.next((function(){return function(t){t.createObjectStore(Ji.store)}(t),r.addDocumentGlobal(s)}))),n<7&&i>=7&&(o=o.next((function(){return r.ensureSequenceNumbers(s)}))),n<8&&i>=8&&(o=o.next((function(){return r.createCollectionParentIndex(t,s)}))),n<9&&i>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Xi.store);e.createIndex(Xi.readTimeIndex,Xi.readTimeIndexPath,{unique:!1}),e.createIndex(Xi.collectionReadTimeIndex,Xi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&i>=10&&(o=o.next((function(){return r.rewriteCanonicalIds(s)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Xi.store).Zs((function(t,n){e+=Bi(n)})).next((function(){var n=new Ji(e);return t.store(Ji.store).put(Ji.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Wi.store),i=t.store(Ki.store);return n.Hs().next((function(n){return zn.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.Hs(Ki.userMutationsIndex,r).next((function(i){return zn.forEach(i,(function(i){_(i.userId===n.userId);var r=Ti(e.serializer,i);return Ni(t,n.userId,r).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(er.store),n=t.store(Xi.store);return t.store(nr.store).get(nr.key).next((function(t){var i=[];return n.Zs((function(n,r){var s=new F(n),o=function(t){return[0,_i(t)]}(s);i.push(e.get(o).next((function(n){return n?zn.resolve():function(n){return e.put(new er(0,_i(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return zn.Cn(i)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ir.store,{keyPath:ir.keyPath});var n=e.store(ir.store),i=new qi,r=function(t){if(i.add(t)){var e=t.S(),r=t.p();return n.put({collectionId:e,parent:_i(r)})}};return e.store(Xi.store).Zs({Xs:!0},(function(t,e){var n=new F(t);return r(n.p())})).next((function(){return e.store(Yi.store).Zs({Xs:!0},(function(t,e){var n=bi(t[1]);return r(n.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(tr.store);return n.Zs((function(t,i){var r=Ai(i),s=Ri(e.serializer,r);return n.put(s)}))},t}(),Gi=function(t,e){this.seconds=t,this.nanoseconds=e},$i=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};$i.store="owner",$i.key="owner";var Wi=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Wi.store="mutationQueues",Wi.keyPath="userId";var Ki=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};Ki.store="mutations",Ki.keyPath="batchId",Ki.userMutationsIndex="userMutationsIndex",Ki.userMutationsKeyPath=["userId","batchId"];var Yi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,_i(e)]},t.key=function(t,e,n){return[t,_i(e),n]},t}();Yi.store="documentMutations",Yi.PLACEHOLDER=new Yi;var Zi=function(t,e){this.path=t,this.readTime=e},Qi=function(t,e){this.path=t,this.version=e},Xi=function(t,e,n,i,r,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s};Xi.store="remoteDocuments",Xi.readTimeIndex="readTimeIndex",Xi.readTimeIndexPath="readTime",Xi.collectionReadTimeIndex="collectionReadTimeIndex",Xi.collectionReadTimeIndexPath=["parentPath","readTime"];var Ji=function(t){this.byteSize=t};Ji.store="remoteDocumentGlobal",Ji.key="remoteDocumentGlobalKey";var tr=function(t,e,n,i,r,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=o};tr.store="targets",tr.keyPath="targetId",tr.queryTargetsIndexName="queryTargetsIndex",tr.queryTargetsKeyPath=["canonicalId","targetId"];var er=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};er.store="targetDocuments",er.keyPath=["targetId","path"],er.documentTargetsIndex="documentTargetsIndex",er.documentTargetsKeyPath=["path","targetId"];var nr=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};nr.key="targetGlobalKey",nr.store="targetGlobal";var ir=function(t,e){this.collectionId=t,this.parent=e};function rr(t){t.createObjectStore(er.store,{keyPath:er.keyPath}).createIndex(er.documentTargetsIndex,er.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(tr.store,{keyPath:tr.keyPath}).createIndex(tr.queryTargetsIndexName,tr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(nr.store)}ir.store="collectionParents",ir.keyPath=["collectionId","parent"];var sr=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};sr.store="clientMetadata",sr.keyPath="clientId";var or=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([Wi.store,Ki.store,Yi.store,Xi.store,tr.store,$i.store,nr.store,er.store],[sr.store]),[Ji.store]),[ir.store]),ar=function(){function t(){this.Xr=new qi}return t.prototype.Ar=function(t,e){var n=this;if(!this.Xr.has(e)){var i=e.S(),r=e.p();t.Wn((function(){n.Xr.add(e)}));var s={collectionId:i,parent:_i(r)};return lr(t).put(s)}return zn.resolve()},t.prototype.hs=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[E(e),""],!1,!0);return lr(t).Hs(i).next((function(t){for(var i=0,r=t;i<r.length;i++){var s=r[i];if(s.collectionId!==e)break;n.push(bi(s.parent))}return n}))},t}();function lr(t){return gr.Ms(t,ir.store)}var ur=function(){function t(t){this.Zr=t}return t.prototype.next=function(){return this.Zr+=2,this.Zr},t.to=function(){return new t(0)},t.eo=function(){return new t(-1)},t}(),cr=function(){function t(t,e){this.dr=t,this.serializer=e}return t.prototype.no=function(t){var e=this;return this.so(t).next((function(n){var i=new ur(n.highestTargetId);return n.highestTargetId=i.next(),e.io(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.ro=function(t){return this.so(t).next((function(t){return N.I(new D(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.oo=function(t){return this.so(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ho=function(t,e,n){var i=this;return this.so(t).next((function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.A()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.io(t,r)}))},t.prototype.ao=function(t,e){var n=this;return this.uo(t,e).next((function(){return n.so(t).next((function(i){return i.targetCount+=1,n.co(e,i),n.io(t,i)}))}))},t.prototype.lo=function(t,e){return this.uo(t,e)},t.prototype._o=function(t,e){var n=this;return this.fo(t,e.targetId).next((function(){return hr(t).delete(e.targetId)})).next((function(){return n.so(t)})).next((function(e){return _(e.targetCount>0),e.targetCount-=1,n.io(t,e)}))},t.prototype.hr=function(t,e,n){var i=this,r=0,s=[];return hr(t).Zs((function(o,a){var l=Ai(a);l.sequenceNumber<=e&&null===n.get(l.targetId)&&(r++,s.push(i._o(t,l)))})).next((function(){return zn.Cn(s)})).next((function(){return r}))},t.prototype.be=function(t,e){return hr(t).Zs((function(t,n){var i=Ai(n);e(i)}))},t.prototype.so=function(t){return dr(t).get(nr.key).next((function(t){return _(null!==t),t}))},t.prototype.io=function(t,e){return dr(t).put(nr.key,e)},t.prototype.uo=function(t,e){return hr(t).put(Ri(this.serializer,e))},t.prototype.co=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.do=function(t){return this.so(t).next((function(t){return t.targetCount}))},t.prototype.wo=function(t,e){var n=H(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return hr(t).Zs({range:i,index:tr.queryTargetsIndexName},(function(t,n,i){var s=Ai(n);G(e,s.target)&&(r=s,i.done())})).next((function(){return r}))},t.prototype.To=function(t,e,n){var i=this,r=[],s=fr(t);return e.forEach((function(e){var o=_i(e.path);r.push(s.put(new er(n,o))),r.push(i.dr.Eo(t,n,e))})),zn.Cn(r)},t.prototype.Io=function(t,e,n){var i=this,r=fr(t);return zn.forEach(e,(function(e){var s=_i(e.path);return zn.Cn([r.delete([n,s]),i.dr.mo(t,n,e)])}))},t.prototype.fo=function(t,e){var n=fr(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.Ao=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=fr(t),r=dt();return i.Zs({range:n,Xs:!0},(function(t,e,n){var i=bi(t[1]),s=new V(i);r=r.add(s)})).next((function(){return r}))},t.prototype.Nr=function(t,e){var n=_i(e.path),i=IDBKeyRange.bound([n],[E(n)],!1,!0),r=0;return fr(t).Zs({index:er.documentTargetsIndex,Xs:!0,range:i},(function(t,e,n){0!==t[0]&&(r++,n.done())})).next((function(){return r>0}))},t.prototype.Me=function(t,e){return hr(t).get(e).next((function(t){return t?Ai(t):null}))},t}();function hr(t){return gr.Ms(t,tr.store)}function dr(t){return gr.Ms(t,nr.store)}function fr(t){return gr.Ms(t,er.store)}var pr="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",mr=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).vr=e,i.Ro=n,i}return i.__extends(e,t),e}(Gn),gr=function(){function t(e,n,i,r,s,o,a,l,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Is=s,this.window=o,this.document=a,this.Po=u,this.Vo=c,this.yo=null,this.po=!1,this.isPrimary=!1,this.networkEnabled=!0,this.bo=null,this.inForeground=!1,this.vo=null,this.So=null,this.Do=Number.NEGATIVE_INFINITY,this.Co=function(t){return Promise.resolve()},!t.ks())throw new O(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.dr=new vr(this,r),this.No=n+"main",this.serializer=new wi(l),this.Fo=new Qn(this.No,10,new Hi(this.serializer)),this.ko=new cr(this.dr,this.serializer),this.zn=new ar,this.Kn=new Mi(this.serializer,this.zn),this.window&&this.window.localStorage?this.$o=this.window.localStorage:(this.$o=null,!1===c&&f("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ms=function(t,e){if(t instanceof mr)return Qn.Ms(t.vr,e);throw g()},t.prototype.start=function(){var t=this;return this.xo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new O(R.FAILED_PRECONDITION,pr);return t.Oo(),t.Mo(),t.Lo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ko.oo(e)}))})).then((function(e){t.yo=new Kn(e,t.Po)})).then((function(){t.po=!0})).catch((function(e){return t.Fo&&t.Fo.close(),Promise.reject(e)}))},t.prototype.qo=function(t){var e=this;return this.Co=function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Bo=function(t){var e=this;this.Fo.Bs((function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Uo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Is.ai((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.tr?[4,this.xo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.xo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return yr(e).put(new sr(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Qo(e).next((function(e){e||(t.isPrimary=!1,t.Is.gi((function(){return t.Co(!1)})))}))})).next((function(){return t.Wo(e)})).next((function(n){return t.isPrimary&&!n?t.jo(e).next((function(){return!1})):!!n&&t.Ko(e).next((function(){return!0}))}))})).catch((function(e){if(ti(e))return d("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Is.gi((function(){return t.Co(e)})),t.isPrimary=e}))},t.prototype.Qo=function(t){var e=this;return _r(t).get($i.key).next((function(t){return zn.resolve(e.Go(t))}))},t.prototype.zo=function(t){return yr(t).delete(this.clientId)},t.prototype.Ho=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Yo(this.Do,18e5)?[3,2]:(this.Do=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ms(e,sr.store);return n.Hs().next((function(t){var e=s.Jo(t,18e5),i=t.filter((function(t){return-1===e.indexOf(t)}));return zn.forEach(i,(function(t){return n.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.$o)for(n=0,r=e;n<r.length;n++)this.$o.removeItem(this.Xo(r[n].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Lo=function(){var t=this;this.So=this.Is.Ss("client_metadata_refresh",4e3,(function(){return t.xo().then((function(){return t.Ho()})).then((function(){return t.Lo()}))}))},t.prototype.Go=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Wo=function(t){var e=this;return this.Vo?zn.resolve(!0):_r(t).get($i.key).next((function(n){if(null!==n&&e.Yo(n.leaseTimestampMs,5e3)&&!e.Zo(n.ownerId)){if(e.Go(n)&&e.networkEnabled)return!0;if(!e.Go(n)){if(!n.allowTabSynchronization)throw new O(R.FAILED_PRECONDITION,pr);return!1}}return!(!e.networkEnabled||!e.inForeground)||yr(t).Hs().next((function(t){return void 0===e.Jo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&d("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.th=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){switch(e.label){case 0:return this.po=!1,this.eh(),this.So&&(this.So.cancel(),this.So=null),this.nh(),this.sh(),[4,this.Fo.runTransaction("readwrite",[$i.store,sr.store],(function(e){var n=new mr(e,Kn.Es);return t.jo(n).next((function(){return t.zo(n)}))}))];case 1:return e.sent(),this.Fo.close(),this.ih(),[2]}}))}))},t.prototype.Jo=function(t,e){var n=this;return t.filter((function(t){return n.Yo(t.updateTimeMs,e)&&!n.Zo(t.clientId)}))},t.prototype.rh=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return yr(e).Hs().next((function(e){return t.Jo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.oh=function(t){return Oi.Tr(t,this.serializer,this.zn,this.dr)},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.Kn},t.prototype.uh=function(){return this.zn},t.prototype.runTransaction=function(t,e,n){var i,r=this;return d("IndexedDbPersistence","Starting transaction:",t),this.Fo.runTransaction("readonly"===e?"readonly":"readwrite",or,(function(s){return i=new mr(s,r.yo?r.yo.next():Kn.Es),"readwrite-primary"===e?r.Qo(i).next((function(t){return!!t||r.Wo(i)})).next((function(e){if(!e)throw f("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Is.gi((function(){return r.Co(!1)})),new O(R.FAILED_PRECONDITION,Hn);return n(i)})).next((function(t){return r.Ko(i).next((function(){return t}))})):r.lh(i).next((function(){return n(i)}))})).then((function(t){return i.jn(),t}))},t.prototype.lh=function(t){var e=this;return _r(t).get($i.key).next((function(t){if(null!==t&&e.Yo(t.leaseTimestampMs,5e3)&&!e.Zo(t.ownerId)&&!e.Go(t)&&!(e.Vo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new O(R.FAILED_PRECONDITION,pr)}))},t.prototype.Ko=function(t){var e=new $i(this.clientId,this.allowTabSynchronization,Date.now());return _r(t).put($i.key,e)},t.ks=function(){return Qn.ks()},t.prototype.jo=function(t){var e=this,n=_r(t);return n.get($i.key).next((function(t){return e.Go(t)?(d("IndexedDbPersistence","Releasing primary lease."),n.delete($i.key)):zn.resolve()}))},t.prototype.Yo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(f("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Oo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.vo=function(){t.Is.ai((function(){return t.inForeground="visible"===t.document.visibilityState,t.xo()}))},this.document.addEventListener("visibilitychange",this.vo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.nh=function(){this.vo&&(this.document.removeEventListener("visibilitychange",this.vo),this.vo=null)},t.prototype.Mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.bo=function(){e.eh(),e.Is.ai((function(){return e.th()}))},this.window.addEventListener("unload",this.bo))},t.prototype.sh=function(){this.bo&&(this.window.removeEventListener("unload",this.bo),this.bo=null)},t.prototype.Zo=function(t){var e;try{var n=null!==(null===(e=this.$o)||void 0===e?void 0:e.getItem(this.Xo(t)));return d("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return f("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.eh=function(){if(this.$o)try{this.$o.setItem(this.Xo(this.clientId),String(Date.now()))}catch(i){f("Failed to set zombie client id.",i)}},t.prototype.ih=function(){if(this.$o)try{this.$o.removeItem(this.Xo(this.clientId))}catch(i){}},t.prototype.Xo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function _r(t){return gr.Ms(t,$i.store)}function yr(t){return gr.Ms(t,sr.store)}var vr=function(){function t(t,e){this.db=t,this.Yi=new gi(this,e)}return t.prototype.ir=function(t){var e=this._h(t);return this.db.hh().do(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype._h=function(t){var e=0;return this.or(t,(function(t){e++})).next((function(){return e}))},t.prototype.be=function(t,e){return this.db.hh().be(t,e)},t.prototype.or=function(t,e){return this.fh(t,(function(t,n){return e(n)}))},t.prototype.Eo=function(t,e,n){return br(t,n)},t.prototype.mo=function(t,e,n){return br(t,n)},t.prototype.hr=function(t,e,n){return this.db.hh().hr(t,e,n)},t.prototype.Dr=function(t,e){return br(t,e)},t.prototype.dh=function(t,e){return function(t,e){var n=!1;return Li(t).ti((function(i){return Di(t,i,e).next((function(t){return t&&(n=!0),zn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.ar=function(t,e){var n=this,i=this.db.ah().jr(),r=[],s=0;return this.fh(t,(function(o,a){if(a<=e){var l=n.dh(t,o).next((function(e){if(!e)return s++,i.Ln(t,o).next((function(){return i.Mn(o),fr(t).delete([0,_i(o.path)])}))}));r.push(l)}})).next((function(){return zn.Cn(r)})).next((function(){return i.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.tt(t.Ro);return this.db.hh().lo(t,n)},t.prototype.wh=function(t,e){return br(t,e)},t.prototype.fh=function(t,e){var n,i=fr(t),r=Kn.Es;return i.Zs({index:er.documentTargetsIndex},(function(t,i){var s=i.path,o=i.sequenceNumber;0===t[0]?(r!==Kn.Es&&e(new V(bi(n)),r),r=o,n=s):r=Kn.Es})).next((function(){r!==Kn.Es&&e(new V(bi(n)),r)}))},t.prototype.cr=function(t){return this.db.ah().zr(t)},t}();function br(t,e){return fr(t).put(function(t,e){return new er(0,_i(t.path),e)}(e,t.Ro))}function wr(t,e){var n=t.projectId;return t.i||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Cr=function(){function t(t,e,n){this.persistence=t,this.Th=e,this.Eh=new tt(w),this.Ih=new A((function(t){return H(t)}),G),this.mh=N.min(),this.Gn=t.oh(n),this.Ah=t.ah(),this.ko=t.hh(),this.Rh=new $n(this.Ah,this.Gn,this.persistence.uh()),this.Th.Ph(this.Rh)}return t.prototype.er=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.ur(n,e.Eh)}))},t}();function Er(t,e){var n=y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var i=e.batch.keys(),r=n.Ah.jr({Gr:!0});return function(t,e,n,i){var r=n.batch,s=r.keys(),o=zn.resolve();return s.forEach((function(t){o=o.next((function(){return i.Ln(e,t)})).next((function(e){var s=e,o=n.Pn.get(t);_(null!==o),(!s||s.version.o(o)<0)&&(s=r.En(t,s,n))&&i.xn(s,n.Rn)}))})),o.next((function(){return t.Gn.br(e,r)}))}(n,t,e,r).next((function(){return r.apply(t)})).next((function(){return n.Gn.Cr(t)})).next((function(){return n.Rh.Zn(t,i)}))}))}function Sr(t){var e=y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ko.ro(t)}))}function xr(t,e){var n=y(t),i=e.Z,r=n.Eh;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Ah.jr({Gr:!0});r=n.Eh;var o=[];e.Wt.forEach((function(e,s){var a=r.get(s);if(a){o.push(n.ko.Io(t,e.Zt,s).next((function(){return n.ko.To(t,e.Jt,s)})));var l=e.resumeToken;if(l.Y()>0){var u=a.et(l,i).tt(t.Ro);r=r.st(s,u),function(t,e,n){return _(e.resumeToken.Y()>0),0===t.resumeToken.Y()||e.Z.m()-t.Z.m()>=3e8||n.Jt.size+n.Xt.size+n.Zt.size>0}(a,u,e)&&o.push(n.ko.lo(t,u))}}}));var a=ot(),l=dt();if(e.Kt.forEach((function(t,e){l=l.add(t)})),o.push(s.getEntries(t,l).next((function(r){e.Kt.forEach((function(l,u){var c=r.get(l);u instanceof an&&u.version.isEqual(N.min())?(s.Mn(l,i),a=a.st(l,u)):null==c||u.version.o(c.version)>0||0===u.version.o(c.version)&&c.hasPendingWrites?(s.xn(u,i),a=a.st(l,u)):d("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version),e.Gt.has(l)&&o.push(n.persistence.dr.wh(t,l))}))}))),!i.isEqual(N.min())){var u=n.ko.ro(t).next((function(e){return n.ko.ho(t,t.Ro,i)}));o.push(u)}return zn.Cn(o).next((function(){return s.apply(t)})).next((function(){return n.Rh.ts(t,a)}))})).then((function(t){return n.Eh=r,t}))}function Ir(t,e){var n=y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Gn.gr(t,e)}))}function kr(t,e){var n=y(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var i;return n.ko.wo(t,e).next((function(r){return r?zn.resolve(i=r):n.ko.no(t).next((function(r){return i=new Z(e,r,0,t.Ro),n.ko.ao(t,i).next((function(){return i}))}))}))})).then((function(t){var i=n.Eh.get(t.targetId);return(null===i||t.Z.o(i.Z)>0)&&(n.Eh=n.Eh.st(t.targetId,t),n.Ih.set(e,t.targetId)),t}))}function Tr(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,s,o,a;return i.__generator(this,(function(i){switch(i.label){case 0:r=y(t),s=r.Eh.get(e),o=n?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.dr.removeTarget(t,s)}))];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!ti(a=i.sent()))throw a;return d("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Eh=r.Eh.remove(e),r.Ih.delete(s.target),[2]}}))}))}function Ar(t,e,n){var i=y(t),r=N.min(),s=dt();return i.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var i=y(t),r=i.Ih.get(n);return void 0!==r?zn.resolve(i.Eh.get(r)):i.ko.wo(e,n)}(i,t,mn(e)).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.ko.Ao(t,e.targetId).next((function(t){s=t}))})).next((function(){return i.Th.ns(t,e,n?r:N.min(),n?s:dt())})).next((function(t){return{documents:t,gh:s}}))}))}function Rr(t,e){var n=y(t),i=y(n.ko),r=n.Eh.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return i.Me(t,e).next((function(t){return t?t.target:null}))}))}function Or(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(t.code!==R.FAILED_PRECONDITION||t.message!==Hn)throw t;return d("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Dr=function(){function t(){this.Vh=new it(Nr.yh),this.ph=new it(Nr.bh)}return t.prototype._=function(){return this.Vh._()},t.prototype.Eo=function(t,e){var n=new Nr(t,e);this.Vh=this.Vh.add(n),this.ph=this.ph.add(n)},t.prototype.vh=function(t,e){var n=this;t.forEach((function(t){return n.Eo(t,e)}))},t.prototype.mo=function(t,e){this.Sh(new Nr(t,e))},t.prototype.Dh=function(t,e){var n=this;t.forEach((function(t){return n.mo(t,e)}))},t.prototype.Ch=function(t){var e=this,n=new V(new F([])),i=new Nr(n,t),r=new Nr(n,t+1),s=[];return this.ph.St([i,r],(function(t){e.Sh(t),s.push(t.key)})),s},t.prototype.Nh=function(){var t=this;this.Vh.forEach((function(e){return t.Sh(e)}))},t.prototype.Sh=function(t){this.Vh=this.Vh.delete(t),this.ph=this.ph.delete(t)},t.prototype.Fh=function(t){var e=new V(new F([])),n=new Nr(e,t),i=new Nr(e,t+1),r=dt();return this.ph.St([n,i],(function(t){r=r.add(t.key)})),r},t.prototype.Nr=function(t){var e=new Nr(t,0),n=this.Vh.Ct(e);return null!==n&&t.isEqual(n.key)},t}(),Nr=function(){function t(t,e){this.key=t,this.kh=e}return t.yh=function(t,e){return V.P(t.key,e.key)||w(t.kh,e.kh)},t.bh=function(t,e){return w(t.kh,e.kh)||V.P(t.key,e.key)},t}(),Pr=function(){function t(t){this.uid=t}return t.prototype.Er=function(){return null!=this.uid},t.prototype.$h=function(){return this.Er()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Pr.UNAUTHENTICATED=new Pr(null),Pr.xh=new Pr("google-credentials-uid"),Pr.Oh=new Pr("first-party-uid");var Fr=function(t,e){this.user=e,this.type="OAuth",this.Mh={},this.Mh.Authorization="Bearer "+t},Lr=function(){function t(){this.Lh=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.qh=function(){},t.prototype.Bh=function(t){this.Lh=t,t(Pr.UNAUTHENTICATED)},t.prototype.Uh=function(){this.Lh=null},t}(),Mr=function(){function t(t){var e=this;this.Qh=null,this.currentUser=Pr.UNAUTHENTICATED,this.Wh=!1,this.jh=0,this.Lh=null,this.forceRefresh=!1,this.Qh=function(){e.jh++,e.currentUser=e.Kh(),e.Wh=!0,e.Lh&&e.Lh(e.currentUser)},this.jh=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Qh):(this.Qh(null),t.get().then((function(t){e.auth=t,e.Qh&&e.auth.addAuthTokenListener(e.Qh)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.jh,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.jh!==e?(d("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(_("string"==typeof n.accessToken),new Fr(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.qh=function(){this.forceRefresh=!0},t.prototype.Bh=function(t){this.Lh=t,this.Wh&&t(this.currentUser)},t.prototype.Uh=function(){this.auth&&this.auth.removeAuthTokenListener(this.Qh),this.Qh=null,this.Lh=null},t.prototype.Kh=function(){var t=this.auth&&this.auth.getUid();return _(null===t||"string"==typeof t),new Pr(t)},t}(),Vr=function(){function t(t,e){this.Gh=t,this.zh=e,this.type="FirstParty",this.user=Pr.Oh}return Object.defineProperty(t.prototype,"Mh",{get:function(){var t={"X-Goog-AuthUser":this.zh},e=this.Gh.auth.Hh([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ur=function(){function t(t,e){this.Gh=t,this.zh=e}return t.prototype.getToken=function(){return Promise.resolve(new Vr(this.Gh,this.zh))},t.prototype.Bh=function(t){t(Pr.Oh)},t.prototype.Uh=function(){},t.prototype.qh=function(){},t}(),jr=function(){function t(t,e,n,i,r,s){this.Is=t,this.Yh=n,this.Jh=i,this.Xh=r,this.listener=s,this.state=0,this.Zh=0,this.ta=null,this.stream=null,this.Ti=new Zn(t,e)}return t.prototype.ea=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.na=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.sa()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.ea()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.ia=function(){this.state=0,this.Ti.reset()},t.prototype.ra=function(){var t=this;this.na()&&null===this.ta&&(this.ta=this.Is.Ss(this.Yh,6e4,(function(){return t.oa()})))},t.prototype.ha=function(t){this.aa(),this.stream.send(t)},t.prototype.oa=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.na()?[2,this.close(0)]:[2]}))}))},t.prototype.aa=function(){this.ta&&(this.ta.cancel(),this.ta=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.aa(),this.Ti.cancel(),this.Zh++,3!==t?this.Ti.reset():e&&e.code===R.RESOURCE_EXHAUSTED?(f(e.toString()),f("Using maximum backoff delay to prevent overloading the backend."),this.Ti.ps()):e&&e.code===R.UNAUTHENTICATED&&this.Xh.qh(),null!==this.stream&&(this.ua(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ca(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ua=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.la(this.Zh),n=this.Zh;this.Xh.getToken().then((function(e){t.Zh===n&&t._a(e)}),(function(n){e((function(){var e=new O(R.UNKNOWN,"Fetching auth token failed: "+n.message);return t.fa(e)}))}))},t.prototype._a=function(t){var e=this,n=this.la(this.Zh);this.stream=this.da(t),this.stream.wa((function(){n((function(){return e.state=2,e.listener.wa()}))})),this.stream.ca((function(t){n((function(){return e.fa(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.sa=function(){var t=this;this.state=4,this.Ti.bs((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.fa=function(t){return d("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.la=function(t){var e=this;return function(n){e.Is.ai((function(){return e.Zh===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Br=function(t){function e(e,n,i,r,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,s)||this).serializer=r,o}return i.__extends(e,t),e.prototype.da=function(t){return this.Jh.Ta("Listen",t)},e.prototype.onMessage=function(t){this.Ti.reset();var e=function(t,e){var n;if("targetChange"in e){var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:g()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.Le?(_(void 0===e||"string"==typeof e),W.fromBase64String(e||"")):(_(void 0===e||e instanceof Uint8Array),W.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?R.UNKNOWN:J(t.code);return new O(e,t.message||"")}(o);n=new Ct(i,r,s,a||null)}else if("documentChange"in e){var l=e.documentChange,u=re(t,l.document.name),c=te(l.document.updateTime),h=new en({mapValue:{fields:l.document.fields}}),d=new on(u,c,h,{});n=new bt(l.targetIds||[],l.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){var f=e.documentDelete,p=re(t,f.document),m=f.readTime?te(f.readTime):N.min(),y=new an(p,m);n=new bt([],f.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){var v=e.documentRemove,b=re(t,v.document);n=new bt([],v.removedTargetIds||[],b,null)}else{if(!("filter"in e))return g();var w=e.filter,C=new Q(w.count||0);n=new wt(w.targetId,C)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return N.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?N.min():e.readTime?te(e.readTime):N.min()}(t);return this.listener.Ea(e,n)},e.prototype.Ia=function(t){var e={};e.database=ae(this.serializer),e.addTarget=function(t,e){var n,i=e.target;return(n=$(i)?{documents:de(t,i)}:{query:fe(t,i)}).targetId=e.targetId,e.resumeToken.Y()>0&&(n.resumeToken=Xt(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,e.X);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.ha(e)},e.prototype.ma=function(t){var e={};e.database=ae(this.serializer),e.removeTarget=t,this.ha(e)},e}(jr),zr=function(t){function e(e,n,i,r,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,s)||this).serializer=r,o.Aa=!1,o}return i.__extends(e,t),Object.defineProperty(e.prototype,"Ra",{get:function(){return this.Aa},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Aa=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ua=function(){this.Aa&&this.Pa([])},e.prototype.da=function(t){return this.Jh.Ta("Write",t)},e.prototype.onMessage=function(t){if(_(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Aa){this.Ti.reset();var e=function(t,e){return t&&t.length>0?(_(void 0!==e),t.map((function(t){return function(t,e){var n=te(t.updateTime?t.updateTime:e);n.isEqual(N.min())&&(n=te(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults),new Ve(n,i)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=te(t.commitTime);return this.listener.ga(n,e)}return _(!t.writeResults||0===t.writeResults.length),this.Aa=!0,this.listener.Va()},e.prototype.ya=function(){var t={};t.database=ae(this.serializer),this.ha(t)},e.prototype.Pa=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return ce(e.serializer,t)}))};this.ha(n)},e}(jr),qr=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).credentials=e,r.Jh=n,r.serializer=i,r.pa=!1,r}return i.__extends(e,t),e.prototype.ba=function(){if(this.pa)throw new O(R.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.va=function(t,e,n){var i=this;return this.ba(),this.credentials.getToken().then((function(r){return i.Jh.va(t,e,n,r)})).catch((function(t){throw t.code===R.UNAUTHENTICATED&&i.credentials.qh(),t}))},e.prototype.Sa=function(t,e,n){var i=this;return this.ba(),this.credentials.getToken().then((function(r){return i.Jh.Sa(t,e,n,r)})).catch((function(t){throw t.code===R.UNAUTHENTICATED&&i.credentials.qh(),t}))},e.prototype.terminate=function(){this.pa=!1},e}((function(){})),Hr=function(){function t(t,e){this.ei=t,this.Da=e,this.state="Unknown",this.Ca=0,this.Na=null,this.Fa=!0}return t.prototype.ka=function(){var t=this;0===this.Ca&&(this.$a("Unknown"),this.Na=this.ei.Ss("online_state_timeout",1e4,(function(){return t.Na=null,t.xa("Backend didn't respond within 10 seconds."),t.$a("Offline"),Promise.resolve()})))},t.prototype.Oa=function(t){"Online"===this.state?this.$a("Unknown"):(this.Ca++,this.Ca>=1&&(this.Ma(),this.xa("Connection failed 1 times. Most recent error: "+t.toString()),this.$a("Offline")))},t.prototype.set=function(t){this.Ma(),this.Ca=0,"Online"===t&&(this.Fa=!1),this.$a(t)},t.prototype.$a=function(t){t!==this.state&&(this.state=t,this.Da(t))},t.prototype.xa=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fa?(f(e),this.Fa=!1):d("OnlineStateTracker",e)},t.prototype.Ma=function(){null!==this.Na&&(this.Na.cancel(),this.Na=null)},t}(),Gr=function(){function t(t,e,n,r,s){var o=this;this.La=t,this.qa=e,this.ei=n,this.Ba=[],this.Ua=new Map,this.Qa=null,this.Wa=new Set,this.ja=s,this.ja.Ka((function(t){n.ai((function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ga()?(d("RemoteStore","Restarting streams for network reachability change."),[4,this.za()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Ha=new Hr(n,r),this.Ya=function(t,e,n){var i=y(t);return i.ba(),new Br(e,i.Jh,i.credentials,i.serializer,n)}(this.qa,n,{wa:this.Ja.bind(this),ca:this.Xa.bind(this),Ea:this.Za.bind(this)}),this.tu=function(t,e,n){var i=y(t);return i.ba(),new zr(e,i.Jh,i.credentials,i.serializer,n)}(this.qa,n,{wa:this.eu.bind(this),ca:this.nu.bind(this),Va:this.su.bind(this),ga:this.ga.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.Wa.delete(0),this.iu()},t.prototype.iu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ga()?(this.ru()?this.ou():this.Ha.set("Unknown"),[4,this.hu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Wa.add(0),[4,this.au()];case 1:return t.sent(),this.Ha.set("Offline"),[2]}}))}))},t.prototype.au=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.tu.stop()];case 1:return t.sent(),[4,this.Ya.stop()];case 2:return t.sent(),this.Ba.length>0&&(d("RemoteStore","Stopping write stream with "+this.Ba.length+" pending writes"),this.Ba=[]),this.uu(),[2]}}))}))},t.prototype.th=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return d("RemoteStore","RemoteStore shutting down."),this.Wa.add(5),[4,this.au()];case 1:return t.sent(),this.ja.th(),this.Ha.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Ua.has(t.targetId)||(this.Ua.set(t.targetId,t),this.ru()?this.ou():this.Ya.na()&&this.cu(t))},t.prototype.lu=function(t){this.Ua.delete(t),this.Ya.na()&&this._u(t),0===this.Ua.size&&(this.Ya.na()?this.Ya.ra():this.Ga()&&this.Ha.set("Unknown"))},t.prototype.Me=function(t){return this.Ua.get(t)||null},t.prototype.Oe=function(t){return this.fu.Oe(t)},t.prototype.cu=function(t){this.Qa.we(t.targetId),this.Ya.Ia(t)},t.prototype._u=function(t){this.Qa.we(t),this.Ya.ma(t)},t.prototype.ou=function(){this.Qa=new St(this),this.Ya.start(),this.Ha.ka()},t.prototype.ru=function(){return this.Ga()&&!this.Ya.ea()&&this.Ua.size>0},t.prototype.Ga=function(){return 0===this.Wa.size},t.prototype.uu=function(){this.Qa=null},t.prototype.Ja=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){return this.Ua.forEach((function(e,n){t.cu(e)})),[2]}))}))},t.prototype.Xa=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.uu(),this.ru()?(this.Ha.Oa(t),this.ou()):this.Ha.set("Unknown"),[2]}))}))},t.prototype.Za=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.Ha.set("Online"),!(t instanceof Ct&&2===t.state&&t.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.du(t)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),d("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.wu(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof bt?this.Qa.ge(t):t instanceof wt?this.Qa.Ce(t):this.Qa.pe(t),e.isEqual(N.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,Sr(this.La)];case 8:return r=i.sent(),e.o(r)>=0?[4,this.Tu(e)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return d("RemoteStore","Failed to raise snapshot:",s=i.sent()),[4,this.wu(s)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.wu=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(!ti(t))throw t;return this.Wa.add(1),[4,this.au()];case 1:return r.sent(),this.Ha.set("Offline"),e||(e=function(){return Sr(n.La)}),this.ei.gi((function(){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return d("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.Wa.delete(1),[4,this.iu()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.Eu=function(t){var e=this;return t().catch((function(n){return e.wu(n,t)}))},t.prototype.Tu=function(t){var e=this,n=this.Qa.ke(t);return n.Wt.forEach((function(n,i){if(n.resumeToken.Y()>0){var r=e.Ua.get(i);r&&e.Ua.set(i,r.et(n.resumeToken,t))}})),n.jt.forEach((function(t){var n=e.Ua.get(t);if(n){e.Ua.set(t,n.et(W.J,n.Z)),e._u(t);var i=new Z(n.target,t,1,n.sequenceNumber);e.cu(i)}})),this.fu.Iu(n)},t.prototype.du=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:e=t.cause,n=0,r=t.targetIds,i.label=1;case 1:return n<r.length?this.Ua.has(s=r[n])?[4,this.fu.mu(s,e)]:[3,3]:[3,5];case 2:i.sent(),this.Ua.delete(s),this.Qa.removeTarget(s),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.hu=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n;return i.__generator(this,(function(i){switch(i.label){case 0:t=this.Ba.length>0?this.Ba[this.Ba.length-1].batchId:-1,i.label=1;case 1:if(!this.Au())return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,Ir(this.La,t)];case 3:return null===(e=i.sent())?(0===this.Ba.length&&this.tu.ra(),[3,7]):(t=e.batchId,this.Ru(e),[3,6]);case 4:return n=i.sent(),[4,this.wu(n)];case 5:return i.sent(),[3,6];case 6:return[3,1];case 7:return this.Pu()&&this.gu(),[2]}}))}))},t.prototype.Au=function(){return this.Ga()&&this.Ba.length<10},t.prototype.Vu=function(){return this.Ba.length},t.prototype.Ru=function(t){this.Ba.push(t),this.tu.na()&&this.tu.Ra&&this.tu.Pa(t.mutations)},t.prototype.Pu=function(){return this.Ga()&&!this.tu.ea()&&this.Ba.length>0},t.prototype.gu=function(){this.tu.start()},t.prototype.eu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.tu.ya(),[2]}))}))},t.prototype.su=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e;return i.__generator(this,(function(n){for(t=0,e=this.Ba;t<e.length;t++)this.tu.Pa(e[t].mutations);return[2]}))}))},t.prototype.ga=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=this.Ba.shift(),r=Bn.from(n,t,e),[4,this.Eu((function(){return s.fu.yu(r)}))];case 1:return i.sent(),[4,this.hu()];case 2:return i.sent(),[2]}}))}))},t.prototype.nu=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t&&this.tu.Ra?[4,this.pu(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Pu()&&this.gu(),[2]}}))}))},t.prototype.pu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return X(n=t.code)&&n!==R.ABORTED?(e=this.Ba.shift(),this.tu.ia(),[4,this.Eu((function(){return r.fu.bu(e.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,this.hu()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.za=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Wa.add(4),[4,this.au()];case 1:return t.sent(),this.Ha.set("Unknown"),this.tu.ia(),this.Ya.ia(),this.Wa.delete(4),[4,this.iu()];case 2:return t.sent(),[2]}}))}))},t.prototype.vu=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.ei.pi(),d("RemoteStore","RemoteStore received new credentials"),this.Wa.add(3),[4,this.au()];case 1:return e.sent(),this.Ha.set("Unknown"),[4,this.fu.vu(t)];case 2:return e.sent(),this.Wa.delete(3),[4,this.iu()];case 3:return e.sent(),[2]}}))}))},t.prototype.Su=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t?(this.Wa.delete(2),[4,this.iu()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.Wa.add(2),[4,this.au()]);case 3:e.sent(),this.Ha.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function $r(t,e){return"firestore_clients_"+t+"_"+e}function Wr(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.Er()&&(i+="_"+e.uid),i}function Kr(t,e){return"firestore_targets_"+t+"_"+e}var Yr=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.Du=function(e,n,i){var r=JSON.parse(i),s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new O(r.error.code,r.error.message)),s?new t(e,n,r.state,o):(f("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Cu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Zr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Du=function(e,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new O(i.error.code,i.error.message)),r?new t(e,i.state,s):(f("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Cu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Qr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Du=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,s=pt(),o=0;r&&o<i.activeTargetIds.length;++o)r=B(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new t(e,s):(f("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Xr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Du=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(f("SharedClientState","Failed to parse online state: "+e),null)},t}(),Jr=function(){function t(){this.activeTargetIds=pt()}return t.prototype.Nu=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Fu=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Cu=function(){var t={activeTargetIds:this.activeTargetIds.N(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ts=function(){function t(t,e,n,i,r){this.window=t,this.Is=e,this.persistenceKey=n,this.ku=i,this.fu=null,this.Da=null,this.fs=null,this.$u=this.xu.bind(this),this.Ou=new tt(w),this.tr=!1,this.Mu=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.Lu=$r(this.persistenceKey,this.ku),this.qu=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ou=this.Ou.st(this.ku,new Jr),this.Bu=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Uu=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Qu=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Wu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.$u)}return t.ks=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,s,o,a,l,u,c,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.fu.rh()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.ku&&(s=this.getItem($r(this.persistenceKey,r)))&&(o=Qr.Du(r,s))&&(this.Ou=this.Ou.st(o.clientId,o));for(this.ju(),(a=this.storage.getItem(this.Wu))&&(l=this.Ku(a))&&this.Gu(l),u=0,c=this.Mu;u<c.length;u++)this.xu(c[u]);return this.Mu=[],this.window.addEventListener("unload",(function(){return h.th()})),this.tr=!0,[2]}}))}))},t.prototype.Ts=function(t){this.setItem(this.qu,JSON.stringify(t))},t.prototype.zu=function(){return this.Hu(this.Ou)},t.prototype.Yu=function(t){var e=!1;return this.Ou.forEach((function(n,i){i.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ju=function(t){this.Xu(t,"pending")},t.prototype.Zu=function(t,e,n){this.Xu(t,e,n),this.tc(t)},t.prototype.ec=function(t){var e="not-current";if(this.Yu(t)){var n=this.storage.getItem(Kr(this.persistenceKey,t));if(n){var i=Zr.Du(t,n);i&&(e=i.state)}}return this.nc.Nu(t),this.ju(),e},t.prototype.sc=function(t){this.nc.Fu(t),this.ju()},t.prototype.ic=function(t){return this.nc.activeTargetIds.has(t)},t.prototype.rc=function(t){this.removeItem(Kr(this.persistenceKey,t))},t.prototype.oc=function(t,e,n){this.hc(t,e,n)},t.prototype.ac=function(t,e,n){var i=this;e.forEach((function(t){i.tc(t)})),this.currentUser=t,n.forEach((function(t){i.Ju(t)}))},t.prototype.uc=function(t){this.cc(t)},t.prototype.th=function(){this.tr&&(this.window.removeEventListener("storage",this.$u),this.removeItem(this.Lu),this.tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){d("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.xu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(d("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Lu)return void f("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Is.gi((function(){return i.__awaiter(e,void 0,void 0,(function(){var t,e,r,s,o,a;return i.__generator(this,(function(i){if(this.tr){if(null!==n.key)if(this.Bu.test(n.key)){if(null==n.newValue)return t=this.lc(n.key),[2,this._c(t,null)];if(e=this.fc(n.key,n.newValue))return[2,this._c(e.clientId,e)]}else if(this.Uu.test(n.key)){if(null!==n.newValue&&(r=this.dc(n.key,n.newValue)))return[2,this.wc(r)]}else if(this.Qu.test(n.key)){if(null!==n.newValue&&(s=this.Tc(n.key,n.newValue)))return[2,this.Ec(s)]}else if(n.key===this.Wu){if(null!==n.newValue&&(o=this.Ku(n.newValue)))return[2,this.Gu(o)]}else n.key===this.qu&&(a=function(t){var e=Kn.Es;if(null!=t)try{var n=JSON.parse(t);_("number"==typeof n),e=n}catch(t){f("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Kn.Es&&this.fs(a)}else this.Mu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"nc",{get:function(){return this.Ou.get(this.ku)},enumerable:!1,configurable:!0}),t.prototype.ju=function(){this.setItem(this.Lu,this.nc.Cu())},t.prototype.Xu=function(t,e,n){var i=new Yr(this.currentUser,t,e,n),r=Wr(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Cu())},t.prototype.tc=function(t){var e=Wr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.cc=function(t){this.storage.setItem(this.Wu,JSON.stringify({clientId:this.ku,onlineState:t}))},t.prototype.hc=function(t,e,n){var i=Kr(this.persistenceKey,t),r=new Zr(t,e,n);this.setItem(i,r.Cu())},t.prototype.lc=function(t){var e=this.Bu.exec(t);return e?e[1]:null},t.prototype.fc=function(t,e){var n=this.lc(t);return Qr.Du(n,e)},t.prototype.dc=function(t,e){var n=this.Uu.exec(t),i=Number(n[1]);return Yr.Du(new Pr(void 0!==n[2]?n[2]:null),i,e)},t.prototype.Tc=function(t,e){var n=this.Qu.exec(t),i=Number(n[1]);return Zr.Du(i,e)},t.prototype.Ku=function(t){return Xr.Du(t)},t.prototype.wc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fu.Ic(t.batchId,t.state,t.error)]:(d("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Ec=function(t){return this.fu.mc(t.targetId,t.state,t.error)},t.prototype._c=function(t,e){var n=this,i=e?this.Ou.st(t,e):this.Ou.remove(t),r=this.Hu(this.Ou),s=this.Hu(i),o=[],a=[];return s.forEach((function(t){r.has(t)||o.push(t)})),r.forEach((function(t){s.has(t)||a.push(t)})),this.fu.Ac(o,a).then((function(){n.Ou=i}))},t.prototype.Gu=function(t){this.Ou.get(t.clientId)&&this.Da(t.onlineState)},t.prototype.Hu=function(t){var e=pt();return t.forEach((function(t,n){e=e.Nt(n.activeTargetIds)})),e},t}(),es=function(){function t(){this.Rc=new Jr,this.Pc={},this.Da=null,this.fs=null}return t.prototype.Ju=function(t){},t.prototype.Zu=function(t,e,n){},t.prototype.ec=function(t){return this.Rc.Nu(t),this.Pc[t]||"not-current"},t.prototype.oc=function(t,e,n){this.Pc[t]=e},t.prototype.sc=function(t){this.Rc.Fu(t)},t.prototype.ic=function(t){return this.Rc.activeTargetIds.has(t)},t.prototype.rc=function(t){delete this.Pc[t]},t.prototype.zu=function(){return this.Rc.activeTargetIds},t.prototype.Yu=function(t){return this.Rc.activeTargetIds.has(t)},t.prototype.start=function(){return this.Rc=new Jr,Promise.resolve()},t.prototype.ac=function(t,e,n){},t.prototype.uc=function(t){},t.prototype.th=function(){},t.prototype.Ts=function(t){},t}(),ns=function(t){this.key=t},is=function(t){this.key=t},rs=function(){function t(t,e){this.query=t,this.gc=e,this.Vc=null,this.Yt=!1,this.yc=dt(),this.qt=dt(),this.pc=En(t),this.bc=new mt(this.pc)}return Object.defineProperty(t.prototype,"vc",{get:function(){return this.gc},enumerable:!1,configurable:!0}),t.prototype.Sc=function(t,e){var n=this,i=e?e.Dc:new gt,r=e?e.bc:this.bc,s=e?e.qt:this.qt,o=r,a=!1,l=this.query.an()&&r.size===this.query.limit?r.last():null,u=this.query.un()&&r.size===this.query.limit?r.first():null;if(t.ht((function(t,e){var c=r.get(t),h=e instanceof on?e:null;h&&(h=Cn(n.query,h)?h:null);var d=!!c&&n.qt.has(c.key),f=!!h&&(h.Ge||n.qt.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?d!==f&&(i.track({type:3,doc:h}),p=!0):n.Cc(c,h)||(i.track({type:2,doc:h}),p=!0,(l&&n.pc(h,l)>0||u&&n.pc(h,u)<0)&&(a=!0)):!c&&h?(i.track({type:0,doc:h}),p=!0):c&&!h&&(i.track({type:1,doc:c}),p=!0,(l||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),this.query.an()||this.query.un())for(;o.size>this.query.limit;){var c=this.query.an()?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{bc:o,Dc:i,Nc:a,qt:s}},t.prototype.Cc=function(t,e){return t.Ge&&e.hasCommittedMutations&&!e.Ge},t.prototype.Un=function(t,e,n){var i=this,r=this.bc;this.bc=t.bc,this.qt=t.qt;var s=t.Dc.Mt();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return n(t)-n(e)}(t.type,e.type)||i.pc(t.doc,e.doc)})),this.Fc(n);var o=e?this.kc():[],a=0===this.yc.size&&this.Yt?1:0,l=a!==this.Vc;return this.Vc=a,0!==s.length||l?{snapshot:new _t(this.query,t.bc,r,s,t.qt,0===a,l,!1),$c:o}:{$c:o}},t.prototype.xc=function(t){return this.Yt&&"Offline"===t?(this.Yt=!1,this.Un({bc:this.bc,Dc:new gt,qt:this.qt,Nc:!1},!1)):{$c:[]}},t.prototype.Oc=function(t){return!this.gc.has(t)&&!!this.bc.has(t)&&!this.bc.get(t).Ge},t.prototype.Fc=function(t){var e=this;t&&(t.Jt.forEach((function(t){return e.gc=e.gc.add(t)})),t.Xt.forEach((function(t){})),t.Zt.forEach((function(t){return e.gc=e.gc.delete(t)})),this.Yt=t.Yt)},t.prototype.kc=function(){var t=this;if(!this.Yt)return[];var e=this.yc;this.yc=dt(),this.bc.forEach((function(e){t.Oc(e.key)&&(t.yc=t.yc.add(e.key))}));var n=[];return e.forEach((function(e){t.yc.has(e)||n.push(new is(e))})),this.yc.forEach((function(t){e.has(t)||n.push(new ns(t))})),n},t.prototype.Mc=function(t){this.gc=t.gh,this.yc=dt();var e=this.Sc(t.documents);return this.Un(e,!0)},t.prototype.Lc=function(){return _t.Qt(this.query,this.bc,this.qt,0===this.Vc)},t}(),ss=function(t,e,n){this.query=t,this.targetId=e,this.view=n},os=function(t){this.key=t,this.qc=!1},as=function(){function t(t,e,n,i,r,s){this.La=t,this.Bc=e,this.qa=n,this.Uc=i,this.currentUser=r,this.Qc=s,this.Wc=null,this.jc=new A((function(t){return bn(t)}),vn),this.Kc=new Map,this.Gc=[],this.zc=new tt(V.P),this.Hc=new Map,this.Yc=new Dr,this.Jc={},this.Xc=new Map,this.Zc=ur.eo(),this.onlineState="Unknown",this.tl=void 0}return Object.defineProperty(t.prototype,"el",{get:function(){return!0===this.tl},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.Wc=t},t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nl("listen()"),(n=this.jc.get(t))?(this.Uc.ec(n.targetId),e=n.view.Lc(),[3,4]):[3,1];case 1:return[4,kr(this.La,mn(t))];case 2:return r=i.sent(),s=this.Uc.ec(r.targetId),[4,this.sl(t,r.targetId,"current"===s)];case 3:e=i.sent(),this.el&&this.Bc.listen(r),i.label=4;case 4:return[2,e]}}))}))},t.prototype.sl=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,s,o,a,l,u;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Ar(this.La,t,!0)];case 1:return r=i.sent(),s=new rs(t,r.gh),o=s.Sc(r.documents),a=vt.Ht(e,n&&"Offline"!==this.onlineState),l=s.Un(o,this.el,a),this.il(e,l.$c),u=new ss(t,e,s),[2,(this.jc.set(t,u),this.Kc.has(e)?this.Kc.get(e).push(t):this.Kc.set(e,[t]),l.snapshot)]}}))}))},t.prototype.lu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nl("unlisten()"),e=this.jc.get(t),(n=this.Kc.get(e.targetId)).length>1?[2,(this.Kc.set(e.targetId,n.filter((function(e){return!vn(e,t)}))),void this.jc.delete(t))]:this.el?(this.Uc.sc(e.targetId),this.Uc.Yu(e.targetId)?[3,2]:[4,Tr(this.La,e.targetId,!1).then((function(){r.Uc.rc(e.targetId),r.Bc.lu(e.targetId),r.rl(e.targetId)})).catch(Or)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.rl(e.targetId),[4,Tr(this.La,e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:this.nl("write()"),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,function(t,e){var n,i=y(t),r=D.now(),s=e.reduce((function(t,e){return t.add(e.key)}),dt());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return i.Rh.Zn(t,s).next((function(s){n=s;for(var o=[],a=0,l=e;a<l.length;a++){var u=l[a],c=He(u,n.get(u.key));null!=c&&o.push(new Ke(u.key,c,rn(c.proto.mapValue),Ue.exists(!0)))}return i.Gn.mr(t,r,o,e)}))})).then((function(t){var e=t.An(n);return{batchId:t.batchId,Fn:e}}))}(this.La,t)];case 2:return n=i.sent(),this.Uc.Ju(n.batchId),this.ol(n.batchId,e),[4,this.hl(n.Fn)];case 3:return i.sent(),[4,this.Bc.hu()];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),s=ci(r,"Failed to persist write"),e.reject(s),[3,6];case 6:return[2]}}))}))},t.prototype.Iu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(i){switch(i.label){case 0:this.nl("applyRemoteEvent()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,xr(this.La,t)];case 2:return e=i.sent(),t.Wt.forEach((function(t,e){var i=n.Hc.get(e);i&&(_(t.Jt.size+t.Xt.size+t.Zt.size<=1),t.Jt.size>0?i.qc=!0:t.Xt.size>0?_(i.qc):t.Zt.size>0&&(_(i.qc),i.qc=!1))})),[4,this.hl(e,t)];case 3:return i.sent(),[3,6];case 4:return[4,Or(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.xc=function(t,e){if(this.el&&0===e||!this.el&&1===e){this.nl("applyOnlineStateChange()");var n=[];this.jc.forEach((function(e,i){var r=i.view.xc(t);r.snapshot&&n.push(r.snapshot)})),this.Wc.al(t),this.Wc.Ea(n),this.onlineState=t,this.el&&this.Uc.uc(t)}},t.prototype.mu=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,a,l=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nl("rejectListens()"),this.Uc.oc(t,"rejected",e),n=this.Hc.get(t),(r=n&&n.key)?(s=(s=new tt(V.P)).st(r,new an(r,N.min())),o=dt().add(r),a=new yt(N.min(),new Map,new it(w),s,o),[4,this.Iu(a)]):[3,2];case 1:return i.sent(),this.zc=this.zc.remove(r),this.Hc.delete(t),this.ul(),[3,4];case 2:return[4,Tr(this.La,t,!1).then((function(){return l.rl(t,e)})).catch(Or)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},t.prototype.yu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(i){switch(i.label){case 0:this.nl("applySuccessfulWrite()"),e=t.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Er(this.La,t)];case 2:return n=i.sent(),this.cl(e,null),this.ll(e),this.Uc.Zu(e,"acknowledged"),[4,this.hl(n)];case 3:return i.sent(),[3,6];case 4:return[4,Or(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.bu=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(i){switch(i.label){case 0:this.nl("rejectFailedWrite()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var i;return n.Gn.Rr(t,e).next((function(e){return _(null!==e),i=e.keys(),n.Gn.br(t,e)})).next((function(){return n.Gn.Cr(t)})).next((function(){return n.Rh.Zn(t,i)}))}))}(this.La,t)];case 2:return n=i.sent(),this.cl(t,e),this.ll(t),this.Uc.Zu(t,"rejected",e),[4,this.hl(n)];case 3:return i.sent(),[3,6];case 4:return[4,Or(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype._l=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:this.Bc.Ga()||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(t){var e=y(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Gn.Vr(t)}))}(this.La)];case 2:return-1===(e=i.sent())?[2,void t.resolve()]:((n=this.Xc.get(e)||[]).push(t),this.Xc.set(e,n),[3,4]);case 3:return r=i.sent(),s=ci(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))},t.prototype.ll=function(t){(this.Xc.get(t)||[]).forEach((function(t){t.resolve()})),this.Xc.delete(t)},t.prototype.fl=function(t){this.Xc.forEach((function(e){e.forEach((function(e){e.reject(new O(R.CANCELLED,t))}))})),this.Xc.clear()},t.prototype.ol=function(t,e){var n=this.Jc[this.currentUser.$h()];n||(n=new tt(w)),n=n.st(t,e),this.Jc[this.currentUser.$h()]=n},t.prototype.cl=function(t,e){var n=this.Jc[this.currentUser.$h()];if(n){var i=n.get(t);i&&(e?i.reject(e):i.resolve(),n=n.remove(t)),this.Jc[this.currentUser.$h()]=n}},t.prototype.rl=function(t,e){var n=this;void 0===e&&(e=null),this.Uc.sc(t);for(var i=0,r=this.Kc.get(t);i<r.length;i++){var s=r[i];this.jc.delete(s),e&&this.Wc.dl(s,e)}this.Kc.delete(t),this.el&&this.Yc.Ch(t).forEach((function(t){n.Yc.Nr(t)||n.wl(t)}))},t.prototype.wl=function(t){var e=this.zc.get(t);null!==e&&(this.Bc.lu(e),this.zc=this.zc.remove(t),this.Hc.delete(e),this.ul())},t.prototype.il=function(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];r instanceof ns?(this.Yc.Eo(r.key,t),this.Tl(r)):r instanceof is?(d("SyncEngine","Document no longer in limbo: "+r.key),this.Yc.mo(r.key,t),this.Yc.Nr(r.key)||this.wl(r.key)):g()}},t.prototype.Tl=function(t){var e=t.key;this.zc.get(e)||(d("SyncEngine","New document in limbo: "+e),this.Gc.push(e),this.ul())},t.prototype.ul=function(){for(;this.Gc.length>0&&this.zc.size<this.Qc;){var t=this.Gc.shift(),e=this.Zc.next();this.Hc.set(e,new os(t)),this.zc=this.zc.st(t,e),this.Bc.listen(new Z(mn(dn(t.path)),e,2,Kn.Es))}},t.prototype.El=function(){return this.zc},t.prototype.Il=function(){return this.Gc},t.prototype.hl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o=this;return i.__generator(this,(function(a){switch(a.label){case 0:return n=[],r=[],s=[],this.jc.forEach((function(i,a){s.push(Promise.resolve().then((function(){var e=a.view.Sc(t);return e.Nc?Ar(o.La,a.query,!1).then((function(t){return a.view.Sc(t.documents,e)})):e})).then((function(t){var i=e&&e.Wt.get(a.targetId),s=a.view.Un(t,o.el,i);if(o.il(a.targetId,s.$c),s.snapshot){o.el&&o.Uc.oc(a.targetId,s.snapshot.fromCache?"not-current":"current"),n.push(s.snapshot);var l=Wn._s(a.targetId,s.snapshot);r.push(l)}})))})),[4,Promise.all(s)];case 1:return a.sent(),this.Wc.Ea(n),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,a,l,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:n=y(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return zn.forEach(e,(function(e){return zn.forEach(e.cs,(function(i){return n.persistence.dr.Eo(t,e.targetId,i)})).next((function(){return zn.forEach(e.ls,(function(i){return n.persistence.dr.mo(t,e.targetId,i)}))}))}))}))];case 2:return i.sent(),[3,4];case 3:if(!ti(r=i.sent()))throw r;return d("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(s=0,o=e;s<o.length;s++)l=(a=o[s]).targetId,a.fromCache||(u=n.Eh.get(l),c=u.nt(u.Z),n.Eh=n.Eh.st(l,c));return[2]}}))}))}(this.La,r)];case 2:return a.sent(),[2]}}))}))},t.prototype.nl=function(t){},t.prototype.vu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(d("SyncEngine","User change. New user:",t.$h()),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(t),r=n.Gn,s=n.Rh,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var i;return n.Gn.yr(t).next((function(o){return i=o,r=n.persistence.oh(e),s=new $n(n.Ah,r,n.persistence.uh()),r.yr(t)})).next((function(e){for(var n=[],r=[],o=dt(),a=0,l=i;a<l.length;a++){var u=l[a];n.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++)o=o.add(h[c].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return s.Zn(t,o).next((function(t){return{ml:t,Al:n,Rl:r}}))}))}))];case 1:return o=i.sent(),[2,(n.Gn=r,n.Rh=s,n.Th.Ph(n.Rh),o)]}}))}))}(this.La,t)]);case 1:return e=n.sent(),this.currentUser=t,this.fl("'waitForPendingWrites' promise is rejected due to a user change."),this.Uc.ac(t,e.Al,e.Rl),[4,this.hl(e.ml)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.Oe=function(t){var e=this.Hc.get(t);if(e&&e.qc)return dt().add(e.key);var n=dt(),i=this.Kc.get(t);if(!i)return n;for(var r=0,s=i;r<s.length;r++){var o=this.jc.get(s[r]);n=n.Nt(o.view.vc)}return n},t}();function ls(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Ar((n=y(t)).La,e.query,!0)];case 1:return r=i.sent(),s=e.view.Mc(r),[2,(n.el&&n.il(e.targetId,s.$c),s)]}}))}))}function us(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var s,o;return i.__generator(this,(function(i){switch(i.label){case 0:return(s=y(t)).nl("applyBatchState()"),[4,function(t,e){var n=y(t),i=y(n.Gn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return i.Pr(t,e).next((function(e){return e?n.Rh.Zn(t,e):zn.resolve(null)}))}))}(s.La,e)];case 1:return null===(o=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,s.Bc.hu()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(s.cl(e,r||null),function(t,e){y(y(t).Gn).Sr(e)}(s.La,e)):g(),i.label=4;case 4:return[4,s.hl(o)];case 5:return i.sent(),[3,7];case 6:d("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}}))}))}function cs(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,a,l,u;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(t),!0!==e||!0===n.tl?[3,3]:(r=n.Uc.zu(),[4,hs(n,r.N())]);case 1:return s=i.sent(),n.tl=!0,[4,n.Bc.Su(!0)];case 2:for(i.sent(),o=0,a=s;o<a.length;o++)n.Bc.listen(a[o]);return[3,7];case 3:return!1!==e||!1===n.tl?[3,7]:(l=[],u=Promise.resolve(),n.Kc.forEach((function(t,e){n.Uc.ic(e)?l.push(e):u=u.then((function(){return n.rl(e),Tr(n.La,e,!0)})),n.Bc.lu(e)})),[4,u]);case 4:return i.sent(),[4,hs(n,l)];case 5:return i.sent(),function(t){var e=y(t);e.Hc.forEach((function(t,n){e.Bc.lu(n)})),e.Yc.Nh(),e.Hc=new Map,e.zc=new tt(V.P)}(n),n.tl=!1,[4,n.Bc.Su(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))}function hs(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,a,l,u,c,h,d,f,p,m;return i.__generator(this,(function(i){switch(i.label){case 0:n=y(t),r=[],s=[],o=0,a=e,i.label=1;case 1:return o<a.length?(u=void 0,(c=n.Kc.get(l=a[o]))&&0!==c.length?[4,kr(n.La,mn(c[0]))]:[3,7]):[3,13];case 2:u=i.sent(),h=0,d=c,i.label=3;case 3:return h<d.length?(f=n.jc.get(d[h]),[4,ls(n,f)]):[3,6];case 4:(p=i.sent()).snapshot&&s.push(p.snapshot),i.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Rr(n.La,l)];case 8:return m=i.sent(),[4,kr(n.La,m)];case 9:return u=i.sent(),[4,n.sl(ds(m),l,!1)];case 10:i.sent(),i.label=11;case 11:r.push(u),i.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Wc.Ea(s),r)]}}))}))}function ds(t){return hn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function fs(t){var e=y(t);return y(y(e.La).persistence).rh()}function ps(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var s,o,a;return i.__generator(this,(function(i){switch(i.label){case 0:return(s=y(t)).tl?(d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Kc.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=y(t),n=y(e.Ah);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n.Ur(t,e.mh)})).then((function(t){var n=t.Qr;return e.mh=t.readTime,n}))}(s.La)];case 3:return o=i.sent(),a=yt.zt(e,"current"===n),[4,s.hl(o,a)];case 4:return i.sent(),[3,8];case 5:return[4,Tr(s.La,e,!0)];case 6:return i.sent(),s.rl(e,r),[3,8];case 7:g(),i.label=8;case 8:return[2]}}))}))}function ms(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,s,o,a,l,u,c,h,f;return i.__generator(this,(function(p){switch(p.label){case 0:if(!(r=y(t)).tl)return[3,10];s=0,o=e,p.label=1;case 1:return s<o.length?r.Kc.has(a=o[s])?(d("SyncEngine","Adding an already active target "+a),[3,5]):[4,Rr(r.La,a)]:[3,6];case 2:return l=p.sent(),[4,kr(r.La,l)];case 3:return u=p.sent(),[4,r.sl(ds(l),u.targetId,!1)];case 4:p.sent(),r.Bc.listen(u),p.label=5;case 5:return s++,[3,1];case 6:c=function(t){return i.__generator(this,(function(e){switch(e.label){case 0:return r.Kc.has(t)?[4,Tr(r.La,t,!1).then((function(){r.Bc.lu(t),r.rl(t)})).catch(Or)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,p.label=7;case 7:return h<f.length?[5,c(f[h])]:[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}var gs=function(){this.Pl=void 0,this.listeners=[]},_s=function(){function t(t){this.fu=t,this.gl=new A((function(t){return bn(t)}),vn),this.onlineState="Unknown",this.Vl=new Set,this.fu.subscribe(this)}return t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s,o,a;return i.__generator(this,(function(i){switch(i.label){case 0:if(n=!1,(r=this.gl.get(e=t.query))||(n=!0,r=new gs),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),s=r,[4,this.fu.listen(e)];case 2:return s.Pl=i.sent(),[3,4];case 3:return o=i.sent(),a=ci(o,"Initialization of query '"+wn(t.query)+"' failed"),[2,void t.onError(a)];case 4:return this.gl.set(e,r),r.listeners.push(t),t.xc(this.onlineState),r.Pl&&t.yl(r.Pl)&&this.pl(),[2]}}))}))},t.prototype.lu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s;return i.__generator(this,(function(i){return n=!1,(r=this.gl.get(e=t.query))&&(s=r.listeners.indexOf(t))>=0&&(r.listeners.splice(s,1),n=0===r.listeners.length),n?[2,(this.gl.delete(e),this.fu.lu(e))]:[2]}))}))},t.prototype.Ea=function(t){for(var e=!1,n=0,i=t;n<i.length;n++){var r=i[n],s=this.gl.get(r.query);if(s){for(var o=0,a=s.listeners;o<a.length;o++)a[o].yl(r)&&(e=!0);s.Pl=r}}e&&this.pl()},t.prototype.dl=function(t,e){var n=this.gl.get(t);if(n)for(var i=0,r=n.listeners;i<r.length;i++)r[i].onError(e);this.gl.delete(t)},t.prototype.al=function(t){this.onlineState=t;var e=!1;this.gl.forEach((function(n,i){for(var r=0,s=i.listeners;r<s.length;r++)s[r].xc(t)&&(e=!0)})),e&&this.pl()},t.prototype.bl=function(t){this.Vl.add(t),t.next()},t.prototype.vl=function(t){this.Vl.delete(t)},t.prototype.pl=function(){this.Vl.forEach((function(t){t.next()}))},t}(),ys=function(){function t(t,e,n){this.query=t,this.Sl=e,this.Dl=!1,this.Cl=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.yl=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new _t(t.query,t.docs,t.Lt,e,t.qt,t.fromCache,t.Bt,!0)}var s=!1;return this.Dl?this.Nl(t)&&(this.Sl.next(t),s=!0):this.Fl(t,this.onlineState)&&(this.kl(t),s=!0),this.Cl=t,s},t.prototype.onError=function(t){this.Sl.error(t)},t.prototype.xc=function(t){this.onlineState=t;var e=!1;return this.Cl&&!this.Dl&&this.Fl(this.Cl,t)&&(this.kl(this.Cl),e=!0),e},t.prototype.Fl=function(t,e){return!t.fromCache||!(this.options.$l&&"Offline"!==e||t.docs._()&&"Offline"!==e)},t.prototype.Nl=function(t){return t.docChanges.length>0||!!(t.Bt||this.Cl&&this.Cl.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.kl=function(t){t=_t.Qt(t.query,t.docs,t.qt,t.fromCache),this.Dl=!0,this.Sl.next(t)},t}(),vs=function(){function t(){}return t.prototype.Ph=function(t){this.xl=t},t.prototype.ns=function(t,e,n,i){var r=this;return e.hn()||n.isEqual(N.min())?this.Ol(t,e):this.xl.Zn(t,i).next((function(o){var a=r.Ml(e,o);return(e.an()||e.un())&&r.Nc(e.nn,a,i,n)?r.Ol(t,e):(h()<=s.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),wn(e)),r.xl.ns(t,e,n).next((function(t){return a.forEach((function(e){t=t.st(e.key,e)})),t})))}))},t.prototype.Ml=function(t,e){var n=new it(En(t));return e.forEach((function(e,i){i instanceof on&&Cn(t,i)&&(n=n.add(i))})),n},t.prototype.Nc=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.o(i)>0)},t.prototype.Ol=function(t,e){return h()<=s.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Using full collection scan to execute query:",wn(e)),this.xl.ns(t,e,N.min())},t}(),bs=function(){function t(t,e){this.zn=t,this.dr=e,this.Gn=[],this.Ll=1,this.ql=new it(Nr.yh)}return t.prototype.Ir=function(t){return zn.resolve(0===this.Gn.length)},t.prototype.mr=function(t,e,n,i){var r=this.Ll;this.Ll++;var s=new jn(r,e,n,i);this.Gn.push(s);for(var o=0,a=i;o<a.length;o++){var l=a[o];this.ql=this.ql.add(new Nr(l.key,r)),this.zn.Ar(t,l.key.path.p())}return zn.resolve(s)},t.prototype.Rr=function(t,e){return zn.resolve(this.Bl(e))},t.prototype.gr=function(t,e){var n=this.Ul(e+1),i=n<0?0:n;return zn.resolve(this.Gn.length>i?this.Gn[i]:null)},t.prototype.Vr=function(){return zn.resolve(0===this.Gn.length?-1:this.Ll-1)},t.prototype.yr=function(t){return zn.resolve(this.Gn.slice())},t.prototype.Yn=function(t,e){var n=this,i=new Nr(e,0),r=new Nr(e,Number.POSITIVE_INFINITY),s=[];return this.ql.St([i,r],(function(t){var e=n.Bl(t.kh);s.push(e)})),zn.resolve(s)},t.prototype.es=function(t,e){var n=this,i=new it(w);return e.forEach((function(t){var e=new Nr(t,0),r=new Nr(t,Number.POSITIVE_INFINITY);n.ql.St([e,r],(function(t){i=i.add(t.kh)}))})),zn.resolve(this.Ql(i))},t.prototype.as=function(t,e){var n=e.path,i=n.length+1,r=n;V.j(r)||(r=r.child(""));var s=new Nr(new V(r),0),o=new it(w);return this.ql.Dt((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===i&&(o=o.add(t.kh)),!0)}),s),zn.resolve(this.Ql(o))},t.prototype.Ql=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.Bl(t);null!==i&&n.push(i)})),n},t.prototype.br=function(t,e){var n=this;_(0===this.Wl(e.batchId,"removed")),this.Gn.shift();var i=this.ql;return zn.forEach(e.mutations,(function(r){var s=new Nr(r.key,e.batchId);return i=i.delete(s),n.dr.Dr(t,r.key)})).next((function(){n.ql=i}))},t.prototype.Sr=function(t){},t.prototype.Nr=function(t,e){var n=new Nr(e,0),i=this.ql.Ct(n);return zn.resolve(e.isEqual(i&&i.key))},t.prototype.Cr=function(t){return zn.resolve()},t.prototype.Wl=function(t,e){return this.Ul(t)},t.prototype.Ul=function(t){return 0===this.Gn.length?0:t-this.Gn[0].batchId},t.prototype.Bl=function(t){var e=this.Ul(t);return e<0||e>=this.Gn.length?null:this.Gn[e]},t}(),ws=function(){function t(t,e){this.zn=t,this.jl=e,this.docs=new tt(V.P),this.size=0}return t.prototype.xn=function(t,e,n){var i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.jl(e);return this.docs=this.docs.st(i,{Or:e,size:o,readTime:n}),this.size+=o-s,this.zn.Ar(t,i.path.p())},t.prototype.Mn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ln=function(t,e){var n=this.docs.get(e);return zn.resolve(n?n.Or:null)},t.prototype.getEntries=function(t,e){var n=this,i=at();return e.forEach((function(t){var e=n.docs.get(t);i=i.st(t,e?e.Or:null)})),zn.resolve(i)},t.prototype.ns=function(t,e,n){for(var i=ut(),r=new V(e.path.child("")),s=this.docs.ct(r);s.Tt();){var o=s.wt(),a=o.value,l=a.Or,u=a.readTime;if(!e.path.D(o.key.path))break;u.o(n)<=0||l instanceof on&&Cn(e,l)&&(i=i.st(l.key,l))}return zn.resolve(i)},t.prototype.Kl=function(t,e){return zn.forEach(this.docs,(function(t){return e(t)}))},t.prototype.jr=function(e){return new t.Kr(this)},t.prototype.zr=function(t){return zn.resolve(this.size)},t}();ws.Kr=function(t){function e(e){var n=this;return(n=t.call(this)||this).Hr=e,n}return i.__extends(e,t),e.prototype.Un=function(t){var e=this,n=[];return this.Fn.forEach((function(i,r){r?n.push(e.Hr.xn(t,r,e.readTime)):e.Hr.Mn(i)})),zn.Cn(n)},e.prototype.qn=function(t,e){return this.Hr.Ln(t,e)},e.prototype.Bn=function(t,e){return this.Hr.getEntries(t,e)},e}(qn);var Cs=function(){function t(t){this.persistence=t,this.Gl=new A((function(t){return H(t)}),G),this.lastRemoteSnapshotVersion=N.min(),this.highestTargetId=0,this.zl=0,this.Hl=new Dr,this.targetCount=0,this.Yl=ur.to()}return t.prototype.be=function(t,e){return this.Gl.forEach((function(t,n){return e(n)})),zn.resolve()},t.prototype.ro=function(t){return zn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.oo=function(t){return zn.resolve(this.zl)},t.prototype.no=function(t){return this.highestTargetId=this.Yl.next(),zn.resolve(this.highestTargetId)},t.prototype.ho=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zl&&(this.zl=e),zn.resolve()},t.prototype.uo=function(t){this.Gl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yl=new ur(e),this.highestTargetId=e),t.sequenceNumber>this.zl&&(this.zl=t.sequenceNumber)},t.prototype.ao=function(t,e){return this.uo(e),this.targetCount+=1,zn.resolve()},t.prototype.lo=function(t,e){return this.uo(e),zn.resolve()},t.prototype._o=function(t,e){return this.Gl.delete(e.target),this.Hl.Ch(e.targetId),this.targetCount-=1,zn.resolve()},t.prototype.hr=function(t,e,n){var i=this,r=0,s=[];return this.Gl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.Gl.delete(o),s.push(i.fo(t,a.targetId)),r++)})),zn.Cn(s).next((function(){return r}))},t.prototype.do=function(t){return zn.resolve(this.targetCount)},t.prototype.wo=function(t,e){var n=this.Gl.get(e)||null;return zn.resolve(n)},t.prototype.To=function(t,e,n){return this.Hl.vh(e,n),zn.resolve()},t.prototype.Io=function(t,e,n){this.Hl.Dh(e,n);var i=this.persistence.dr,r=[];return i&&e.forEach((function(e){r.push(i.Dr(t,e))})),zn.Cn(r)},t.prototype.fo=function(t,e){return this.Hl.Ch(e),zn.resolve()},t.prototype.Ao=function(t,e){var n=this.Hl.Fh(e);return zn.resolve(n)},t.prototype.Nr=function(t,e){return zn.resolve(this.Hl.Nr(e))},t}(),Es=function(){function t(t){var e=this;this.Jl={},this.yo=new Kn(0),this.po=!1,this.po=!0,this.dr=t(this),this.ko=new Cs(this),this.zn=new zi,this.Kn=new ws(this.zn,(function(t){return e.dr.Xl(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.th=function(){return this.po=!1,Promise.resolve()},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.Bo=function(){},t.prototype.Uo=function(){},t.prototype.uh=function(){return this.zn},t.prototype.oh=function(t){var e=this.Jl[t.$h()];return e||(e=new bs(this.zn,this.dr),this.Jl[t.$h()]=e),e},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.Kn},t.prototype.runTransaction=function(t,e,n){var i=this;d("MemoryPersistence","Starting transaction:",t);var r=new Ss(this.yo.next());return this.dr.Zl(),n(r).next((function(t){return i.dr.t_(r).next((function(){return t}))})).Sn().then((function(t){return r.jn(),t}))},t.prototype.e_=function(t,e){return zn.Nn(Object.values(this.Jl).map((function(n){return function(){return n.Nr(t,e)}})))},t}(),Ss=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ro=e,n}return i.__extends(e,t),e}(Gn),xs=function(){function t(t){this.persistence=t,this.n_=new Dr,this.s_=null}return t.i_=function(e){return new t(e)},Object.defineProperty(t.prototype,"r_",{get:function(){if(this.s_)return this.s_;throw g()},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t,e,n){return this.n_.Eo(n,e),this.r_.delete(n.toString()),zn.resolve()},t.prototype.mo=function(t,e,n){return this.n_.mo(n,e),this.r_.add(n.toString()),zn.resolve()},t.prototype.Dr=function(t,e){return this.r_.add(e.toString()),zn.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.n_.Ch(e.targetId).forEach((function(t){return n.r_.add(t.toString())}));var i=this.persistence.hh();return i.Ao(t,e.targetId).next((function(t){t.forEach((function(t){return n.r_.add(t.toString())}))})).next((function(){return i._o(t,e)}))},t.prototype.Zl=function(){this.s_=new Set},t.prototype.t_=function(t){var e=this,n=this.persistence.ah().jr();return zn.forEach(this.r_,(function(i){var r=V.B(i);return e.o_(t,r).next((function(t){t||n.Mn(r)}))})).next((function(){return e.s_=null,n.apply(t)}))},t.prototype.wh=function(t,e){var n=this;return this.o_(t,e).next((function(t){t?n.r_.delete(e.toString()):n.r_.add(e.toString())}))},t.prototype.Xl=function(t){return 0},t.prototype.o_=function(t,e){var n=this;return zn.Nn([function(){return zn.resolve(n.n_.Nr(e))},function(){return n.persistence.hh().Nr(t,e)},function(){return n.persistence.e_(t,e)}])},t}(),Is=function(){function t(t){this.h_=t.h_,this.a_=t.a_}return t.prototype.wa=function(t){this.u_=t},t.prototype.ca=function(t){this.c_=t},t.prototype.onMessage=function(t){this.l_=t},t.prototype.close=function(){this.a_()},t.prototype.send=function(t){this.h_(t)},t.prototype.__=function(){this.u_()},t.prototype.f_=function(t){this.c_(t)},t.prototype.d_=function(t){this.l_(t)},t}(),ks={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ts=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n}return i.__extends(e,t),e.prototype.A_=function(t,e,n,i){return new Promise((function(r,s){var o=new a.XhrIo;o.listenOnce(a.EventType.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=o.getResponseJson();d("Connection","XHR received:",JSON.stringify(e)),r(e);break;case a.ErrorCode.TIMEOUT:d("Connection",'RPC "'+t+'" timed out'),s(new O(R.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=o.getStatus();if(d("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var i=o.getResponseJson().error;if(i&&i.status&&i.message){var l=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(R).indexOf(e)>=0?e:R.UNKNOWN}(i.status);s(new O(l,i.message))}else s(new O(R.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new O(R.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{d("Connection",'RPC "'+t+'" completed.')}}));var l=JSON.stringify(i);o.send(e,"POST",l,n,15)}))},e.prototype.Ta=function(t,e){var n=[this.T_,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=a.createWebChannelTransport(),r={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.m_(r.initMessageHeaders,e),o.isMobileCordova()||o.isReactNative()||o.isElectron()||o.isIE()||o.isUWP()||o.isBrowserExtension()||(r.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");d("Connection","Creating WebChannel: "+s,r);var l=i.createWebChannel(s,r),u=!1,c=!1,h=new Is({h_:function(t){c?d("Connection","Not sending because WebChannel is closed:",t):(u||(d("Connection","Opening WebChannel transport."),l.open(),u=!0),d("Connection","WebChannel sending:",t),l.send(t))},a_:function(){return l.close()}}),f=function(t,e){l.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(a.WebChannel.EventType.OPEN,(function(){c||d("Connection","WebChannel transport opened.")})),f(a.WebChannel.EventType.CLOSE,(function(){c||(c=!0,d("Connection","WebChannel transport closed"),h.f_())})),f(a.WebChannel.EventType.ERROR,(function(t){c||(c=!0,p("Connection","WebChannel transport errored:",t),h.f_(new O(R.UNAVAILABLE,"The operation could not be completed")))})),f(a.WebChannel.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];_(!!n);var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){d("Connection","WebChannel received error:",i);var r=i.status,s=function(t){var e=K[t];if(void 0!==e)return J(e)}(r),o=i.message;void 0===s&&(s=R.INTERNAL,o="Unknown error status: "+r+" with message "+i.message),c=!0,h.f_(new O(s,o)),l.close()}else d("Connection","WebChannel received:",n),h.d_(n)}})),setTimeout((function(){h.__()}),0),h},e}(function(){function t(t){this.w_=t,this.s=t.s,this.T_=(t.ssl?"https":"http")+"://"+t.host,this.E_="projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents"}return t.prototype.va=function(t,e,n,i){var r=this.I_(t,e);d("RestConnection","Sending: ",r,n);var s={};return this.m_(s,i),this.A_(t,r,s,n).then((function(t){return d("RestConnection","Received: ",t),t}),(function(e){throw p("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",n),e}))},t.prototype.Sa=function(t,e,n,i){return this.va(t,e,n,i)},t.prototype.m_=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.19.1",t["Content-Type"]="text/plain",e)for(var n in e.Mh)e.Mh.hasOwnProperty(n)&&(t[n]=e.Mh[n])},t.prototype.I_=function(t,e){return this.T_+"/v1/"+e+":"+ks[t]},t}()),As=function(){function t(){var t=this;this.R_=function(){return t.P_()},this.g_=function(){return t.V_()},this.y_=[],this.p_()}return t.prototype.Ka=function(t){this.y_.push(t)},t.prototype.th=function(){window.removeEventListener("online",this.R_),window.removeEventListener("offline",this.g_)},t.prototype.p_=function(){window.addEventListener("online",this.R_),window.addEventListener("offline",this.g_)},t.prototype.P_=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.y_;t<e.length;t++)(0,e[t])(0)},t.prototype.V_=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.y_;t<e.length;t++)(0,e[t])(1)},t.ks=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Rs=function(){function t(){}return t.prototype.Ka=function(t){},t.prototype.th=function(){},t}();function Os(t){return new Wt(t,!0)}var Ds="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Ns=function(){function t(){}return t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Uc=this.b_(t),this.persistence=this.v_(t),[4,this.persistence.start()];case 1:return e.sent(),this.S_=this.D_(t),this.La=this.C_(t),[2]}}))}))},t.prototype.D_=function(t){return null},t.prototype.C_=function(t){return e=this.persistence,n=new vs,new Cr(e,n,t.N_);var e,n},t.prototype.v_=function(t){if(t.k_.F_)throw new O(R.FAILED_PRECONDITION,Ds);return new Es(xs.i_)},t.prototype.b_=function(t){return new es},t.prototype.terminate=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.S_&&this.S_.stop(),[4,this.Uc.th()];case 1:return t.sent(),[4,this.persistence.th()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new O(R.FAILED_PRECONDITION,Ds)},t}(),Ps=function(t){function e(e){var n=this;return(n=t.call(this)||this).x_=e,n}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var n,r=this;return i.__generator(this,(function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),[4,this.x_.initialize(this,e)];case 2:return s.sent(),n=this.x_.fu,this.Uc instanceof ts?(this.Uc.fu={Ic:us.bind(null,n),mc:ps.bind(null,n),Ac:ms.bind(null,n),rh:fs.bind(null,n)},[4,this.Uc.start()]):[3,4];case 3:s.sent(),s.label=4;case 4:return[4,this.persistence.qo((function(t){return i.__awaiter(r,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,cs(this.x_.fu,t)];case 1:return e.sent(),this.S_&&(t&&!this.S_.tr?this.S_.start(this.La):t||this.S_.stop()),[2]}}))}))}))];case 5:return s.sent(),[2]}}))}))},e.prototype.b_=function(t){if(t.k_.F_&&t.k_.synchronizeTabs){var e=oi();if(!ts.ks(e))throw new O(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wr(t.w_.s,t.w_.persistenceKey);return new ts(e,t.ei,n,t.clientId,t.N_)}return new es},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(i){return e=y(t),n=y(e.Ah),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.Wr(t)})).then((function(t){e.mh=t}))]}))}))}(this.La)];case 2:return n.sent(),[2]}}))}))},e.prototype.D_=function(t){return new mi(this.persistence.dr.Yi,t.ei)},e.prototype.v_=function(t){var e=wr(t.w_.s,t.w_.persistenceKey),n=Os(t.w_.s);return new gr(t.k_.synchronizeTabs,e,t.clientId,pi.Ui(t.k_.cacheSizeBytes),t.ei,oi(),ai(),n,this.Uc,t.k_.Vo)},e.prototype.b_=function(t){return new es},e.prototype.clearPersistence=function(t,e){return function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return Qn.ks()?[4,Qn.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(wr(t,e))},e}(Ns)),Fs=function(){function t(){}return t.prototype.initialize=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.La?[3,3]:(this.La=t.La,this.Uc=t.Uc,this.qa=this.O_(e),this.Bc=this.M_(e),this.fu=this.L_(e),this.q_=this.B_(e),this.Uc.Da=function(t){return n.fu.xc(t,1)},this.Bc.fu=this.fu,[4,this.Bc.start()]);case 1:return i.sent(),[4,this.Bc.Su(this.fu.el)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.B_=function(t){return new _s(this.fu)},t.prototype.O_=function(t){var e=Os(t.w_.s),n=new Ts(t.w_);return function(t,e,n){return new qr(t,e,n)}(t.credentials,n,e)},t.prototype.M_=function(t){var e=this;return new Gr(this.La,this.qa,t.ei,(function(t){return e.fu.xc(t,0)}),As.ks()?new As:new Rs)},t.prototype.L_=function(t){return function(t,e,n,i,r,s,o){var a=new as(t,e,n,i,r,s);return o&&(a.tl=!0),a}(this.La,this.Bc,this.qa,this.Uc,t.N_,t.Qc,!t.k_.F_||!t.k_.synchronizeTabs)},t.prototype.terminate=function(){return this.Bc.th()},t}();function Ls(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var s=r[i];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var Ms=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.U_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.U_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Q_=function(){this.muted=!0},t.prototype.U_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Vs(t,e){if(0!==e.length)throw new O(R.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+no(e.length,"argument")+".")}function Us(t,e,n){if(e.length!==n)throw new O(R.INVALID_ARGUMENT,"Function "+t+"() requires "+no(n,"argument")+", but was called with "+no(e.length,"argument")+".")}function js(t,e,n){if(e.length<n)throw new O(R.INVALID_ARGUMENT,"Function "+t+"() requires at least "+no(n,"argument")+", but was called with "+no(e.length,"argument")+".")}function Bs(t,e,n,i){if(e.length<n||e.length>i)throw new O(R.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+i+" arguments, but was called with "+no(e.length,"argument")+".")}function zs(t,e,n,i){Ks(t,e,eo(n)+" argument",i)}function qs(t,e,n,i){void 0!==i&&zs(t,e,n,i)}function Hs(t,e,n,i){Ks(t,e,n+" option",i)}function Gs(t,e,n,i){void 0!==i&&Hs(t,e,n,i)}function $s(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){for(var s=[],o=0,a=r;o<a.length;o++){var l=a[o];if(l===i)return;s.push(Zs(l))}var u=Zs(i);throw new O(R.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+s.join(", "))}(t,0,n,i,r)}function Ws(t,e,n,i){if(!e.some((function(t){return t===i})))throw new O(R.INVALID_ARGUMENT,"Invalid value "+Zs(i)+" provided to function "+t+"() for its "+eo(n)+" argument. Acceptable values: "+e.join(", "));return i}function Ks(t,e,n,i){if(!("object"===e?Ys(i):"non-empty string"===e?"string"==typeof i&&""!==i:typeof i===e)){var r=Zs(i);throw new O(R.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}}function Ys(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Zs(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":g()}function Qs(t,e,n){if(void 0===n)throw new O(R.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+eo(e)+" argument, but it was undefined.")}function Xs(t,e,n){k(e,(function(e,i){if(n.indexOf(e)<0)throw new O(R.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Js(t,e,n,i){var r=Zs(i);return new O(R.INVALID_ARGUMENT,"Function "+t+"() requires its "+eo(n)+" argument to be a "+e+", but it was: "+r)}function to(t,e,n){if(n<=0)throw new O(R.INVALID_ARGUMENT,"Function "+t+"() requires its "+eo(e)+" argument to be a positive number, but it was: "+n+".")}function eo(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function no(t,e){return t+" "+e+(1===t?"":"s")}function io(){if("undefined"==typeof Uint8Array)throw new O(R.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ro(){if("undefined"==typeof atob)throw new O(R.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var so=function(){function t(t){ro(),this.W_=t}return t.fromBase64String=function(e){Us("Blob.fromBase64String",arguments,1),zs("Blob.fromBase64String","string",1,e),ro();try{return new t(W.fromBase64String(e))}catch(e){throw new O(R.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(Us("Blob.fromUint8Array",arguments,1),io(),!(e instanceof Uint8Array))throw Js("Blob.fromUint8Array","Uint8Array",1,e);return new t(W.fromUint8Array(e))},t.prototype.toBase64=function(){return Us("Blob.toBase64",arguments,0),ro(),this.W_.toBase64()},t.prototype.toUint8Array=function(){return Us("Blob.toUint8Array",arguments,0),io(),this.W_.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.W_.isEqual(t.W_)},t}(),oo=function(t){!function(t,e,n,i){if(!(e instanceof Array)||e.length<1)throw new O(R.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+no(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(zs("FieldPath","string",e,t[e]),0===t[e].length)throw new O(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new M(t)},ao=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return i.__extends(e,t),e.documentId=function(){return new e(M.L().F())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Js("isEqual","FieldPath",1,t);return this.j_.isEqual(t.j_)},e}(oo),lo=new RegExp("[~\\*/\\[\\]]"),uo=function(){this.K_=this},co=function(t){function e(e){var n=this;return(n=t.call(this)||this).G_=e,n}return i.__extends(e,t),e.prototype.z_=function(t){if(2!==t.H_)throw t.Y_(1===t.H_?this.G_+"() can only appear at the top level of your update data":this.G_+"() cannot be used with set() unless you pass {merge:true}");return t.qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(uo);function ho(t,e,n){return new xo({H_:3,J_:e.settings.J_,methodName:t.G_,X_:n},e.s,e.serializer,e.ignoreUndefinedProperties)}var fo=function(t){function e(e){var n=this;return(n=t.call(this)||this).G_=e,n}return i.__extends(e,t),e.prototype.z_=function(t){return new Me(t.path,new Te)},e.prototype.isEqual=function(t){return t instanceof e},e}(uo),po=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).G_=e,i.Z_=n,i}return i.__extends(e,t),e.prototype.z_=function(t){var e=ho(this,t,!0),n=this.Z_.map((function(t){return Oo(t,e)})),i=new Ae(n);return new Me(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(uo),mo=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).G_=e,i.Z_=n,i}return i.__extends(e,t),e.prototype.z_=function(t){var e=ho(this,t,!0),n=this.Z_.map((function(t){return Oo(t,e)})),i=new Oe(n);return new Me(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(uo),go=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).G_=e,i.tf=n,i}return i.__extends(e,t),e.prototype.z_=function(t){var e=new Ne(t.serializer,Zt(t.serializer,this.tf));return new Me(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(uo),_o=function(t){function e(){return t.call(this)||this}return i.__extends(e,t),e.delete=function(){return Vs("FieldValue.delete",arguments),new yo(new co("FieldValue.delete"))},e.serverTimestamp=function(){return Vs("FieldValue.serverTimestamp",arguments),new yo(new fo("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return js("FieldValue.arrayUnion",arguments,1),new yo(new po("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return js("FieldValue.arrayRemove",arguments,1),new yo(new mo("FieldValue.arrayRemove",t))},e.increment=function(t){return zs("FieldValue.increment","number",1,t),Us("FieldValue.increment",arguments,1),new yo(new go("FieldValue.increment",t))},e}(uo),yo=function(t){function e(e){var n=this;return(n=t.call(this)||this).K_=e,n.G_=e.G_,n}return i.__extends(e,t),e.prototype.z_=function(t){return this.K_.z_(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.K_.isEqual(t.K_)},e}(_o),vo=function(){function t(t,e){if(Us("GeoPoint",arguments,2),zs("GeoPoint","number",1,t),zs("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new O(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new O(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.ef=t,this.nf=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.ef},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.nf},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.ef===t.ef&&this.nf===t.nf},t.prototype.toJSON=function(){return{latitude:this.ef,longitude:this.nf}},t.prototype.T=function(t){return w(this.ef,t.ef)||w(this.nf,t.nf)},t}(),bo=/^__.*__$/,wo=function(t,e,n){this.sf=t,this.if=e,this.rf=n},Co=function(){function t(t,e,n){this.data=t,this.qe=e,this.fieldTransforms=n}return t.prototype.hf=function(t,e){var n=[];return n.push(null!==this.qe?new Ke(t,this.data,this.qe,e):new We(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ze(t,this.fieldTransforms)),n},t}(),Eo=function(){function t(t,e,n){this.data=t,this.qe=e,this.fieldTransforms=n}return t.prototype.hf=function(t,e){var n=[new Ke(t,this.data,this.qe,e)];return this.fieldTransforms.length>0&&n.push(new Ze(t,this.fieldTransforms)),n},t}();function So(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var xo=function(){function t(t,e,n,i,r,s){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.af(),this.fieldTransforms=r||[],this.qe=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"H_",{get:function(){return this.settings.H_},enumerable:!1,configurable:!0}),t.prototype.uf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.qe)},t.prototype.cf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.uf({path:n,X_:!1});return i.lf(t),i},t.prototype._f=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.uf({path:n,X_:!1});return i.af(),i},t.prototype.ff=function(t){return this.uf({path:void 0,X_:!0})},t.prototype.Y_=function(t){return Mo(t,this.settings.methodName,this.settings.df||!1,this.path,this.settings.J_)},t.prototype.contains=function(t){return void 0!==this.qe.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype.af=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.lf(this.path.get(t))},t.prototype.lf=function(t){if(0===t.length)throw this.Y_("Document fields must not be empty");if(So(this.H_)&&bo.test(t))throw this.Y_('Document fields cannot begin and end with "__"')},t}(),Io=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||Os(t)}return t.prototype.wf=function(t,e,n,i){return void 0===i&&(i=!1),new xo({H_:t,methodName:e,J_:n,path:M.$(),X_:!1,df:i},this.s,this.serializer,this.ignoreUndefinedProperties)},t}();function ko(t,e,n,i,r,s){void 0===s&&(s={});var o=t.wf(s.merge||s.mergeFields?2:0,e,n,r);Po("Data must be an object, but it was:",o,i);var a,l,u=Do(i,o);if(s.merge)a=new Le(o.qe),l=o.fieldTransforms;else if(s.mergeFields){for(var c=[],h=0,d=s.mergeFields;h<d.length;h++){var f=d[h],p=void 0;if(f instanceof oo)p=f.j_;else{if("string"!=typeof f)throw g();p=Lo(e,f,n)}if(!o.contains(p))throw new O(R.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Vo(c,p)||c.push(p)}a=new Le(c),l=o.fieldTransforms.filter((function(t){return a.Ke(t.field)}))}else a=null,l=o.fieldTransforms;return new Co(new en(u),a,l)}function To(t,e,n,i){var r=t.wf(1,e,n);Po("Data must be an object, but it was:",r,i);var s=[],o=new nn;k(i,(function(t,i){var a=Lo(e,t,n),l=r._f(a);if(i instanceof uo&&i.K_ instanceof co)s.push(a);else{var u=Oo(i,l);null!=u&&(s.push(a),o.set(a,u))}}));var a=new Le(s);return new Eo(o.ze(),a,r.fieldTransforms)}function Ao(t,e,n,i,r,s){var o=t.wf(1,e,n),a=[Fo(e,i,n)],l=[r];if(s.length%2!=0)throw new O(R.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(Fo(e,s[u])),l.push(s[u+1]);for(var c=[],h=new nn,d=a.length-1;d>=0;--d)if(!Vo(c,a[d])){var f=a[d],p=l[d],m=o._f(f);if(p instanceof uo&&p.K_ instanceof co)c.push(f);else{var g=Oo(p,m);null!=g&&(c.push(f),h.set(f,g))}}var _=new Le(c);return new Eo(h.ze(),_,o.fieldTransforms)}function Ro(t,e,n,i){return void 0===i&&(i=!1),Oo(n,t.wf(i?4:3,e))}function Oo(t,e){if(No(t))return Po("Unsupported field value:",e,t),Do(t,e);if(t instanceof uo)return function(t,e){if(!So(e.H_))throw e.Y_(t.G_+"() can only be used with update() and set()");if(!e.path)throw e.Y_(t.G_+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.qe.push(e.path),t instanceof Array){if(e.settings.X_&&4!==e.H_)throw e.Y_("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,s=t;r<s.length;r++){var o=Oo(s[r],e.ff(i));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zt(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=D.fromDate(t);return{timestampValue:Qt(e.serializer,n)}}if(t instanceof D){var i=new D(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Qt(e.serializer,i)}}if(t instanceof vo)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof so)return{bytesValue:Xt(e.serializer,t)};if(t instanceof wo){var r=e.s,s=t.sf;if(!s.isEqual(r))throw e.Y_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:ee(t.sf||e.s,t.if.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.Y_("Unsupported field value: "+Zs(t))}(t,e)}function Do(t,e){var n={};return T(t)?e.path&&e.path.length>0&&e.qe.push(e.path):k(t,(function(t,i){var r=Oo(i,e.cf(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function No(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof D||t instanceof vo||t instanceof so||t instanceof wo||t instanceof uo)}function Po(t,e,n){if(!No(n)||!Ys(n)){var i=Zs(n);throw e.Y_("an object"===i?t+" a custom object":t+" "+i)}}function Fo(t,e,n){if(e instanceof oo)return e.j_;if("string"==typeof e)return Lo(t,e);throw Mo("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Lo(t,e,n){try{return function(t){if(t.search(lo)>=0)throw new O(R.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ao.bind.apply(ao,i.__spreadArrays([void 0],t.split("."))))}catch(i){throw new O(R.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).j_}catch(e){throw Mo((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function Mo(t,e,n,i,r){var s=i&&!i._(),o=void 0!==r,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var l="";return(s||o)&&(l+=" (found",s&&(l+=" in field "+i),o&&(l+=" in document "+r),l+=")"),new O(R.INVALID_ARGUMENT,(a+=". ")+t+l)}function Vo(t,e){return t.some((function(t){return t.isEqual(e)}))}var Uo=function(){function t(t){this.qa=t,this.Tf=new Map,this.mutations=[],this.Ef=!1,this.If=null,this.mf=new Set}return t.prototype.Af=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.Rf(),this.mutations.length>0)throw new O(R.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,a,l;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(t),r=ae(n.serializer)+"/documents",s={documents:e.map((function(t){return ie(n.serializer,t)}))},[4,n.Sa("BatchGetDocuments",r,s)];case 1:return o=i.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){_(!!e.found);var n=re(t,e.found.name),i=te(e.found.updateTime),r=new en({mapValue:{fields:e.found.fields}});return new on(n,i,r,{})}(t,e):"missing"in e?function(t,e){_(!!e.missing),_(!!e.readTime);var n=re(t,e.missing),i=te(e.readTime);return new an(n,i)}(t,e):g()}(n.serializer,t);a.set(e.key.toString(),e)})),l=[],[2,(e.forEach((function(t){var e=a.get(t.toString());_(!!e),l.push(e)})),l)]}}))}))}(this.qa,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof an||t instanceof on?n.Pf(t):g()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.hf(t,this.Qe(t))),this.mf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.hf(t,this.gf(t)))}catch(t){this.If=t}this.mf.add(t.toString())},t.prototype.delete=function(t){this.write([new Je(t,this.Qe(t))]),this.mf.add(t.toString())},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.Rf(),this.If)throw this.If;return t=this.Tf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var i=V.B(n);e.mutations.push(new tn(i,e.Qe(i)))})),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(t),r=ae(n.serializer)+"/documents",s={writes:e.map((function(t){return ce(n.serializer,t)}))},[4,n.va("Commit",r,s)];case 1:return i.sent(),[2]}}))}))}(this.qa,this.mutations)];case 1:return n.sent(),this.Ef=!0,[2]}}))}))},t.prototype.Pf=function(t){var e;if(t instanceof on)e=t.version;else{if(!(t instanceof an))throw g();e=N.min()}var n=this.Tf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new O(R.ABORTED,"Document version changed between two reads.")}else this.Tf.set(t.key.toString(),e)},t.prototype.Qe=function(t){var e=this.Tf.get(t.toString());return!this.mf.has(t.toString())&&e?Ue.updateTime(e):Ue.We()},t.prototype.gf=function(t){var e=this.Tf.get(t.toString());if(!this.mf.has(t.toString())&&e){if(e.isEqual(N.min()))throw new O(R.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ue.updateTime(e)}return Ue.exists(!0)},t.prototype.write=function(t){this.Rf(),this.mutations=this.mutations.concat(t)},t.prototype.Rf=function(){},t}(),jo=function(){function t(t,e,n,i){this.ei=t,this.qa=e,this.updateFunction=n,this.ii=i,this.Vf=5,this.Ti=new Zn(this.ei,"transaction_retry")}return t.prototype.run=function(){this.yf()},t.prototype.yf=function(){var t=this;this.Ti.bs((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return i.__generator(this,(function(i){return t=new Uo(this.qa),(e=this.pf(t))&&e.then((function(e){n.ei.ai((function(){return t.commit().then((function(){n.ii.resolve(e)})).catch((function(t){n.bf(t)}))}))})).catch((function(t){n.bf(t)})),[2]}))}))}))},t.prototype.pf=function(t){try{var e=this.updateFunction(t);return!U(e)&&e.catch&&e.then?e:(this.ii.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ii.reject(t),null}},t.prototype.bf=function(t){var e=this;this.Vf>0&&this.vf(t)?(this.Vf-=1,this.ei.ai((function(){return e.yf(),Promise.resolve()}))):this.ii.reject(t)},t.prototype.vf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!X(e)}return!1},t}(),Bo=function(){function t(t,e){this.credentials=t,this.ei=e,this.clientId=b.t(),this.Sf=new Yn}return t.prototype.start=function(t,e,n,i){var r=this;this.Df(),this.w_=t;var s=new Yn,o=!1;return this.credentials.Bh((function(t){if(!o)return o=!0,d("FirestoreClient","Initializing. user=",t.uid),r.Cf(e,n,i,t,s).then(r.Sf.resolve,r.Sf.reject);r.ei.gi((function(){return r.Bc.vu(t)}))})),this.ei.ai((function(){return r.Sf.promise})),s.promise},t.prototype.enableNetwork=function(){var t=this;return this.Df(),this.ei.enqueue((function(){return t.persistence.Uo(!0),t.Bc.enableNetwork()}))},t.prototype.Cf=function(t,e,n,r,s){return i.__awaiter(this,void 0,void 0,(function(){var o,a,l=this;return i.__generator(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.initialize(o={ei:this.ei,w_:this.w_,clientId:this.clientId,credentials:this.credentials,N_:r,Qc:100,k_:n})];case 1:return u.sent(),[4,e.initialize(t,o)];case 2:return u.sent(),this.persistence=t.persistence,this.Uc=t.Uc,this.La=t.La,this.S_=t.S_,this.qa=e.qa,this.Bc=e.Bc,this.fu=e.fu,this.Nf=e.q_,this.persistence.Bo((function(){return i.__awaiter(l,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),s.resolve(),[3,4];case 3:if(a=u.sent(),s.reject(a),!this.Ff(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.Cf(new Ns,new Fs,{F_:!1},r,s))];case 4:return[2]}}))}))},t.prototype.Ff=function(t){return"FirebaseError"===t.name?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Df=function(){if(this.ei.Ii)throw new O(R.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.Df(),this.ei.enqueue((function(){return t.persistence.Uo(!1),t.Bc.disableNetwork()}))},t.prototype.terminate=function(){var t=this;this.ei.Pi();var e=new Yn;return this.ei.mi((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),this.S_&&this.S_.stop(),[4,this.Bc.th()];case 1:return i.sent(),[4,this.Uc.th()];case 2:return i.sent(),[4,this.persistence.th()];case 3:return i.sent(),this.credentials.Uh(),e.resolve(),[3,5];case 4:return t=i.sent(),n=ci(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.Df();var e=new Yn;return this.ei.ai((function(){return t.fu._l(e)})),e.promise},t.prototype.listen=function(t,e,n){var i=this;this.Df();var r=new Ms(n),s=new ys(t,r,e);return this.ei.ai((function(){return i.Nf.listen(s)})),function(){r.Q_(),i.ei.ai((function(){return i.Nf.lu(s)}))}},t.prototype.kf=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(e.sent(),function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,s=this;return i.__generator(this,(function(o){switch(o.label){case 0:return r=new Yn,[4,t.enqueue((function(){return i.__awaiter(s,void 0,void 0,(function(){var t,s,o;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Rh.Hn(t,e)}))}(e,n)];case 1:return(t=i.sent())instanceof on?r.resolve(t):t instanceof an?r.resolve(null):r.reject(new O(R.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return s=i.sent(),o=ci(s,"Failed to get document '"+n+" from cache"),r.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(o.sent(),r.promise)]}}))}))}(this.ei,this.La,t))]}}))}))},t.prototype.$f=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(n.sent(),function(t,e,n,i){var r=new Yn,s=zo(t,e,dn(n.path),{includeMetadataChanges:!0,$l:!0},{next:function(t){s();var e=t.docs.has(n);!e&&t.fromCache?r.reject(new O(R.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&i&&"server"===i.source?r.reject(new O(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(t)},error:function(t){return r.reject(t)}});return r.promise}(this.ei,this.Nf,t,e))]}}))}))},t.prototype.xf=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(e.sent(),function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,s=this;return i.__generator(this,(function(o){switch(o.label){case 0:return r=new Yn,[4,t.enqueue((function(){return i.__awaiter(s,void 0,void 0,(function(){var t,s,o,a,l,u;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Ar(e,n,!0)];case 1:return t=i.sent(),s=new rs(n,t.gh),o=s.Sc(t.documents),a=s.Un(o,!1),r.resolve(a.snapshot),[3,3];case 2:return l=i.sent(),u=ci(l,"Failed to execute query '"+n+" against cache"),r.reject(u),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(o.sent(),r.promise)]}}))}))}(this.ei,this.La,t))]}}))}))},t.prototype.Of=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(n.sent(),function(t,e,n,i){var r=new Yn,s=zo(t,e,n,{includeMetadataChanges:!0,$l:!0},{next:function(t){s(),t.fromCache&&i&&"server"===i.source?r.reject(new O(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(t)},error:function(t){return r.reject(t)}});return r.promise}(this.ei,this.Nf,t,e))]}}))}))},t.prototype.write=function(t){var e=this;this.Df();var n=new Yn;return this.ei.ai((function(){return e.fu.write(t,n)})),n.promise},t.prototype.s=function(){return this.w_.s},t.prototype.bl=function(t){var e=this;this.Df();var n=new Ms(t);return this.ei.ai((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.Nf.bl(n)]}))}))})),function(){n.Q_(),e.ei.ai((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.Nf.vl(n)]}))}))}))}},Object.defineProperty(t.prototype,"Mf",{get:function(){return this.ei.Ii},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Df();var n=new Yn;return this.ei.ai((function(){return new jo(e.ei,e.qa,t,n).run(),Promise.resolve()})),n.promise},t}();function zo(t,e,n,i,r){var s=new Ms(r),o=new ys(n,s,i);return t.ai((function(){return e.listen(o)})),function(){s.Q_(),t.ai((function(){return e.lu(o)}))}}var qo=function(){function t(t,e,n,i){this.s=t,this.timestampsInSnapshots=e,this.Lf=n,this.qf=i}return t.prototype.Bf=function(t){switch(Rt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mt(t.integerValue||t.doubleValue);case 3:return this.Uf(t.timestampValue);case 4:return this.Qf(t);case 5:return t.stringValue;case 6:return new so(Vt(t.bytesValue));case 7:return this.Wf(t.referenceValue);case 8:return this.jf(t.geoPointValue);case 9:return this.Kf(t.arrayValue);case 10:return this.Gf(t.mapValue);default:throw g()}},t.prototype.Gf=function(t){var e=this,n={};return k(t.fields||{},(function(t,i){n[t]=e.Bf(i)})),n},t.prototype.jf=function(t){return new vo(Mt(t.latitude),Mt(t.longitude))},t.prototype.Kf=function(t){var e=this;return(t.values||[]).map((function(t){return e.Bf(t)}))},t.prototype.Qf=function(t){switch(this.Lf){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return kt(n)?t(n):n}(t);return null==e?null:this.Bf(e);case"estimate":return this.Uf(Tt(t));default:return null}},t.prototype.Uf=function(t){var e=Lt(t),n=new D(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.Wf=function(t){var e=F.k(t);_(Ee(e));var n=new x(e.get(1),e.get(3)),i=new V(e.V(5));return n.isEqual(this.s)||f("Document "+i+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.qf(i)},t}(),Ho=pi.ji,Go=function(){function t(t){var e,n,i,r;if(void 0===t.host){if(void 0!==t.ssl)throw new O(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Hs("settings","non-empty string","host",t.host),this.host=t.host,Gs("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Xs("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),Gs("settings","object","credentials",t.credentials),this.credentials=t.credentials,Gs("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),Gs("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?f("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&f("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(i=t.ignoreUndefinedProperties)&&void 0!==i&&i,Gs("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=pi.Gi;else{if(t.cacheSizeBytes!==Ho&&t.cacheSizeBytes<pi.Ki)throw new O(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+pi.Ki);this.cacheSizeBytes=t.cacheSizeBytes}Gs("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(r=t.experimentalForceLongPolling)&&void 0!==r&&r}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),$o=function(){function t(e,n,r,s){var o=this;if(void 0===r&&(r=new Ns),void 0===s&&(s=new Fs),this.zf=r,this.Hf=s,this.Yf=null,this.Jf=new ui,this.INTERNAL={delete:function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Xf(),[4,this.Zf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.Yf=a,this.sf=t.td(a),this.ed=a.name,this.nd=new Mr(n)}else{var l=e;if(!l.projectId)throw new O(R.INVALID_ARGUMENT,"Must provide projectId");this.sf=new x(l.projectId,l.database),this.ed="[DEFAULT]",this.nd=new Lr}this.sd=new Go({})}return Object.defineProperty(t.prototype,"rd",{get:function(){return this.od||(this.od=new Io(this.sf,this.sd.ignoreUndefinedProperties)),this.od},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){Us("Firestore.settings",arguments,1),zs("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.sd),t)).merge;var e=new Go(t);if(this.Zf&&!this.sd.isEqual(e))throw new O(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.sd=e,void 0!==e.credentials&&(this.nd=function(t){if(!t)return new Lr;switch(t.type){case"gapi":var e=t.hd;return _(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ur(e,t.zh||"0");case"provider":return t.hd;default:throw new O(R.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.Xf(),this.Zf.enableNetwork()},t.prototype.disableNetwork=function(){return this.Xf(),this.Zf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.Zf)throw new O(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var i=!1,r=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&f("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),i=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,r=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,i&&r))throw new O(R.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.ad(this.zf,this.Hf,{F_:!0,cacheSizeBytes:this.sd.cacheSizeBytes,synchronizeTabs:i,Vo:r})},t.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){if(void 0!==this.Zf&&!this.Zf.Mf)throw new O(R.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new Yn,[2,(this.Jf.mi((function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.zf.clearPersistence(this.sf,this.ed)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"ud",{get:function(){return this.Xf(),this.Zf.Mf},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.Xf(),this.Zf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.Xf(),Ls(t)?this.Zf.bl(t):(zs("Firestore.onSnapshotsInSync","function",1,t),this.Zf.bl({next:t}))},t.prototype.Xf=function(){return this.Zf||this.ad(new Ns,new Fs,{F_:!1}),this.Zf},t.prototype.ld=function(){return new S(this.sf,this.ed,this.sd.host,this.sd.ssl,this.sd.experimentalForceLongPolling)},t.prototype.ad=function(t,e,n){var i=this.ld();return this.Zf=new Bo(this.nd,this.Jf),this.Zf.start(i,t,e,n)},t.td=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new O(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new O(R.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new x(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Yf)throw new O(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Yf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return Us("Firestore.collection",arguments,1),zs("Firestore.collection","non-empty string",1,t),this.Xf(),new aa(F.k(t),this,null)},t.prototype.doc=function(t){return Us("Firestore.doc",arguments,1),zs("Firestore.doc","non-empty string",1,t),this.Xf(),Yo._d(F.k(t),this,null)},t.prototype.collectionGroup=function(t){if(Us("Firestore.collectionGroup",arguments,1),zs("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new O(R.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Xf(),new sa(function(t){return new cn(F.$(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return Us("Firestore.runTransaction",arguments,1),zs("Firestore.runTransaction","function",1,t),this.Xf().transaction((function(n){return t(new Wo(e,n))}))},t.prototype.batch=function(){return this.Xf(),new Ko(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.ERROR:return"error";case s.LogLevel.SILENT:return"silent";case s.LogLevel.WARN:return"warn";case s.LogLevel.INFO:return"info";case s.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){Us("Firestore.setLogLevel",arguments,1),Ws("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),c.setLogLevel(t)},t.prototype.fd=function(){return this.sd.timestampsInSnapshots},t.prototype.dd=function(){return this.sd},t}(),Wo=function(){function t(t,e){this.wd=t,this.Td=e}return t.prototype.get=function(t){var e=this;Us("Transaction.get",arguments,1);var n=ha("Transaction.get",t,this.wd);return this.Td.Af([n.if]).then((function(t){if(!t||1!==t.length)return g();var i=t[0];if(i instanceof an)return new Qo(e.wd,n.if,null,!1,!1,n.rf);if(i instanceof on)return new Qo(e.wd,n.if,i,!1,!1,n.rf);throw g()}))},t.prototype.set=function(t,e,n){Bs("Transaction.set",arguments,2,3);var i=ha("Transaction.set",t,this.wd);n=la("Transaction.set",n);var r=fa(i.rf,e,n),s=ko(this.wd.rd,"Transaction.set",i.if,r,null!==i.rf,n);return this.Td.set(i.if,s),this},t.prototype.update=function(t,e,n){for(var i,r,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof ao?(js("Transaction.update",arguments,3),i=ha("Transaction.update",t,this.wd),r=Ao(this.wd.rd,"Transaction.update",i.if,e,n,s)):(Us("Transaction.update",arguments,2),i=ha("Transaction.update",t,this.wd),r=To(this.wd.rd,"Transaction.update",i.if,e)),this.Td.update(i.if,r),this},t.prototype.delete=function(t){Us("Transaction.delete",arguments,1);var e=ha("Transaction.delete",t,this.wd);return this.Td.delete(e.if),this},t}(),Ko=function(){function t(t){this.wd=t,this.Ed=[],this.Id=!1}return t.prototype.set=function(t,e,n){Bs("WriteBatch.set",arguments,2,3),this.md();var i=ha("WriteBatch.set",t,this.wd);n=la("WriteBatch.set",n);var r=fa(i.rf,e,n),s=ko(this.wd.rd,"WriteBatch.set",i.if,r,null!==i.rf,n);return this.Ed=this.Ed.concat(s.hf(i.if,Ue.We())),this},t.prototype.update=function(t,e,n){for(var i,r,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.md(),"string"==typeof e||e instanceof ao?(js("WriteBatch.update",arguments,3),i=ha("WriteBatch.update",t,this.wd),r=Ao(this.wd.rd,"WriteBatch.update",i.if,e,n,s)):(Us("WriteBatch.update",arguments,2),i=ha("WriteBatch.update",t,this.wd),r=To(this.wd.rd,"WriteBatch.update",i.if,e)),this.Ed=this.Ed.concat(r.hf(i.if,Ue.exists(!0))),this},t.prototype.delete=function(t){Us("WriteBatch.delete",arguments,1),this.md();var e=ha("WriteBatch.delete",t,this.wd);return this.Ed=this.Ed.concat(new Je(e.if,Ue.We())),this},t.prototype.commit=function(){return this.md(),this.Id=!0,this.Ed.length>0?this.wd.Xf().write(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Id)throw new O(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Yo=function(t){function e(e,n,i){var r=this;return(r=t.call(this,n.sf,e,i)||this).if=e,r.firestore=n,r.rf=i,r.Zf=r.firestore.Xf(),r}return i.__extends(e,t),e._d=function(t,n,i){if(t.length%2!=0)throw new O(R.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.F()+" has "+t.length);return new e(new V(t),n,i)},Object.defineProperty(e.prototype,"id",{get:function(){return this.if.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new aa(this.if.path.p(),this.firestore,this.rf)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.if.path.F()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Us("DocumentReference.collection",arguments,1),zs("DocumentReference.collection","non-empty string",1,t),!t)throw new O(R.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=F.k(t);return new aa(this.if.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Js("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.if.isEqual(t.if)&&this.rf===t.rf},e.prototype.set=function(t,e){Bs("DocumentReference.set",arguments,1,2),e=la("DocumentReference.set",e);var n=fa(this.rf,t,e),i=ko(this.firestore.rd,"DocumentReference.set",this.if,n,null!==this.rf,e);return this.Zf.write(i.hf(this.if,Ue.We()))},e.prototype.update=function(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return"string"==typeof t||t instanceof ao?(js("DocumentReference.update",arguments,2),n=Ao(this.firestore.rd,"DocumentReference.update",this.if,t,e,i)):(Us("DocumentReference.update",arguments,1),n=To(this.firestore.rd,"DocumentReference.update",this.if,t)),this.Zf.write(n.hf(this.if,Ue.exists(!0)))},e.prototype.delete=function(){return Us("DocumentReference.delete",arguments,0),this.Zf.write([new Je(this.if,Ue.We())])},e.prototype.onSnapshot=function(){for(var t,e,n,i=this,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];Bs("DocumentReference.onSnapshot",arguments,1,4);var o={includeMetadataChanges:!1},a=0;"object"!=typeof r[a]||Ls(r[a])||(Xs("DocumentReference.onSnapshot",o=r[a],["includeMetadataChanges"]),Gs("DocumentReference.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++);var l={includeMetadataChanges:o.includeMetadataChanges};if(Ls(r[a])){var u=r[a];r[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),r[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),r[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else zs("DocumentReference.onSnapshot","function",a,r[a]),qs("DocumentReference.onSnapshot","function",a+1,r[a+1]),qs("DocumentReference.onSnapshot","function",a+2,r[a+2]);var c={next:function(t){r[a]&&r[a](i.Ad(t))},error:r[a+1],complete:r[a+2]};return this.Zf.listen(dn(this.if.path),l,c)},e.prototype.get=function(t){var e=this;Bs("DocumentReference.get",arguments,0,1),ca("DocumentReference.get",t);var n=this.firestore.Xf();return t&&"cache"===t.source?n.kf(this.if).then((function(t){return new Qo(e.firestore,e.if,t,!0,t instanceof on&&t.Ge,e.rf)})):n.$f(this.if,t).then((function(t){return e.Ad(t)}))},e.prototype.withConverter=function(t){return new e(this.if,this.firestore,t)},e.prototype.Ad=function(t){var e=t.docs.get(this.if);return new Qo(this.firestore,this.if,e,t.fromCache,t.hasPendingWrites,this.rf)},e}(wo),Zo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Qo=function(){function t(t,e,n,i,r,s){this.wd=t,this.if=e,this.Rd=n,this.Pd=i,this.gd=r,this.rf=s}return t.prototype.data=function(t){var e=this;if(Bs("DocumentSnapshot.data",arguments,0,1),t=ua("DocumentSnapshot.data",t),this.Rd){if(this.rf){var n=new Xo(this.wd,this.if,this.Rd,this.Pd,this.gd,null);return this.rf.fromFirestore(n,t)}return new qo(this.wd.sf,this.wd.fd(),t.serverTimestamps||"none",(function(t){return new Yo(t,e.wd,null)})).Bf(this.Rd.tn())}},t.prototype.get=function(t,e){var n=this;if(Bs("DocumentSnapshot.get",arguments,1,2),e=ua("DocumentSnapshot.get",e),this.Rd){var i=this.Rd.data().field(Fo("DocumentSnapshot.get",t,this.if));if(null!==i)return new qo(this.wd.sf,this.wd.fd(),e.serverTimestamps||"none",(function(t){return new Yo(t,n.wd,n.rf)})).Bf(i)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.if.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Yo(this.if,this.wd,this.rf)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Rd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Zo(this.gd,this.Pd)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Js("isEqual","DocumentSnapshot",1,e);return this.wd===e.wd&&this.Pd===e.Pd&&this.if.isEqual(e.if)&&(null===this.Rd?null===e.Rd:this.Rd.isEqual(e.Rd))&&this.rf===e.rf},t}(),Xo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Qo);function Jo(t,e,n,i,r,s,o){var a;if(r.M()){if("array-contains"===s||"array-contains-any"===s)throw new O(R.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){na(o,s);for(var l=[],u=0,c=o;u<c.length;u++)l.push(ea(i,t,c[u]));a={arrayValue:{values:l}}}else a=ea(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||na(o,s),a=Ro(n,e,o,"in"===s||"not-in"===s);var h=Sn.create(r,s,a);return function(t,e){if(e._n()){var n=t.ln();if(null!==n&&!n.isEqual(e.field))throw new O(R.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var i=t.cn();null!==i&&ia(0,e.field,i)}var r=t.fn(function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new O(R.INVALID_ARGUMENT,r===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,h),h}function ta(t,e,n){if(null!==t.startAt)throw new O(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new O(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new Mn(e,n);return function(t,e){if(null===t.cn()){var n=t.ln();null!==n&&ia(0,n,e.field)}}(t,i),i}function ea(t,e,n){if("string"==typeof n){if(""===n)throw new O(R.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!fn(e)&&-1!==n.indexOf("/"))throw new O(R.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(F.k(n));if(!V.j(i))throw new O(R.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Ut(t,new V(i))}if(n instanceof wo)return Ut(t,n.if);throw new O(R.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Zs(n)+".")}function na(t,e){if(!Array.isArray(t)||0===t.length)throw new O(R.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new O(R.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new O(R.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new O(R.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function ia(t,e,n){if(!n.isEqual(e))throw new O(R.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ra(t){if(t.un()&&0===t.en.length)throw new O(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sa=function(){function t(t,e,n){this.Vd=t,this.firestore=e,this.rf=n}return t.prototype.where=function(e,n,i){var r;Us("Query.where",arguments,3),Qs("Query.where",3,i),r="not-in"===n||"!="===n?n:Ws("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n);var s=Fo("Query.where",e),o=Jo(this.Vd,"Query.where",this.firestore.rd,this.firestore.sf,s,r,i);return new t(function(t,e){var n=t.filters.concat([e]);return new cn(t.path,t.collectionGroup,t.en.slice(),n,t.limit,t.nn,t.startAt,t.endAt)}(this.Vd,o),this.firestore,this.rf)},t.prototype.orderBy=function(e,n){var i;if(Bs("Query.orderBy",arguments,1,2),qs("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)i="asc";else{if("desc"!==n)throw new O(R.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");i="desc"}var r=Fo("Query.orderBy",e),s=ta(this.Vd,r,i);return new t(function(t,e){var n=t.en.concat([e]);return new cn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.nn,t.startAt,t.endAt)}(this.Vd,s),this.firestore,this.rf)},t.prototype.limit=function(e){return Us("Query.limit",arguments,1),zs("Query.limit","number",1,e),to("Query.limit",1,e),new t(gn(this.Vd,e,"F"),this.firestore,this.rf)},t.prototype.limitToLast=function(e){return Us("Query.limitToLast",arguments,1),zs("Query.limitToLast","number",1,e),to("Query.limitToLast",1,e),new t(gn(this.Vd,e,"L"),this.firestore,this.rf)},t.prototype.startAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];js("Query.startAt",arguments,1);var r=this.yd("Query.startAt",e,n,!0);return new t(_n(this.Vd,r),this.firestore,this.rf)},t.prototype.startAfter=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];js("Query.startAfter",arguments,1);var r=this.yd("Query.startAfter",e,n,!1);return new t(_n(this.Vd,r),this.firestore,this.rf)},t.prototype.endBefore=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];js("Query.endBefore",arguments,1);var r=this.yd("Query.endBefore",e,n,!0);return new t(yn(this.Vd,r),this.firestore,this.rf)},t.prototype.endAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];js("Query.endAt",arguments,1);var r=this.yd("Query.endAt",e,n,!1);return new t(yn(this.Vd,r),this.firestore,this.rf)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Js("isEqual","Query",1,e);return this.firestore===e.firestore&&vn(this.Vd,e.Vd)&&this.rf===e.rf},t.prototype.withConverter=function(e){return new t(this.Vd,this.firestore,e)},t.prototype.yd=function(t,e,n,r){if(Qs(t,1,e),e instanceof Qo)return Us(t,i.__spreadArrays([e],n),1),function(t,e,n,i,r){if(!i)throw new O(R.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=pn(t);o<a.length;o++){var l=a[o];if(l.field.M())s.push(Ut(e,i.key));else{var u=i.field(l.field);if(kt(u))throw new O(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var c=l.field.F();throw new O(R.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}s.push(u)}}return new Nn(s,r)}(this.Vd,this.firestore.sf,t,e.Rd,r);var s=[e].concat(n);return function(t,e,n,i,r,s){var o=t.en;if(r.length>o.length)throw new O(R.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],l=0;l<r.length;l++){var u=r[l];if(o[l].field.M()){if("string"!=typeof u)throw new O(R.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof u);if(!fn(t)&&-1!==u.indexOf("/"))throw new O(R.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+u+"' contains a slash.");var c=t.path.child(F.k(u));if(!V.j(c))throw new O(R.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new V(c);a.push(Ut(e,h))}else{var d=Ro(n,i,u);a.push(d)}}return new Nn(a,s)}(this.Vd,this.firestore.sf,this.firestore.rd,t,s,r)},t.prototype.onSnapshot=function(){for(var t,e,n,i=this,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];Bs("Query.onSnapshot",arguments,1,4);var o={},a=0;if("object"!=typeof r[a]||Ls(r[a])||(Xs("Query.onSnapshot",o=r[a],["includeMetadataChanges"]),Gs("Query.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++),Ls(r[a])){var l=r[a];r[a]=null===(t=l.next)||void 0===t?void 0:t.bind(l),r[a+1]=null===(e=l.error)||void 0===e?void 0:e.bind(l),r[a+2]=null===(n=l.complete)||void 0===n?void 0:n.bind(l)}else zs("Query.onSnapshot","function",a,r[a]),qs("Query.onSnapshot","function",a+1,r[a+1]),qs("Query.onSnapshot","function",a+2,r[a+2]);var u={next:function(t){r[a]&&r[a](new oa(i.firestore,i.Vd,t,i.rf))},error:r[a+1],complete:r[a+2]};return ra(this.Vd),this.firestore.Xf().listen(this.Vd,o,u)},t.prototype.get=function(t){var e=this;Bs("Query.get",arguments,0,1),ca("Query.get",t),ra(this.Vd);var n=this.firestore.Xf();return(t&&"cache"===t.source?n.xf(this.Vd):n.Of(this.Vd,t)).then((function(t){return new oa(e.firestore,e.Vd,t,e.rf)}))},t}(),oa=function(){function t(t,e,n,i){this.wd=t,this.pd=e,this.bd=n,this.rf=i,this.vd=null,this.Sd=null,this.metadata=new Zo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.bd.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.bd.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;Bs("QuerySnapshot.forEach",arguments,1,2),zs("QuerySnapshot.forEach","function",1,t),this.bd.docs.forEach((function(i){t.call(e,n.Dd(i,n.metadata.fromCache,n.bd.qt.has(i.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new sa(this.pd,this.wd,this.rf)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(Xs("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),Gs("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.bd.Ut)throw new O(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.vd&&this.Sd===e||(this.vd=function(t,e,n){if(t.Lt._()){var i=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.qt.has(e.doc.key)),oldIndex:-1,newIndex:i++}}))}var r=t.Lt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=n(e.doc,t.fromCache,t.qt.has(e.doc.key)),s=-1,o=-1;return 0!==e.type&&(s=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:da(e.type),doc:i,oldIndex:s,newIndex:o}}))}(this.bd,e,this.Dd.bind(this)),this.Sd=e),this.vd},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Js("isEqual","QuerySnapshot",1,e);return this.wd===e.wd&&vn(this.pd,e.pd)&&this.bd.isEqual(e.bd)&&this.rf===e.rf},t.prototype.Dd=function(t,e,n){return new Xo(this.wd,t.key,t,e,n,this.rf)},t}(),aa=function(t){function e(e,n,i){var r=this;if((r=t.call(this,dn(e),n,i)||this).Cd=e,e.length%2!=1)throw new O(R.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.F()+" has "+e.length);return r}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Vd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Vd.path.p();return t._()?null:new Yo(new V(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Vd.path.F()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){Bs("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=b.t()),zs("CollectionReference.doc","non-empty string",1,t);var e=F.k(t);return Yo._d(this.Vd.path.child(e),this.firestore,this.rf)},e.prototype.add=function(t){Us("CollectionReference.add",arguments,1),zs("CollectionReference.add","object",1,this.rf?this.rf.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Cd,this.firestore,t)},e}(sa);function la(t,e){if(void 0===e)return{merge:!1};if(Xs(t,e,["merge","mergeFields"]),Gs(t,"boolean","merge",e.merge),function(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){if(!(i instanceof Array))throw new O(R.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Zs(i));for(var s=0;s<i.length;++s)if(!r(i[s]))throw new O(R.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+s+" was: "+Zs(i[s]))}(t,"mergeFields",0,i,(function(t){return"string"==typeof t||t instanceof ao}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new O(R.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ua(t,e){return void 0===e?{}:(Xs(t,e,["serverTimestamps"]),$s(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function ca(t,e){qs(t,"object",1,e),e&&(Xs(t,e,["source"]),$s(t,0,"source",e.source,["default","server","cache"]))}function ha(t,e,n){if(e instanceof wo){if(e.firestore!==n)throw new O(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Js(t,"DocumentReference",1,e)}function da(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function fa(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var pa={Firestore:$o,GeoPoint:vo,Timestamp:D,Blob:so,Transaction:Wo,WriteBatch:Ko,DocumentReference:Yo,DocumentSnapshot:Qo,Query:sa,QueryDocumentSnapshot:Xo,QuerySnapshot:oa,CollectionReference:aa,FieldPath:ao,FieldValue:_o,setLogLevel:$o.setLogLevel,CACHE_SIZE_UNLIMITED:Ho};function ma(t){!function(t,e){t.INTERNAL.registerComponent(new l.Component("firestore",(function(t){return function(t,e){var n=new Fs,i=new Ps(n);return new $o(t,e,i,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},pa)))}(t),t.registerVersion("@firebase/firestore","1.16.6")}ma(u.default),e.__PRIVATE_registerFirestore=ma},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),r=n("zVF4"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.Deferred;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService(e);i&&n.resolve(i)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=i.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(r);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var r=i.__values(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var o=i.__read(s.value,2),a=o[1],l=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService(l);a.resolve(u)}catch(c){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=s,e.ComponentContainer=a,e.Provider=o},Wcq6:function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=i(n("wj3C"));r.default.registerVersion("firebase","7.19.1","app"),t.exports=r.default},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return m})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return _})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return I}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function l(t,e){return function(n,i){e(n,i,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}function f(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function _(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){s.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(s[0][2],n)}catch(i){c(s[0][3],i)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function I(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}var r;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},l=o.INFO,u=((r={})[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),c=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,i(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=r.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=s;i<r.length;i++)n(r[i])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,s=n("mrSG"),o=n("zVF4"),a=n("S+S0"),l=n("q/0M"),u=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),c=new o.ErrorFactory("app","Firebase",u),h=((r={})["@firebase/app"]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),d=new l.Logger("@firebase/app"),f=function(){function t(t,e,n){var i,r,l=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return l}),"PUBLIC"));try{for(var u=s.__values(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next())this._addComponent(c.value)}catch(h){i={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(o.contains(e,a))throw c.create("duplicate-app",{appName:a});var l=new t(n,s,i);return e[a]=l,l},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=h[t])&&void 0!==i?i:t;n&&(r+="-"+n);var s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var l=['Unable to register library "'+r+'" with version "'+e+'":'];return s&&l.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),s&&o&&l.push("and"),o&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(l.join(" "))}u(new a.Component(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:l.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});l.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.18.0",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(!o.contains(e,t=t||"[DEFAULT]"))throw c.create("no-app",{appName:t});return e[t]}function u(a){var l,u,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?i[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&o.deepExtend(f,a.serviceProps),i[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=s.__values(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){l={error:g}}finally{try{m&&!m.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}return"PUBLIC"===a.type?i[h]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),r.App=t,i}(f);return e.INTERNAL=s.__assign(s.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(o.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),_.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.10",void 0),t.registerVersion("fire-js","")}(y),e.default=y,e.firebase=y},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return Jn})),n.d(e,"EventType",(function(){return ti})),n.d(e,"WebChannel",(function(){return ei})),n.d(e,"XhrIo",(function(){return ni})),n.d(e,"createWebChannelTransport",(function(){return Xn}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var s,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},l=o||self;function u(){}function c(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),p=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:g).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var v=Date.now;function b(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,f)&&t[f]||(t[f]=++p)}(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,s=0;s<i;s++)s in r&&e.call(n,r[s],s,t)};function S(t){return Array.prototype.concat.apply([],arguments)}function x(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function I(t){return/^[\s\xa0]*$/.test(t)}var k,T=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function A(t,e){return-1!=t.indexOf(e)}function R(t,e){return t<e?-1:t>e?1:0}t:{var O=l.navigator;if(O){var D=O.userAgent;if(D){k=D;break t}}k=""}function N(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function P(t){var e={};for(var n in t)e[n]=t[n];return e}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var s=0;s<F.length;s++)n=F[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function M(t){return M[" "](t),t}M[" "]=u;var V,U,j=A(k,"Opera"),B=A(k,"Trident")||A(k,"MSIE"),z=A(k,"Edge"),q=z||B,H=A(k,"Gecko")&&!(A(k.toLowerCase(),"webkit")&&!A(k,"Edge"))&&!(A(k,"Trident")||A(k,"MSIE"))&&!A(k,"Edge"),G=A(k.toLowerCase(),"webkit")&&!A(k,"Edge");function $(){var t=l.document;return t?t.documentMode:void 0}t:{var W="",K=(U=k,H?/rv:([^\);]+)(\)|;)/.exec(U):z?/Edge\/([\d\.]+)/.exec(U):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):G?/WebKit\/(\S+)/.exec(U):j?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(K&&(W=K?K[1]:""),B){var Y=$();if(null!=Y&&Y>parseFloat(W)){V=String(Y);break t}}V=W}var Z={};function Q(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=T(String(V)).split("."),i=T(String(t)).split("."),r=Math.max(n.length,i.length),s=0;0==e&&s<r;s++){var o=n[s]||"",a=i[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=R(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||R(0==o[2].length,0==a[2].length)||R(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var X=l.document&&B&&($()||parseInt(V,10))||void 0,J=!B||9<=Number(X),tt=B&&!Q("9"),et=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{l.addEventListener("test",u,e),l.removeEventListener("test",u,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function it(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(H){t:{try{M(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:rt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},b(it,nt);var rt={2:"touch",3:"pen",4:"mouse"};it.prototype.b=function(){it.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var st="closure_listenable_"+(1e6*Math.random()|0),ot=0;function at(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ca=r,this.key=++ot,this.Y=this.Z=!1}function lt(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ut(t){this.src=t,this.a={},this.b=0}function ct(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],s=C(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(lt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==i)return r}return-1}ut.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=ht(t,e,i,r);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new at(e,this.src,s,!!i,r)).Z=n,t.push(e)),e};var dt="closure_lm_"+(1e6*Math.random()|0),ft={};function pt(t,e,n,i,r){if(i&&i.once)return function t(e,n,i,r,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],i,r,s);return null}return i=Ct(i),e&&e[st]?e.wa(n,i,d(r)?!!r.capture:!!r,s):mt(e,n,i,!0,r,s)}(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)pt(t,e[s],n,i,r);return null}return n=Ct(n),t&&t[st]?t.va(e,n,d(i)?!!i.capture:!!i,r):mt(t,e,n,!1,i,r)}function mt(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=d(r)?!!r.capture:!!r;if(o&&!J)return null;var a=bt(t);if(a||(t[dt]=a=new ut(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){var t=vt,e=J?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)et||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(_t(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function gt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[st])ct(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(_t(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=bt(e))?(ct(n,t),0==n.b&&(n.src=null,e[dt]=null)):lt(t)}}}function _t(t){return t in ft?ft[t]:ft[t]="on"+t}function yt(t,e){var n=t.listener,i=t.ca||t.src;return t.Z&&gt(t),n.call(i,e)}function vt(t,e){if(t.Y)return!0;if(!J){if(!e)t:{e=["window","event"];for(var n=l,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}return yt(t,e=new it(e,this))}return yt(t,new it(e,this))}function bt(t){return(t=t[dt])instanceof ut?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(t){return"function"==c(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function Et(){w.call(this),this.c=new ut(this),this.J=this,this.C=null}function St(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,l=o.ca||o.src;o.Z&&ct(t.c,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}b(Et,w),Et.prototype[st]=!0,(s=Et.prototype).addEventListener=function(t,e,n,i){pt(this,t,e,n,i)},s.removeEventListener=function(t,e,n,i){!function t(e,n,i,r,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],i,r,s);else r=d(r)?!!r.capture:!!r,i=Ct(i),e&&e[st]?(e=e.c,(n=String(n).toString())in e.a&&-1<(i=ht(o=e.a[n],i,r,s))&&(lt(o[i]),Array.prototype.splice.call(o,i,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=bt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,i,r,s)),(i=-1<e?n[e]:null)&&gt(i))}(this,t,e,n,i)},s.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var i=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var r=t;L(t=new nt(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];r=St(o,i,!0,t)&&r}if(r=St(o=t.a=n,i,!0,t)&&r,r=St(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=St(o=t.a=e[s],i,!1,t)&&r;return r},s.G=function(){if(Et.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)lt(n[i]);delete e.a[t],e.b--}}this.C=null},s.va=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},s.wa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var xt=l.JSON.stringify;function It(){this.b=this.a=null}var kt,Tt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Rt}),(function(t){t.reset()}),100);function At(){var t=Pt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Ot(t){l.setTimeout((function(){throw t}),0)}function Dt(t,e){kt||function(){var t=l.Promise.resolve(void 0);kt=function(){t.then(Ft)}}(),Nt||(kt(),Nt=!0),Pt.add(t,e)}It.prototype.add=function(t,e){var n=Tt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Nt=!1,Pt=new It;function Ft(){for(var t;t=At();){try{t.a.call(t.b)}catch(n){Ot(n)}var e=Tt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Nt=!1}function Lt(t,e){Et.call(this),this.b=t||1,this.a=e||l,this.f=_(this.Ya,this),this.g=v()}function Mt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Vt(t,e,n){if("function"==c(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:l.setTimeout(t,e||0)}function Ut(t){t.a=Vt((function(){t.a=null,t.c&&(t.c=!1,Ut(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}b(Lt,Et),(s=Lt.prototype).aa=!1,s.M=null,s.Ya=function(){if(this.aa){var t=v()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Mt(this),this.start()))}},s.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=v())},s.G=function(){Lt.S.G.call(this),Mt(this),delete this.a};var jt=function(t){function e(e,n,i){var r=t.call(this)||this;return r.g=null!=i?e.bind(i):e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ut(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(l.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function Bt(t){w.call(this),this.b=t,this.a={}}b(Bt,w);var zt=[];function qt(t,e,n,i){Array.isArray(n)||(n&&(zt[0]=n.toString()),n=zt);for(var r=0;r<n.length;r++){var s=pt(e,n[r],i||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Ht(t){N(t.a,(function(t,e){this.a.hasOwnProperty(e)&&gt(t)}),t),t.a={}}function Gt(){this.a=!0}function $t(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return xt(n)}catch(a){return e}}(t,n)+(i?" "+i:"")}))}Bt.prototype.G=function(){Bt.S.G.call(this),Ht(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gt.prototype.info=function(){};var Wt=null;function Kt(){return Wt=Wt||new Et}function Yt(t){nt.call(this,"serverreachability",t)}function Zt(t){var e=Kt();e.dispatchEvent(new Yt(e,t))}function Qt(t){nt.call(this,"statevent",t)}function Xt(t){var e=Kt();e.dispatchEvent(new Qt(e,t))}function Jt(t){nt.call(this,"timingevent",t)}function te(t,e){if("function"!=c(t))throw Error("Fn must not be null and must be a function");return l.setTimeout((function(){t()}),e)}b(Yt,nt),b(Qt,nt),b(Jt,nt);var ee={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ie(){}function re(){}ie.prototype.a=null;var se,oe={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ae(){nt.call(this,"d")}function le(){nt.call(this,"c")}function ue(){}function ce(t,e,n,i){this.g=t,this.c=e,this.f=n,this.T=i||1,this.J=new Bt(this),this.P=he,this.R=new Lt(t=q?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}b(ae,nt),b(le,nt),b(ue,ie),se=new ue;var he=45e3,de={},fe={};function pe(t,e,n){t.H=1,t.i=Le(Re(e)),t.j=n,t.I=!0,me(t,null)}function me(t,e){t.u=v(),ye(t),t.l=Re(t.i);var n=t.l,i=t.T;Array.isArray(i)||(i=[String(i)]),Ye(n.b,"t",i),t.D=0,t.a=Hn(t.g,t.g.C?e:null),0<t.O&&(t.F=new jt(_(t.Ca,t,t.a),t.O)),qt(t.J,t.a,"readystatechange",t.Wa),e=t.B?P(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Zt(1),function(t,e,n,i,r,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function ge(t,e,n){for(var i=!0;!t.A&&t.D<n.length;){var r=_e(t,n);if(r==fe){4==e&&(t.h=4,Xt(14),i=!1),$t(t.c,t.f,null,"[Incomplete Response]");break}if(r==de){t.h=4,Xt(15),$t(t.c,t.f,n,"[Invalid Chunk]"),i=!1;break}$t(t.c,t.f,r,null),Ee(t,r)}4==e&&0==n.length&&(t.h=1,Xt(16),i=!1),t.b=t.b&&i,i?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ln(e),e.F=!0)):($t(t.c,t.f,n,"[Invalid Chunked Response]"),Ce(t),we(t))}function _e(t,e){var n=t.D,i=e.indexOf("\n",n);return-1==i?fe:(n=Number(e.substring(n,i)),isNaN(n)?de:(i+=1)+n>e.length?fe:(e=e.substr(i,n),t.D=i+n,e))}function ye(t){t.U=v()+t.P,ve(t,t.P)}function ve(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=te(_(t.Ua,t),e)}function be(t){t.o&&(l.clearTimeout(t.o),t.o=null)}function we(t){0==t.g.v||t.A||Un(t.g,t)}function Ce(t){be(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Mt(t.R),Ht(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ee(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nn(n.b,t)))if(n.I=t.N,!t.C&&nn(n.b,t)&&3==n.v){try{var i=n.ka.a.parse(e)}catch(g){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Vn(n),kn(n)}Fn(n),Xt(18)}}else n.oa=r[1],0<n.oa-n.P&&37500>r[2]&&n.H&&0==n.o&&!n.m&&(n.m=te(_(n.Ra,n),6e3));if(1>=en(n.b)&&n.ea){try{n.ea()}catch(g){}n.ea=void 0}}else Bn(n,11)}else if((t.C||n.a==t)&&Vn(n),!I(e))for(e=i=n.ka.a.parse(e),i=0;i<e.length;i++)if(n.P=(r=e[i])[0],r=r[1],2==n.v)if("c"==r[0]){n.J=r[1],n.ga=r[2];var s=r[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=r[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=r[5];if(null!=a&&"number"==typeof a&&0<a){var l=1.5*a;n.D=l,n.c.info("backChannelRequestTimeoutMs_="+l)}l=n;var u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=l.b;!h.a&&(A(c,"spdy")||A(c,"quic")||A(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rn(h,h.b),h.b=null))}if(l.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(l.na=d,Fe(l.B,l.A,d))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=v()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((l=n).la=qn(l,l.C?l.ga:null,l.fa),f.C){sn(l.b,f);var p=f,m=l.D;m&&p.setTimeout(m),p.o&&(be(p),ye(p)),l.a=f}else Pn(l);0<n.g.length&&Rn(n)}else"stop"!=r[0]&&"close"!=r[0]||Bn(n,7);else 3==n.v&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Bn(n,7):In(n):"noop"!=r[0]&&n.f&&n.f.sa(r),n.o=0);Zt(4)}catch(g){}}function Se(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)E(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}}function xe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof xe)for(n=t.L(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Ie(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];ke(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)ke(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(s=ce.prototype).setTimeout=function(t){this.P=t},s.Wa=function(t){t=t.target;var e=this.F;e&&3==Cn(t)?e.f():this.Ca(t)},s.Ca=function(t){try{if(t==this.a)t:{var e=Cn(this.a),n=this.a.ua(),i=this.a.X();if(!(3>e||3==e&&!q&&!this.a.$())){this.A||4!=e||7==n||Zt(8==n||0>=i?3:2),be(this);var r=this.a.X();this.N=r;var s=this.a.$();if(this.b=200==r,function(t,e,n,i,r,s,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.T,e,r),this.b){if(this.V&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(o)){var l=o;break e}}l=null}if(!l){this.b=!1,this.h=3,Xt(12),Ce(this),we(this);break t}$t(this.c,this.f,l,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ee(this,l)}this.I?(ge(this,e,s),q&&this.b&&3==e&&(qt(this.J,this.R,"tick",this.Va),this.R.start())):($t(this.c,this.f,s,null),Ee(this,s)),4==e&&Ce(this),this.b&&!this.A&&(4==e?Un(this.g,this):(this.b=!1,ye(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.h=3,Xt(12)):(this.h=0,Xt(13)),Ce(this),we(this)}}}catch(u){}},s.Va=function(){if(this.a){var t=Cn(this.a),e=this.a.$();this.D<e.length&&(be(this),ge(this,t,e),this.b&&4!=t&&ye(this))}},s.cancel=function(){this.A=!0,Ce(this)},s.Ua=function(){this.o=null;var t=v();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Zt(3),Xt(17)),Ce(this),this.h=2,we(this)):ve(this,this.U-t)},(s=xe.prototype).K=function(){Ie(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},s.L=function(){return Ie(this),this.a.concat()},s.get=function(t,e){return ke(this.b,t)?this.b[t]:e},s.set=function(t,e){ke(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},s.forEach=function(t,e){for(var n=this.L(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};var Te=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ae(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ae){this.a=void 0!==e?e:t.a,Oe(this,t.f),this.j=t.j,De(this,t.c),Ne(this,t.h),this.g=t.g,e=t.b;var n=new Ge;n.c=e.c,e.a&&(n.a=new xe(e.a),n.b=e.b),Pe(this,n),this.i=t.i}else t&&(n=String(t).match(Te))?(this.a=!!e,Oe(this,n[1]||"",!0),this.j=Me(n[2]||""),De(this,n[3]||"",!0),Ne(this,n[4]),this.g=Me(n[5]||"",!0),Pe(this,n[6]||"",!0),this.i=Me(n[7]||"")):(this.a=!!e,this.b=new Ge(null,this.a))}function Re(t){return new Ae(t)}function Oe(t,e,n){t.f=n?Me(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function De(t,e,n){t.c=n?Me(e,!0):e}function Ne(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Pe(t,e,n){e instanceof Ge?(t.b=e,function(t,e){e&&!t.f&&($e(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(We(this,e),Ye(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ve(e,qe)),t.b=new Ge(e,t.a))}function Fe(t,e,n){t.b.set(e,n)}function Le(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^v()).toString(36)),t}function Me(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ve(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ae.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ve(e,je,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ve(e,je,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ve(n,"/"==n.charAt(0)?ze:Be,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ve(n,He)),t.join("")};var je=/[#\/\?@]/g,Be=/[#\?:]/g,ze=/[#\?]/g,qe=/[#\?@]/g,He=/#/g;function Ge(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $e(t){t.a||(t.a=new xe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function We(t,e){$e(t),e=Ze(t,e),ke(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ke((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ie(t)))}function Ke(t,e){return $e(t),e=Ze(t,e),ke(t.a.b,e)}function Ye(t,e,n){We(t,e),0<n.length&&(t.c=null,t.a.set(Ze(t,e),x(n)),t.b+=n.length)}function Ze(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Qe(t,e){this.b=t,this.a=e}function Xe(t){this.g=t||Je,t=l.PerformanceNavigationTiming?0<(t=l.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(l.ia&&l.ia.ya&&l.ia.ya()&&l.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(s=Ge.prototype).add=function(t,e){$e(this),this.c=null,t=Ze(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},s.forEach=function(t,e){$e(this),this.a.forEach((function(n,i){E(n,(function(n){t.call(e,n,i,this)}),this)}),this)},s.L=function(){$e(this);for(var t=this.a.K(),e=this.a.L(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},s.K=function(t){$e(this);var e=[];if("string"==typeof t)Ke(this,t)&&(e=S(e,this.a.get(Ze(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},s.set=function(t,e){return $e(this),this.c=null,Ke(this,t=Ze(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},s.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},s.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.K(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.c=t.join("&")};var Je=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function sn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function on(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var s=r(t.a.values()),o=s.next();!o.done;o=s.next())i=i.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i}return x(t.c)}function an(){}function ln(){this.a=new an}function un(t,e,n){var i=n||"";try{Se(t,(function(t,n){var r=t;d(t)&&(r=xt(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function cn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}Xe.prototype.cancel=function(){var t,e;if(this.c=on(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},an.prototype.stringify=function(t){return l.JSON.stringify(t,void 0)},an.prototype.parse=function(t){return l.JSON.parse(t,void 0)};var hn=l.JSON.parse;function dn(t){Et.call(this),this.headers=new xe,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=fn,this.D=this.F=!1}b(dn,Et);var fn="",pn=/^https?$/i,mn=["POST","PUT"];function gn(t){return"content-type"==t.toLowerCase()}function _n(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,yn(t),bn(t)}function yn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function vn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=Cn(t)||2!=t.X()))if(t.l&&4==Cn(t))Vt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Cn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.B).match(Te)[1]||null;if(!s&&l.self&&l.self.location){var o=l.self.location.protocol;s=o.substr(0,o.length-1)}r=!pn.test(s?s.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<Cn(t)?t.a.statusText:""}catch(c){u=""}t.f=u+" ["+t.X()+"]",yn(t)}}finally{bn(t)}}}function bn(t,e){if(t.a){wn(t);var n=t.a,i=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){}}}function wn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(l.clearTimeout(t.m),t.m=null)}function Cn(t){return t.a?t.a.readyState:0}function En(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return N(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fe(t,e,n))}function Sn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xn(t){this.pa=0,this.g=[],this.c=new Gt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Sn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Sn("baseRetryDelayMs",5e3,t),this.Ma=Sn("retryDelaySeedMs",1e4,t),this.Ja=Sn("forwardChannelMaxRetries",2,t),this.ma=Sn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Xe(t&&t.concurrentRequestLimit),this.ka=new ln,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function In(t){if(Tn(t),3==t.v){var e=t.R++,n=Re(t.B);Fe(n,"SID",t.J),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),Dn(t,n),(e=new ce(t,t.c,e,void 0)).H=2,e.i=Le(Re(n)),n=!1,l.navigator&&l.navigator.sendBeacon&&(n=l.navigator.sendBeacon(e.i.toString(),"")),!n&&l.Image&&((new Image).src=e.i,n=!0),n||(e.a=Hn(e.g,null),e.a.ba(e.i)),e.u=v(),ye(e)}zn(t)}function kn(t){t.a&&(Ln(t),t.a.cancel(),t.a=null)}function Tn(t){kn(t),t.j&&(l.clearTimeout(t.j),t.j=null),Vn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&l.clearTimeout(t.h),t.h=null)}function An(t,e){t.g.push(new Qe(t.La++,e)),3==t.v&&Rn(t)}function Rn(t){tn(t.b)||t.h||(t.h=!0,Dt(t.Ba,t),t.u=0)}function On(t,e){var n;n=e?e.f:t.R++;var i=Re(t.B);Fe(i,"SID",t.J),Fe(i,"RID",n),Fe(i,"AID",t.P),Dn(t,i),t.i&&t.l&&En(i,t.i,t.l),n=new ce(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Nn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rn(t.b,n),pe(n,i,e)}function Dn(t,e){t.f&&Se({},(function(t,n){Fe(e,n,t)}))}function Nn(t,e,n){n=Math.min(t.g.length,n);var i=t.f?_(t.f.Ha,t.f,t):null;t:for(var r=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=r[0].b)):s=0:o.push("ofs="+s);for(var a=!0,l=0;l<n;l++){var u=r[l].b,c=r[l].a;if(0>(u-=s))s=Math.max(0,r[l].b-100),a=!1;else try{un(c,o,"req"+u+"_")}catch(h){i&&i(c)}}if(a){i=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,i}function Pn(t){t.a||t.j||(t.U=1,Dt(t.Aa,t),t.o=0)}function Fn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=te(_(t.Aa,t),jn(t,t.o)),t.o++,0))}function Ln(t){null!=t.s&&(l.clearTimeout(t.s),t.s=null)}function Mn(t){t.a=new ce(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Re(t.la);Fe(e,"RID","rpc"),Fe(e,"SID",t.J),Fe(e,"CI",t.H?"0":"1"),Fe(e,"AID",t.P),Dn(t,e),Fe(e,"TYPE","xmlhttp"),t.i&&t.l&&En(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Le(Re(e)),n.j=null,n.I=!0,me(n,t)}function Vn(t){null!=t.m&&(l.clearTimeout(t.m),t.m=null)}function Un(t,e){var n=null;if(t.a==e){Vn(t),Ln(t),t.a=null;var i=2}else{if(!nn(t.b,e))return;n=e.s,sn(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==i){n=e.j?e.j.length:0,e=v()-e.u;var r=t.u;(i=Kt()).dispatchEvent(new Jt(i,n,e,r)),Rn(t)}else Pn(t);else if(3==(r=e.h)||0==r&&0<t.I||!(1==i&&function(t,e){return!(en(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=te(_(t.Ba,t,e),jn(t,t.u)),t.u++,0)))}(t,e)||2==i&&Fn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),r){case 1:Bn(t,5);break;case 4:Bn(t,10);break;case 3:Bn(t,6);break;default:Bn(t,2)}}function jn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Bn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var i=_(t.Xa,t);n||(n=new Ae("//www.google.com/images/cleardot.gif"),l.location&&"http"==l.location.protocol||Oe(n,"https"),Le(n)),function(t,e){var n=new Gt;if(l.Image){var i=new Image;i.onload=y(cn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=y(cn,n,i,"TestLoadImage: error",!1,e),i.onabort=y(cn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=y(cn,n,i,"TestLoadImage: timeout",!1,e),l.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else Xt(2);t.v=0,t.f&&t.f.ra(e),zn(t),Tn(t)}function zn(t){t.v=0,t.I=-1,t.f&&(0==on(t.b).length&&0==t.g.length||(t.b.c.length=0,x(t.g),t.g.length=0),t.f.qa())}function qn(t,e,n){var i=function(t){return t instanceof Ae?Re(t):new Ae(t,void 0)}(n);if(""!=i.c)e&&De(i,e+"."+i.c),Ne(i,i.h);else{var r=l.location;i=function(t,e,n,i){var r=new Ae(null,void 0);return t&&Oe(r,t),e&&De(r,e),n&&Ne(r,n),i&&(r.g=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.W&&N(t.W,(function(t,e){Fe(i,e,t)})),n=t.na,(e=t.A)&&n&&Fe(i,e,n),Fe(i,"VER",t.ha),Dn(t,i),i}function Hn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dn(t.Ka)).F=t.C,e}function Gn(){}function $n(){if(B&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function Wn(t,e){Et.call(this),this.a=new xn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!I(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Zn(this)}function Kn(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Yn(){le.call(this),this.status=1}function Zn(t){this.a=t}(s=dn.prototype).ba=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=_(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void _n(this,s)}t=n||"";var r=new xe(this.headers);i&&Se(i,(function(t,e){r.set(e,t)})),i=function(t){t:{for(var e=gn,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.L()),n=l.FormData&&t instanceof l.FormData,!(0<=C(mn,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wn(this),0<this.o&&((this.D=function(t){return B&&Q(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.xa,this)):this.m=Vt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){_n(this,s)}},s.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},s.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),bn(this))},s.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),bn(this,!0)),dn.S.G.call(this)},s.za=function(){this.j||(this.A||this.l||this.g?vn(this):this.Ta())},s.Ta=function(){vn(this)},s.X=function(){try{return 2<Cn(this)?this.a.status:-1}catch(U){return-1}},s.$=function(){try{return this.a?this.a.responseText:""}catch(U){return""}},s.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hn(e)}},s.ua=function(){return this.h},s.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(s=xn.prototype).ha=8,s.v=1,s.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ce(this,this.c,t,void 0),i=this.l;if(this.O&&(i?L(i=P(i),this.O):i=this.O),null===this.i&&(n.B=i),this.da)t:{for(var r=e=0;r<this.g.length;r++){var s=this.g[r];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break t}if(4096===e||r===this.g.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=Nn(this,n,e),Fe(r=Re(this.B),"RID",t),Fe(r,"CVER",22),this.A&&Fe(r,"X-HTTP-Session-Id",this.A),Dn(this,r),this.i&&i&&En(r,this.i,i),rn(this.b,n),this.Ga&&Fe(r,"TYPE","init"),this.da?(Fe(r,"$req",e),Fe(r,"SID","null"),n.V=!0,pe(n,r,null)):pe(n,r,e),this.v=2}}else 3==this.v&&(t?On(this,t):0==this.g.length||tn(this.b)||On(this))},s.Aa=function(){if(this.j=null,Mn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=te(_(this.Sa,this),t)}},s.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,kn(this),Mn(this))},s.Ra=function(){null!=this.m&&(this.m=null,kn(this),Fn(this),Xt(19))},s.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Xt(2)):(this.c.info("Failed to ping google.com"),Xt(1))},(s=Gn.prototype).ta=function(){},s.sa=function(){},s.ra=function(){},s.qa=function(){},s.Ha=function(){},$n.prototype.a=function(t,e){return new Wn(t,e)},b(Wn,Et),(s=Wn.prototype).addEventListener=function(t,e,n,i){Wn.S.addEventListener.call(this,t,e,n,i)},s.removeEventListener=function(t,e,n,i){Wn.S.removeEventListener.call(this,t,e,n,i)},s.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Xt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=qn(t,null,t.fa),Rn(t)},s.close=function(){In(this.a)},s.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,An(this.a,e)}else this.g?((e={}).__data__=xt(t),An(this.a,e)):An(this.a,t)},s.G=function(){this.a.f=null,delete this.f,In(this.a),delete this.a,Wn.S.G.call(this)},b(Kn,ae),b(Yn,le),b(Zn,Gn),Zn.prototype.ta=function(){this.a.dispatchEvent("a")},Zn.prototype.sa=function(t){this.a.dispatchEvent(new Kn(t))},Zn.prototype.ra=function(t){this.a.dispatchEvent(new Yn(t))},Zn.prototype.qa=function(){this.a.dispatchEvent("b")},$n.prototype.createWebChannel=$n.prototype.a,Wn.prototype.send=Wn.prototype.Pa,Wn.prototype.open=Wn.prototype.Oa,Wn.prototype.close=Wn.prototype.close,ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,ne.COMPLETE="complete",re.EventType=oe,oe.OPEN="a",oe.CLOSE="b",oe.ERROR="c",oe.MESSAGE="d",Et.prototype.listen=Et.prototype.va,dn.prototype.listenOnce=dn.prototype.wa,dn.prototype.getLastError=dn.prototype.Qa,dn.prototype.getLastErrorCode=dn.prototype.ua,dn.prototype.getStatus=dn.prototype.X,dn.prototype.getResponseJson=dn.prototype.Na,dn.prototype.getResponseText=dn.prototype.$,dn.prototype.send=dn.prototype.ba;var Qn={createWebChannelTransport:function(){return new $n},ErrorCode:ee,EventType:ne,WebChannel:re,XhrIo:dn},Xn=Qn.createWebChannelTransport,Jn=Qn.ErrorCode,ti=Qn.EventType,ei=Qn.WebChannel,ni=Qn.XhrIo;e.default=Qn},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function u(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(i(r))try{r.call(this)}catch(o){e=o instanceof c?d(o.errors):[o]}if(l(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(u(n))try{n.unsubscribe()}catch(o){e=e||[],o instanceof c?e=e.concat(d(o.errors)):e.push(o)}}}if(e)throw new c(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[f](){return this}static create(t,e,n){const i=new p(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends p{constructor(t,e,n,r){let s;super(),this._parentSubscriber=t;let o=this;i(e)?s=e:e&&(s=e.next,n=e.error,r=e.complete,e!==a&&(o=Object.create(e),i(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(o(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function _(t){return t}function y(...t){return v(t)}function v(t){return 0===t.length?_:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}let b=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:v(t)(this)}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const C=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class E extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class S extends p{constructor(t){super(t),this.destination=t}}let x=(()=>{class t extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new S(this)}lift(t){const e=new I(this,this);return e.operator=t,e}next(t){if(this.closed)throw new C;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new C;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new C;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new C;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new C;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new E(this,t))}asObservable(){const t=new b;return t.source=this,t}}return t.create=(t,e)=>new I(t,e),t})();class I extends x{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function k(t){return t&&"function"==typeof t.schedule}class T extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const A=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()};function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=R(),D=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function N(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const P=t=>{if(t&&"function"==typeof t[g])return i=t,t=>{const e=i[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(D(t))return A(t);if(N(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[O])return e=t,t=>{const n=e[O]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,i};function F(t,e,n,i,r=new T(t,n,i)){if(!r.closed)return e instanceof b?e.subscribe(r):P(e)(r)}class L extends p{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function M(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(t,e))}}class V{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new U(t,this.project,this.thisArg))}}class U extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function j(t,e){return new b(n=>{const i=new h;let r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}function B(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new b(n=>{const i=new h;return i.add(e.schedule(()=>{const r=t[g]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(N(t))return function(t,e){return new b(n=>{const i=new h;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(D(t))return j(t,e);if(function(t){return t&&"function"==typeof t[O]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new b(n=>{const i=new h;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[O](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof b?t:new b(P(t))}function z(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(z((n,i)=>B(t(n,i)).pipe(M((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new H(t,this.project,this.concurrent))}}class H extends L{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new T(this,e,n),r=this.destination;r.add(i);const s=F(this,t,void 0,void 0,i);s!==i&&r.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function G(t=Number.POSITIVE_INFINITY){return z(_,t)}function $(t,e){return e?j(t,e):new b(A(t))}function W(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return k(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof b?t[0]:G(e)($(t,n))}function K(){return function(t){return t.lift(new Y(t))}}class Y{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new Z(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class Z extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Q extends b{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new J(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return K()(this)}}const X=(()=>{const t=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class J extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function tt(){return new x}function et(){return t=>{return K()((e=tt,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,X);return i.source=t,i.subjectFactory=n,i})(t));var e}}function nt(t,e,n){return(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})()}const it=nt("Inject",t=>({token:t})),rt=nt("Optional"),st=nt("Self"),ot=nt("SkipSelf");var at=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function lt(t){for(let e in t)if(t[e]===lt)return e;throw Error("Could not find renamed property on target object.")}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ct(t){return ht(t,t[dt])||ht(t,t[ft])}function ht(t,e){return e&&e.token===t?e:null}const dt=lt({\u0275prov:lt}),ft=lt({ngInjectableDef:lt});function pt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(pt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const mt=lt({__forward_ref__:lt});function gt(t){return t.__forward_ref__=gt,t.toString=function(){return pt(this())},t}function _t(t){return"function"==typeof(e=t)&&e.hasOwnProperty(mt)&&e.__forward_ref__===gt?t():t;var e}const yt="undefined"!=typeof globalThis&&globalThis,vt="undefined"!=typeof window&&window,bt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,wt="undefined"!=typeof global&&global,Ct=yt||wt||vt||bt;class Et{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const St=new Et("INJECTOR",-1),xt={},It=/\n/gm,kt=lt({provide:String,useValue:lt});let Tt=void 0;function At(t){const e=Tt;return Tt=t,e}function Rt(t,e=at.Default){return function(t,e=at.Default){if(void 0===Tt)throw new Error("inject() must be called from an injection context");return null===Tt?function(t,e,n){const i=ct(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&at.Optional)return null;throw new Error(`Injector: NOT_FOUND [${pt(t)}]`)}(t,0,e):Tt.get(t,e&at.Optional?null:void 0,e)}(_t(t),e)}const Ot=Rt;class Dt{get(t,e=xt){if(e===xt){const e=new Error(`NullInjectorError: No provider for ${pt(t)}!`);throw e.name="NullInjectorError",e}return e}}function Nt(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=pt(e);if(Array.isArray(e))r=e.map(pt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):pt(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(It,"\n  ")}`}class Pt{}class Ft{}function Lt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Vt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}();let Ut=void 0;const jt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ct))();function Bt(t){return t.ngDebugContext}function zt(t){return t.ngOriginalError}function qt(t,...e){t.error(...e)}class Ht{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||qt}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Bt(t)?Bt(t):this._findContext(zt(t)):null}_findOriginalError(t){let e=zt(t);for(;e&&zt(e);)e=zt(e);return e}}class Gt{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class $t extends Gt{getTypeName(){return"HTML"}}class Wt extends Gt{getTypeName(){return"Style"}}class Kt extends Gt{getTypeName(){return"Script"}}class Yt extends Gt{getTypeName(){return"URL"}}class Zt extends Gt{getTypeName(){return"ResourceURL"}}function Qt(t){return t instanceof Gt?t.changingThisBreaksApplicationSecurity:t}function Xt(t,e){const n=Jt(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Jt(t){return t instanceof Gt&&t.getTypeName()||null}let te=!0,ee=!1;function ne(){return ee=!0,te}class ie{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const re=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,se=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function oe(t){return(t=String(t)).match(re)||t.match(se)?t:(ne()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function ae(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function le(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ue=ae("area,br,col,hr,img,wbr"),ce=ae("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),he=ae("rp,rt"),de=le(he,ce),fe=le(ue,le(ce,ae("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),le(he,ae("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),de),pe=ae("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),me=ae("srcset"),ge=le(pe,me,ae("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ae("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_e=ae("script,style,template");class ye{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!fe.hasOwnProperty(e))return this.sanitizedSomething=!0,!_e.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,s=e.toLowerCase();if(!ge.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;pe[s]&&(o=oe(o)),me[s]&&(i=o,o=(i=String(i)).split(",").map(t=>oe(t.trim())).join(", ")),this.buf.push(" ",e,'="',we(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();fe.hasOwnProperty(e)&&!ue.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(we(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ve=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,be=/([^\#-~ |!])/g;function we(t){return t.replace(/&/g,"&amp;").replace(ve,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(be,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ce;function Ee(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Se=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),xe=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ie=/^url\(([^)]+)\)$/;function ke(t){return"ng-reflect-"+t.replace(/[$@]/g,"_").replace(Te,(...t)=>"-"+t[1].toLowerCase())}const Te=/([A-Z])/g;function Ae(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Re=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Oe(),t})();const Oe=(...t)=>{},De=new Et("Set Injector scope."),Ne=function(t,e,n){return new Ue(t,e,n)};let Pe=(()=>{class t{static create(t,e){return Array.isArray(t)?Ne(t,e,""):Ne(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=xt,t.NULL=new Dt,t.\u0275prov=ut({token:t,providedIn:"any",factory:()=>Rt(St)}),t.__NG_ELEMENT_ID__=-1,t})();const Fe=function(t){return t},Le=[],Me=Fe,Ve=function(){return Array.prototype.slice.call(arguments)};class Ue{constructor(t,e=Pe.NULL,n=null){this.parent=e,this.source=n;const i=this._records=new Map;i.set(Pe,{token:Pe,fn:Fe,deps:Le,value:this,useNew:!1}),i.set(St,{token:St,fn:Fe,deps:Le,value:this,useNew:!1}),this.scope=function t(e,n){let i=null;if(n)if(n=_t(n),Array.isArray(n))for(let r=0;r<n.length;r++)i=t(e,n[r])||i;else{if("function"==typeof n)throw ze("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ze("Unexpected provider",n);{let t=_t(n.provide);const r=je(n);if(!0===n.multi){let i=e.get(t);if(i){if(i.fn!==Ve)throw Be(t)}else e.set(t,i={token:n.provide,deps:[],useNew:!1,fn:Ve,value:Le});t=n,i.deps.push({token:t,options:6})}const s=e.get(t);if(s&&s.fn==Ve)throw Be(t);t===De&&(i=r.value),e.set(t,r)}}return i}(i,t)}get(t,e,n=at.Default){const i=this._records;let r=i.get(t);if(void 0===r){const e=ct(t);if(e){const n=e&&e.providedIn;("any"===n||null!=n&&n===this.scope)&&i.set(t,r=je({provide:t,useFactory:e.factory,deps:Le}))}void 0===r&&i.set(t,null)}let s=At(this);try{return function t(e,n,i,r,s,o){try{return function(e,n,i,r,s,o){let a;if(!n||o&at.SkipSelf)a=o&at.Self?Pe.NULL.get(e,o&at.Optional?void 0!==s?s:null:s):r.get(e,s,at.Default);else{if(a=n.value,a==Me)throw Error("\u0275Circular dependency");if(a===Le){n.value=Me;let e=void 0,s=n.useNew,o=n.fn,l=n.deps,u=Le;if(l.length){u=[];for(let e=0;e<l.length;e++){const n=l[e],s=n.options,o=2&s?i.get(n.token):void 0;u.push(t(n.token,o,i,o||4&s?r:Pe.NULL,1&s?null:Pe.THROW_IF_NOT_FOUND,at.Default))}}n.value=a=s?new o(...u):o.apply(e,u)}}return a}(e,n,i,r,s,o)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==Me&&(n.value=Le),a}}(t,r,i,this.parent,e,n)}catch(o){return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=Nt("\n"+t.message,r,"StaticInjectorError",i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(o,t,0,this.source)}finally{At(s)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(pt(n))),`StaticInjector[${t.join(", ")}]`}}function je(t){const e=function(t){let e=Le;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let i=6,r=_t(n[t]);if(Array.isArray(r))for(let t=0,e=r;t<e.length;t++){const n=e[t];n instanceof rt||n==rt?i|=1:n instanceof ot||n==ot?i&=-3:n instanceof st||n==st?i&=-5:r=n instanceof it?n.token:_t(n)}e.push({token:r,options:i})}}else if(t.useExisting)e=[{token:_t(t.useExisting),options:6}];else if(!n&&!(kt in t))throw ze("'deps' required",t);return e}(t);let n=Fe,i=Le,r=!1,s=_t(t.provide);if(kt in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=_t(t.useClass);else{if("function"!=typeof s)throw ze("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=s}return{deps:e,fn:n,useNew:r,value:i}}function Be(t){return ze("Cannot mix multi providers and regular providers",t)}function ze(t,e){return new Error(Nt(t,e,"StaticInjectorError"))}const qe=new Et("AnalyzeForEntryComponents");let He=null;function Ge(){if(!He){const t=Ct.Symbol;if(t&&t.iterator)He=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(He=n)}}}return He}function $e(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function We(t,e){const n=Ye(t),i=Ye(e);if(n&&i)return function(t,e,n){const i=t[Ge()](),r=e[Ge()]();for(;;){const t=i.next(),e=r.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,We);{const r=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!r||i||!s)||$e(t,e)}}class Ke{constructor(t){this.wrapped=t}static wrap(t){return new Ke(t)}static unwrap(t){return Ke.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ke}}function Ye(t){return!!Ze(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ge()in t)}function Ze(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qe(t){return!!t&&"function"==typeof t.then}function Xe(t){return!!t&&"function"==typeof t.subscribe}class Je{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class tn{}function en(t){const e=Error(`No component factory found for ${pt(t)}. Did you add it to @NgModule.entryComponents?`);return e[nn]=t,e}const nn="ngComponent";class rn{resolveComponentFactory(t){throw en(t)}}let sn=(()=>{class t{}return t.NULL=new rn,t})();class on{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let i=0;i<t.length;i++){const e=t[i];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw en(t);return new an(e,this._ngModule)}}class an extends tn{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)}}function ln(...t){}let un=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>cn(t),t})();const cn=ln;class hn{}const dn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let fn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>pn(),t})();const pn=ln;let mn=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class gn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const _n=new gn("9.0.7");class yn{constructor(){}supports(t){return Ye(t)}create(t){return new bn(t)}}const vn=(t,e)=>e;class bn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||vn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<Sn(n,i,r)?e:n,o=Sn(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ye(t))throw new Error(`Error trying to diff '${pt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&$e(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),$e(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ge()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&$e(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),$e(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?($e(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?($e(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new wn(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new En),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new En),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class wn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&$e(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class En{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Cn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sn(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class xn{constructor(){}supports(t){return t instanceof Map||Ze(t)}create(){return new In}}class In{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ze(t)))throw new Error(`Error trying to diff '${pt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new kn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){$e(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class kn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Tn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new rt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new yn])}),t})(),An=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new rt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new xn])}),t})();const Rn=[new xn],On=new Tn([new yn]),Dn=new An(Rn);let Nn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Pn(t,un),t})();const Pn=ln;let Fn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ln(t,un),t})();const Ln=ln;function Mn(t,e,n,i){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Vn(n,e),n}(r,t)}function Vn(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function Un(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function jn(t,e,n){const i=t.state,r=1792&i;return r===e?(t.state=-1793&i|n,t.initIndex=-1,!0):r===n}function Bn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function zn(t,e){return t.nodes[e]}function qn(t,e){return t.nodes[e]}function Hn(t,e){return t.nodes[e]}function Gn(t,e){return t.nodes[e]}function $n(t,e){return t.nodes[e]}const Wn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Kn=()=>{},Yn=new Map;function Zn(t){let e=Yn.get(t);return e||(e=pt(t)+"_"+Yn.size,Yn.set(t,e)),e}function Qn(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Xn=0;function Jn(t,e,n,i){return!(!(2&t.state)&&$e(t.oldValues[e.bindingIndex+n],i))}function ti(t,e,n,i){return!!Jn(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function ei(t,e,n,i){const r=t.oldValues[e.bindingIndex+n];if(1&t.state||!We(r,i)){const s=e.bindings[n].name;throw Mn(Wn.createDebugContext(t,e.nodeIndex),`${s}: ${r}`,`${s}: ${i}`,0!=(1&t.state))}}function ni(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function ii(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function ri(t,e,n,i){try{return ni(33554432&t.def.nodes[e].flags?qn(t,e).componentView:t),Wn.handleEvent(t,e,n,i)}catch(r){t.root.errorHandler.handleError(r)}}function si(t){return t.parent?qn(t.parent,t.parentNodeDef.nodeIndex):null}function oi(t){return t.parent?t.parentNodeDef.parent:null}function ai(t,e){switch(201347067&e.flags){case 1:return qn(t,e.nodeIndex).renderElement;case 2:return zn(t,e.nodeIndex).renderText}}function li(t,e){return t?`${t}:${e}`:e}function ui(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function ci(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function hi(t){return 1<<t%32}function di(t){const e={};let n=0;const i={};return t&&t.forEach(([t,r])=>{"number"==typeof t?(e[t]=r,n|=hi(t)):i[t]=r}),{matchedQueries:e,references:i,matchedQueryIds:n}}function fi(t,e){return t.map(t=>{let n,i;return Array.isArray(t)?[i,n]=t:(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,"__source",{value:e,configurable:!0}),{flags:i,token:n,tokenKey:Zn(n)}})}function pi(t,e,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===Vt.Native?qn(t,n.renderParent.nodeIndex).renderElement:void 0:e}const mi=new WeakMap;function gi(t){let e=mi.get(t);return e||(e=t(()=>Kn),e.factory=t,mi.set(t,e)),e}function _i(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(ai(t,t.def.lastRenderRootNode))),yi(t,e,0,t.def.nodes.length-1,n,i,r)}function yi(t,e,n,i,r,s,o){for(let a=n;a<=i;a++){const n=t.def.nodes[a];11&n.flags&&bi(t,n,e,r,s,o),a+=n.childCount}}function vi(t,e,n,i,r,s){let o=t;for(;o&&!ui(o);)o=o.parent;const a=o.parent,l=oi(o),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&bi(a,t,n,i,r,s),c+=t.childCount}if(!a.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)wi(t,o[e],n,i,r,s)}}function bi(t,e,n,i,r,s){if(8&e.flags)vi(t,e.ngContent.index,n,i,r,s);else{const o=ai(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&wi(t,o,n,i,r,s),32&e.bindingFlags&&wi(qn(t,e.nodeIndex).componentView,o,n,i,r,s)):wi(t,o,n,i,r,s),16777216&e.flags){const o=qn(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)_i(o[t],n,i,r,s)}1&e.flags&&!e.element.name&&yi(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,s)}}function wi(t,e,n,i,r,s){const o=t.renderer;switch(n){case 1:o.appendChild(i,e);break;case 2:o.insertBefore(i,e,r);break;case 3:o.removeChild(i,e);break;case 0:s.push(e)}}const Ci=/^:([^:]+):(.+)$/;function Ei(t){if(":"===t[0]){const e=t.match(Ci);return[e[1],e[2]]}return["",t]}function Si(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function xi(t,e,n,i,r,s,o,a,l,u,c,h,d,f,p,m,g,_,y,v){switch(t){case 1:return e+Ii(n)+i;case 2:return e+Ii(n)+i+Ii(r)+s;case 3:return e+Ii(n)+i+Ii(r)+s+Ii(o)+a;case 4:return e+Ii(n)+i+Ii(r)+s+Ii(o)+a+Ii(l)+u;case 5:return e+Ii(n)+i+Ii(r)+s+Ii(o)+a+Ii(l)+u+Ii(c)+h;case 6:return e+Ii(n)+i+Ii(r)+s+Ii(o)+a+Ii(l)+u+Ii(c)+h+Ii(d)+f;case 7:return e+Ii(n)+i+Ii(r)+s+Ii(o)+a+Ii(l)+u+Ii(c)+h+Ii(d)+f+Ii(p)+m;case 8:return e+Ii(n)+i+Ii(r)+s+Ii(o)+a+Ii(l)+u+Ii(c)+h+Ii(d)+f+Ii(p)+m+Ii(g)+_;case 9:return e+Ii(n)+i+Ii(r)+s+Ii(o)+a+Ii(l)+u+Ii(c)+h+Ii(d)+f+Ii(p)+m+Ii(g)+_+Ii(y)+v;default:throw new Error("Does not support more than 9 expressions")}}function Ii(t){return null!=t?t.toString():""}const ki={},Ti=Zn(Pe),Ai=Zn(St),Ri=Zn(Pt);function Oi(t,e,n,i){return n=_t(n),{index:-1,deps:fi(i,pt(e)),flags:t,token:e,value:n}}function Di(t,e,n=Pe.THROW_IF_NOT_FOUND){const i=At(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const r=e.tokenKey;switch(r){case Ti:case Ai:case Ri:return t}const s=t._def.providersByKey[r];let o;if(s){let e=t._providers[s.index];return void 0===e&&(e=t._providers[s.index]=Ni(t,s)),e===ki?void 0:e}if((o=ct(e.token))&&function(t,e){const n=e.providedIn;return null!=n&&("any"===n||n===t._def.scope||function(t,e){return t._def.modules.indexOf(e)>-1}(t,n))}(t,o)){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:o.factory,deps:[],index:n,token:e.token},t._providers[n]=ki,t._providers[n]=Ni(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{At(i)}}function Ni(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const i=n.length;switch(i){case 0:return new e;case 1:return new e(Di(t,n[0]));case 2:return new e(Di(t,n[0]),Di(t,n[1]));case 3:return new e(Di(t,n[0]),Di(t,n[1]),Di(t,n[2]));default:const r=[];for(let e=0;e<i;e++)r[e]=Di(t,n[e]);return new e(...r)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const i=n.length;switch(i){case 0:return e();case 1:return e(Di(t,n[0]));case 2:return e(Di(t,n[0]),Di(t,n[1]));case 3:return e(Di(t,n[0]),Di(t,n[1]),Di(t,n[2]));default:const r=[];for(let e=0;e<i;e++)r[e]=Di(t,n[e]);return e(...r)}}(t,e.value,e.deps);break;case 2048:n=Di(t,e.deps[0]);break;case 256:n=e.value}return n===ki||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?ki:n}function Pi(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const i=n[e];return i.viewContainerParent=null,Mt(n,e),Wn.dirtyParentQueries(i),Li(i),i}function Fi(t,e,n){const i=e?ai(e,e.def.lastRenderRootNode):t.renderElement,r=n.renderer.parentNode(i),s=n.renderer.nextSibling(i);_i(n,2,r,s,void 0)}function Li(t){_i(t,3,null,null,void 0)}const Mi={};function Vi(t,e,n,i,r,s){return new Ui(t,e,n,i,r,s)}class Ui extends tn{constructor(t,e,n,i,r,s){super(),this.selector=t,this.componentType=e,this._inputs=i,this._outputs=r,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,i){if(!i)throw new Error("ngModule should be provided");const r=gi(this.viewDefFactory),s=r.nodes[0].element.componentProvider.nodeIndex,o=Wn.createRootView(t,e||[],n,r,i,Mi),a=Hn(o,s).instance;return n&&o.renderer.setAttribute(qn(o,0).renderElement,"ng-version",_n.full),new ji(o,new Hi(o),a)}}class ji extends class{}{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new un(qn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Ki(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Bi(t,e,n){return new zi(t,e,n)}class zi{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new un(this._data.renderElement)}get injector(){return new Ki(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=oi(t),t=t.parent;return t?new Ki(t,e):new Ki(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Pi(this._data,t);Wn.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Hi(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;r||t instanceof an||(r=s.get(Pt));const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,i){let r=e.viewContainer._embeddedViews;null==n&&(n=r.length),i.viewContainerParent=t,Lt(r,n,i),function(t,e){const n=si(e);if(!n||n===t||16&e.state)return;e.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,i),Wn.dirtyParentQueries(i),Fi(e,n>0?r[n-1]:null,i)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const i=t.viewContainer._embeddedViews,r=i[e];Mt(i,e),null==n&&(n=i.length),Lt(i,n,r),Wn.dirtyParentQueries(r),Li(r),Fi(t,n>0?i[n-1]:null,r)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Pi(this._data,t);e&&Wn.destroyView(e)}detach(t){const e=Pi(this._data,t);return e?new Hi(e):null}}function qi(t){return new Hi(t)}class Hi{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return _i(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){ni(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Wn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Wn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Wn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Li(this._view),Wn.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Gi(t,e){return new $i(t,e)}class $i extends Nn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Hi(Wn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new un(qn(this._parentView,this._def.nodeIndex).renderElement)}}function Wi(t,e){return new Ki(t,e)}class Ki{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Pe.THROW_IF_NOT_FOUND){return Wn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Zn(t)},e)}}function Yi(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=qn(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return zn(t,n.nodeIndex).renderText;if(20240&n.flags)return Hn(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Zi(t,e,n,i){return new Qi(t,e,n,i)}class Qi{constructor(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=function(t,e){const n=[];for(let i=0;i<t;i++)n.push(void 0);return n}(e.providers.length);for(let i=0;i<e.providers.length;i++){const r=e.providers[i];4096&r.flags||void 0===n[i]&&(n[i]=Ni(t,r))}}(this)}get(t,e=Pe.THROW_IF_NOT_FOUND,n=at.Default){let i=0;return n&at.SkipSelf?i|=1:n&at.Self&&(i|=4),Di(this,{token:t,tokenKey:Zn(t),flags:i},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(sn)}destroy(){if(this._destroyed)throw new Error(`The ng module ${pt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,i=new Set;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const e=t._providers[r];if(e&&e!==ki){const t=e.ngOnDestroy;"function"!=typeof t||i.has(e)||(t.apply(e),i.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Xi=Zn(fn),Ji=Zn(un),tr=Zn(Fn),er=Zn(Nn),nr=Zn(Re),ir=Zn(Pe),rr=Zn(St);function sr(t,e,n,i,r,s,o,a){const l=[];if(o)for(let c in o){const[t,e]=o[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return ar(t,e|=16384,n,i,r,r,s,l,u)}function or(t,e,n,i,r){return ar(-1,t,e,0,n,i,r)}function ar(t,e,n,i,r,s,o,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=di(n);l||(l=[]),a||(a=[]),s=_t(s);const d=fi(o,pt(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:Si(a),outputs:l,element:null,provider:{token:r,value:s,deps:d},text:null,query:null,ngContent:null}}function lr(t,e){return dr(t,e)}function ur(t,e){let n=t;for(;n.parent&&!ui(n);)n=n.parent;return fr(n.parent,oi(n),!0,e.provider.value,e.provider.deps)}function cr(t,e){const n=fr(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let i=0;i<e.outputs.length;i++){const r=e.outputs[i],s=n[r.propName];if(!Xe(s))throw new Error(`@Output ${r.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe(hr(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+i]=n.unsubscribe.bind(n)}}return n}function hr(t,e,n){return i=>ri(t,e,n,i)}function dr(t,e){const n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return fr(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,r){const s=r.length;switch(s){case 0:return i();case 1:return i(mr(t,e,n,r[0]));case 2:return i(mr(t,e,n,r[0]),mr(t,e,n,r[1]));case 3:return i(mr(t,e,n,r[0]),mr(t,e,n,r[1]),mr(t,e,n,r[2]));default:const o=[];for(let i=0;i<s;i++)o.push(mr(t,e,n,r[i]));return i(...o)}}(t,e.parent,n,i.value,i.deps);case 2048:return mr(t,e.parent,n,i.deps[0]);case 256:return i.value}}function fr(t,e,n,i,r){const s=r.length;switch(s){case 0:return new i;case 1:return new i(mr(t,e,n,r[0]));case 2:return new i(mr(t,e,n,r[0]),mr(t,e,n,r[1]));case 3:return new i(mr(t,e,n,r[0]),mr(t,e,n,r[1]),mr(t,e,n,r[2]));default:const o=[];for(let i=0;i<s;i++)o.push(mr(t,e,n,r[i]));return new i(...o)}}const pr={};function mr(t,e,n,i,r=Pe.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const s=t;2&i.flags&&(r=null);const o=i.tokenKey;o===nr&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(o){case Xi:return gr(a,e,n).renderer;case Ji:return new un(qn(a,e.nodeIndex).renderElement);case tr:return qn(a,e.nodeIndex).viewContainer;case er:if(e.element.template)return qn(a,e.nodeIndex).template;break;case nr:return qi(gr(a,e,n));case ir:case rr:return Wi(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=Hn(a,t.nodeIndex);return e||(e={instance:dr(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=ui(a),e=oi(a),a=a.parent,4&i.flags&&(a=null)}const l=s.root.injector.get(i.token,pr);return l!==pr||r===pr?l:s.root.ngModule.injector.get(i.token,r)}function gr(t,e,n){let i;if(n)i=qn(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!ui(i);)i=i.parent;return i}function _r(t,e,n,i,r,s){if(32768&n.flags){const e=qn(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[i].name]=r,524288&n.flags){s=s||{};const e=Ke.unwrap(t.oldValues[n.bindingIndex+i]);s[n.bindings[i].nonMinifiedName]=new Je(e,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,s}function yr(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let i=0;for(let r=0;r<n.length;r++){const s=n[r];let o=s.parent;for(!o&&s.flags&e&&br(t,r,s.flags&e,i++),0==(s.childFlags&e)&&(r+=s.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(i=vr(t,o,e,i)),o=o.parent}}function vr(t,e,n,i){for(let r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){const e=t.def.nodes[r];e.flags&n&&br(t,r,e.flags&n,i++),r+=e.childCount}return i}function br(t,e,n,i){const r=Hn(t,e);if(!r)return;const s=r.instance;s&&(Wn.setCurrentNode(t,e),1048576&n&&Bn(t,512,i)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&Bn(t,768,i)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}const wr=new Et("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>jt}),Cr=void 0;var Er=["en",[["a","p"],["AM","PM"],Cr],[["AM","PM"],Cr,Cr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cr,"{1} 'at' {0}",Cr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Sr={};function xr(t){return t in Sr||(Sr[t]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[t]),Sr[t]}const Ir=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();class kr extends x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,s=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(i,r,s);return t instanceof h&&t.add(o),o}}function Tr(){return this._results[Ge()]()}class Ar{constructor(){this.dirty=!0,this._results=[],this.changes=new kr,this.length=0;const t=Ge(),e=Ar.prototype;e[t]||(e[t]=Tr)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Rr=new Et("Application Initializer");class Or{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Qe(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Dr=new Et("AppId");function Nr(){return`${Pr()}${Pr()}${Pr()}`}function Pr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fr=new Et("Platform Initializer"),Lr=new Et("Platform ID"),Mr=new Et("appBootstrapListener");class Vr{log(t){console.log(t)}warn(t){console.warn(t)}}const Ur=new Et("LocaleId"),jr=new Et("DefaultCurrencyCode");function Br(){throw new Error("Runtime compiler is not loaded")}const zr=Br,qr=Br,Hr=Br,Gr=Br;class $r{constructor(){this.compileModuleSync=zr,this.compileModuleAsync=qr,this.compileModuleAndAllComponentsSync=Hr,this.compileModuleAndAllComponentsAsync=Gr}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class Wr{}const Kr=(()=>Promise.resolve(0))();function Yr(t){"undefined"==typeof Zone?Kr.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Zr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kr(!1),this.onMicrotaskEmpty=new kr(!1),this.onStable=new kr(!1),this.onError=new kr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Ct.requestAnimationFrame,e=Ct.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ct,()=>{t.lastRequestAnimationFrameId=-1,ts(t),Jr(t)}),ts(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,i,r,s,o,a)=>{try{return es(t),n.invokeTask(r,s,o,a)}finally{e&&"eventTask"===s.type&&e(),ns(t)}},onInvoke:(e,n,i,r,s,o,a)=>{try{return es(t),e.invoke(i,r,s,o,a)}finally{ns(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,ts(t),Jr(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,Xr,Qr,Qr);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Qr(){}const Xr={};function Jr(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ts(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function es(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ns(t){t._nesting--,Jr(t)}class is{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kr,this.onMicrotaskEmpty=new kr,this.onStable=new kr,this.onError=new kr}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}class rs{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zr.assertNotInAngularZone(),Yr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yr(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class ss{constructor(){this._applications=new Map,ls.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ls.findTestabilityInTree(this,t,e)}}class os{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let as,ls=new os;const us=new Et("AllowMultipleToken");class cs{constructor(t,e){this.name=t,this.token=e}}function hs(t,e,n=[]){const i="Platform: "+e,r=new Et(i);return(e=[])=>{let s=ds();if(!s||s.injector.get(us,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:De,useValue:"platform"});!function(t){if(as&&!as.destroyed&&!as.injector.get(us,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");as=t.get(fs);const e=t.get(Fr,null);e&&e.forEach(t=>t())}(Pe.create({providers:t,name:i}))}return function(t){const e=ds();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function ds(){return as&&!as.destroyed?as:null}class fs{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new is:("zone.js"===t?void 0:t)||new Zr({enableLongStackTrace:ne(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),i=[{provide:Zr,useValue:n}];return n.run(()=>{const e=Pe.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(Ht,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>gs(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const i=n();return Qe(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(Or);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=ps({},e);return function(t,e,n){return t.get(Wr).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ms);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${pt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function ps(t,e){return Array.isArray(e)?e.reduce(ps,t):Object.assign(Object.assign({},t),e)}class ms{constructor(t,e,n,i,r,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ne(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new b(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new b(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Zr.assertNotInAngularZone(),Yr(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Zr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=W(o,a.pipe(et()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof tn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n instanceof an?void 0:this._injector.get(Pt),r=n.create(Pe.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(rs,null);return s&&r.injector.get(ss).registerApplication(r.location.nativeElement,s),this._loadComponent(r),ne()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;gs(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Mr,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),gs(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}function gs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _s{}class ys{}const vs={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class bs{constructor(t,e){this._compiler=t,this._config=e||vs}load(t){return this._compiler instanceof $r?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>ws(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>ws(t,e,i))}}function ws(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Cs{constructor(t,e){this.name=t,this.callback=e}}class Es{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Ss&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Ss extends Es{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,i){e.childNodes.forEach(e=>{e instanceof Ss&&(n(e)&&i.push(e),t(e,n,i))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,i){e instanceof Ss&&e.childNodes.forEach(e=>{n(e)&&i.push(e),e instanceof Ss&&t(e,n,i)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Ss)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const xs=new Map;function Is(t){return xs.get(t)||null}const ks=Is;function Ts(t){xs.set(t.nativeNode,t)}const As=hs(null,"core",[{provide:Lr,useValue:"unknown"},{provide:fs,deps:[Pe]},{provide:ss,deps:[]},{provide:Vr,deps:[]}]);function Rs(){return On}function Os(){return Dn}function Ds(t){return t||"en-US"}function Ns(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class Ps{constructor(t){}}function Fs(t,e,n,i,r,s){t|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=di(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?gi(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Kn},provider:null,text:null,query:null,ngContent:null}}function Ls(t,e,n,i,r,s,o=[],a,l,u,c,h){u||(u=Kn);const{matchedQueries:d,references:f,matchedQueryIds:p}=di(n);let m=null,g=null;s&&([m,g]=Ei(s)),a=a||[];const _=[];for(let b=0;b<a.length;b++){const[t,e,n]=a[b],[i,r]=Ei(e);let s=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:s=n}_[b]={flags:t,ns:i,name:r,nonMinifiedName:r,securityContext:s,suffix:o}}l=l||[];const y=[];for(let b=0;b<l.length;b++){const[t,e]=l[b];y[b]={type:0,target:t,eventName:e,propName:null}}const v=(o=o||[]).map(([t,e])=>{const[n,i]=Ei(t);return[n,i,e]});return h=function(t){if(t&&"$$undefined"===t.id){const e=null!=t.encapsulation&&t.encapsulation!==Vt.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Xn++:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:i,childCount:r,bindings:_,bindingFlags:Si(_),outputs:y,element:{ns:m,name:g,attrs:v,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Kn},provider:null,text:null,query:null,ngContent:null}}function Ms(t,e,n){const i=n.element,r=t.root.selectorOrNode,s=t.renderer;let o;if(t.parent||!r){o=i.name?s.createElement(i.name,i.ns):s.createComment("");const r=pi(t,e,n);r&&s.appendChild(r,o)}else o=s.selectRootElement(r,!!i.componentRendererType&&i.componentRendererType.encapsulation===Vt.ShadowDom);if(i.attrs)for(let a=0;a<i.attrs.length;a++){const[t,e,n]=i.attrs[a];s.setAttribute(o,e,n,t)}return o}function Vs(t,e,n,i){for(let r=0;r<n.outputs.length;r++){const s=n.outputs[r],o=Us(t,n.nodeIndex,li(s.target,s.eventName));let a=s.target,l=t;"component"===s.target&&(a=null,l=e);const u=l.renderer.listen(a||i,s.eventName,o);t.disposables[n.outputIndex+r]=u}}function Us(t,e,n){return i=>ri(t,e,n,i)}function js(t,e,n,i){if(!ti(t,e,n,i))return!1;const r=e.bindings[n],s=qn(t,e.nodeIndex),o=s.renderElement,a=r.name;switch(15&r.flags){case 1:!function(t,e,n,i,r,s){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const l=t.renderer;null!=s?l.setAttribute(n,r,a,i):l.removeAttribute(n,r,i)}(t,r,o,r.ns,a,i);break;case 2:!function(t,e,n,i){const r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}(t,o,a,i);break;case 4:!function(t,e,n,i,r){let s=t.root.sanitizer.sanitize(Se.STYLE,r);if(null!=s){s=s.toString();const t=e.suffix;null!=t&&(s+=t)}else s=null;const o=t.renderer;null!=s?o.setStyle(n,i,s):o.removeStyle(n,i)}(t,r,o,a,i);break;case 8:!function(t,e,n,i,r){const s=e.securityContext;let o=s?t.root.sanitizer.sanitize(s,r):r;t.renderer.setProperty(n,i,o)}(33554432&e.flags&&32&r.flags?s.componentView:t,r,o,a,i)}return!0}function Bs(t,e,n){let i=[];for(let r in n)i.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:hi(e),bindings:i},ngContent:null}}function zs(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&ci(t);){let n=t.parentNodeDef;t=t.parent;const i=n.nodeIndex+n.childCount;for(let r=0;r<=i;r++){const i=t.def.nodes[r];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&$n(t,r).setDirty(),!(1&i.flags&&r+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&$n(t,n).setDirty(),n+=e.childCount}}function qs(t,e){const n=$n(t,e.nodeIndex);if(!n.dirty)return;let i,r=void 0;if(67108864&e.flags){const n=e.parent.parent;r=Hs(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),i=Hn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=Hs(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);const s=e.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const t=s[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}i[t.propName]=e}o&&n.notifyOnChanges()}function Hs(t,e,n,i,r){for(let s=e;s<=n;s++){const e=t.def.nodes[s],n=e.matchedQueries[i.id];if(null!=n&&r.push(Gs(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=qn(t,s);if((e.childMatchedQueries&i.filterId)===i.filterId&&(Hs(t,s+1,s+e.childCount,i,r),s+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const s=t[e],o=si(s);o&&o===n&&Hs(s,0,s.def.nodes.length-1,i,r)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];Hs(e,0,e.def.nodes.length-1,i,r)}}(e.childMatchedQueries&i.filterId)!==i.filterId&&(s+=e.childCount)}return r}function Gs(t,e,n){if(null!=n)switch(n){case 1:return qn(t,e.nodeIndex).renderElement;case 0:return new un(qn(t,e.nodeIndex).renderElement);case 2:return qn(t,e.nodeIndex).template;case 3:return qn(t,e.nodeIndex).viewContainer;case 4:return Hn(t,e.nodeIndex).instance}}function $s(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Ws(t,e,n){const i=pi(t,e,n);i&&vi(t,n.ngContent.index,1,i,null,void 0)}function Ks(t,e){const n=Object.keys(e),i=n.length,r=[];for(let s=0;s<i;s++)r.push(n[s]);return function(t,e,n){const i=[];for(let r=0;r<n.length;r++){const t=n[r];i.push({flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:Si(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,r)}function Ys(t,e,n){const i=[];for(let r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Zs(t,e,n){let i;const r=t.renderer;i=r.createText(n.text.prefix);const s=pi(t,e,n);return s&&r.appendChild(s,i),{renderText:i}}function Qs(t,e){return(null!=t?t.toString():"")+e.suffix}function Xs(t,e,n,i){let r=0,s=0,o=0,a=0,l=0,u=null,c=null,h=!1,d=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=u,t.bindingIndex=r,t.outputIndex=s,t.renderParent=c,o|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(to(u,t,e.length),r+=t.bindings.length,s+=t.outputs.length,!c&&3&t.flags&&(f=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[Zn(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Zn(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)u=t,Js(t)||(c=t);else for(;u&&p===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),u=t,c=u&&Js(u)?u.renderParent:u}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Kn,updateRenderer:i||Kn,handleEvent:(t,n,i,r)=>e[n].element.handleEvent(t,i,r),bindingCount:r,outputCount:s,lastRenderRootNode:f}}function Js(t){return 0!=(1&t.flags)&&null===t.element.name}function to(t,e,n){const i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function eo(t,e,n,i){const r=ro(t.root,t.renderer,t,e,n);return so(r,t.component,i),oo(r),r}function no(t,e,n){const i=ro(t,t.renderer,null,null,e);return so(i,n,n),oo(i),i}function io(t,e,n,i){const r=e.element.componentRendererType;let s;return s=r?t.root.rendererFactory.createRenderer(i,r):t.root.renderer,ro(t.root,s,t,e.element.componentProvider,n)}function ro(t,e,n,i,r){const s=new Array(r.nodes.length),o=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:o,initIndex:-1}}function so(t,e,n){t.component=e,t.context=n}function oo(t){let e;ui(t)&&(e=qn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,i=t.nodes;for(let r=0;r<n.nodes.length;r++){const s=n.nodes[r];let o;switch(Wn.setCurrentNode(t,r),201347067&s.flags){case 1:const n=Ms(t,e,s);let a=void 0;if(33554432&s.flags){const e=gi(s.element.componentView);a=Wn.createComponentView(t,s,e,n)}Vs(t,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?Gi(t,s):void 0},16777216&s.flags&&(o.viewContainer=Bi(t,s,o));break;case 2:o=Zs(t,e,s);break;case 512:case 1024:case 2048:case 256:o=i[r],o||4096&s.flags||(o={instance:lr(t,s)});break;case 16:o={instance:ur(t,s)};break;case 16384:o=i[r],o||(o={instance:cr(t,s)}),32768&s.flags&&so(qn(t,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new Ar;break;case 8:Ws(t,e,s),o=void 0}i[r]=o}go(t,mo.CreateViewNodes),bo(t,201326592,268435456,0)}function ao(t){co(t),Wn.updateDirectives(t,1),_o(t,mo.CheckNoChanges),Wn.updateRenderer(t,1),go(t,mo.CheckNoChanges),t.state&=-97}function lo(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,jn(t,0,256),co(t),Wn.updateDirectives(t,0),_o(t,mo.CheckAndUpdate),bo(t,67108864,536870912,0);let e=jn(t,256,512);yr(t,2097152|(e?1048576:0)),Wn.updateRenderer(t,0),go(t,mo.CheckAndUpdate),bo(t,134217728,536870912,0),e=jn(t,512,768),yr(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,jn(t,768,1024)}function uo(t,e,n,i,r,s,o,a,l,u,c,h,d){return 0===n?function(t,e,n,i,r,s,o,a,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,i,r,s,o,a,l,u,c,h){const d=e.bindings.length;let f=!1;return d>0&&js(t,e,0,n)&&(f=!0),d>1&&js(t,e,1,i)&&(f=!0),d>2&&js(t,e,2,r)&&(f=!0),d>3&&js(t,e,3,s)&&(f=!0),d>4&&js(t,e,4,o)&&(f=!0),d>5&&js(t,e,5,a)&&(f=!0),d>6&&js(t,e,6,l)&&(f=!0),d>7&&js(t,e,7,u)&&(f=!0),d>8&&js(t,e,8,c)&&(f=!0),d>9&&js(t,e,9,h)&&(f=!0),f}(t,e,n,i,r,s,o,a,l,u,c,h);case 2:return function(t,e,n,i,r,s,o,a,l,u,c,h){let d=!1;const f=e.bindings,p=f.length;if(p>0&&ti(t,e,0,n)&&(d=!0),p>1&&ti(t,e,1,i)&&(d=!0),p>2&&ti(t,e,2,r)&&(d=!0),p>3&&ti(t,e,3,s)&&(d=!0),p>4&&ti(t,e,4,o)&&(d=!0),p>5&&ti(t,e,5,a)&&(d=!0),p>6&&ti(t,e,6,l)&&(d=!0),p>7&&ti(t,e,7,u)&&(d=!0),p>8&&ti(t,e,8,c)&&(d=!0),p>9&&ti(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;p>0&&(d+=Qs(n,f[0])),p>1&&(d+=Qs(i,f[1])),p>2&&(d+=Qs(r,f[2])),p>3&&(d+=Qs(s,f[3])),p>4&&(d+=Qs(o,f[4])),p>5&&(d+=Qs(a,f[5])),p>6&&(d+=Qs(l,f[6])),p>7&&(d+=Qs(u,f[7])),p>8&&(d+=Qs(c,f[8])),p>9&&(d+=Qs(h,f[9]));const m=zn(t,e.nodeIndex).renderText;t.renderer.setValue(m,d)}return d}(t,e,n,i,r,s,o,a,l,u,c,h);case 16384:return function(t,e,n,i,r,s,o,a,l,u,c,h){const d=Hn(t,e.nodeIndex),f=d.instance;let p=!1,m=void 0;const g=e.bindings.length;return g>0&&Jn(t,e,0,n)&&(p=!0,m=_r(t,d,e,0,n,m)),g>1&&Jn(t,e,1,i)&&(p=!0,m=_r(t,d,e,1,i,m)),g>2&&Jn(t,e,2,r)&&(p=!0,m=_r(t,d,e,2,r,m)),g>3&&Jn(t,e,3,s)&&(p=!0,m=_r(t,d,e,3,s,m)),g>4&&Jn(t,e,4,o)&&(p=!0,m=_r(t,d,e,4,o,m)),g>5&&Jn(t,e,5,a)&&(p=!0,m=_r(t,d,e,5,a,m)),g>6&&Jn(t,e,6,l)&&(p=!0,m=_r(t,d,e,6,l,m)),g>7&&Jn(t,e,7,u)&&(p=!0,m=_r(t,d,e,7,u,m)),g>8&&Jn(t,e,8,c)&&(p=!0,m=_r(t,d,e,8,c,m)),g>9&&Jn(t,e,9,h)&&(p=!0,m=_r(t,d,e,9,h,m)),m&&f.ngOnChanges(m),65536&e.flags&&Bn(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,i,r,s,o,a,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,i,r,s,o,a,l,u,c,h){const d=e.bindings;let f=!1;const p=d.length;if(p>0&&ti(t,e,0,n)&&(f=!0),p>1&&ti(t,e,1,i)&&(f=!0),p>2&&ti(t,e,2,r)&&(f=!0),p>3&&ti(t,e,3,s)&&(f=!0),p>4&&ti(t,e,4,o)&&(f=!0),p>5&&ti(t,e,5,a)&&(f=!0),p>6&&ti(t,e,6,l)&&(f=!0),p>7&&ti(t,e,7,u)&&(f=!0),p>8&&ti(t,e,8,c)&&(f=!0),p>9&&ti(t,e,9,h)&&(f=!0),f){const f=Gn(t,e.nodeIndex);let m;switch(201347067&e.flags){case 32:m=[],p>0&&m.push(n),p>1&&m.push(i),p>2&&m.push(r),p>3&&m.push(s),p>4&&m.push(o),p>5&&m.push(a),p>6&&m.push(l),p>7&&m.push(u),p>8&&m.push(c),p>9&&m.push(h);break;case 64:m={},p>0&&(m[d[0].name]=n),p>1&&(m[d[1].name]=i),p>2&&(m[d[2].name]=r),p>3&&(m[d[3].name]=s),p>4&&(m[d[4].name]=o),p>5&&(m[d[5].name]=a),p>6&&(m[d[6].name]=l),p>7&&(m[d[7].name]=u),p>8&&(m[d[8].name]=c),p>9&&(m[d[9].name]=h);break;case 128:const t=n;switch(p){case 1:m=t.transform(n);break;case 2:m=t.transform(i);break;case 3:m=t.transform(i,r);break;case 4:m=t.transform(i,r,s);break;case 5:m=t.transform(i,r,s,o);break;case 6:m=t.transform(i,r,s,o,a);break;case 7:m=t.transform(i,r,s,o,a,l);break;case 8:m=t.transform(i,r,s,o,a,l,u);break;case 9:m=t.transform(i,r,s,o,a,l,u,c);break;case 10:m=t.transform(i,r,s,o,a,l,u,c,h)}}f.value=m}return f}(t,e,n,i,r,s,o,a,l,u,c,h);default:throw"unreachable"}}(t,e,i,r,s,o,a,l,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let i=!1;for(let r=0;r<n.length;r++)js(t,e,r,n[r])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){const i=e.bindings;let r=!1;for(let s=0;s<n.length;s++)ti(t,e,s,n[s])&&(r=!0);if(r){let r="";for(let t=0;t<n.length;t++)r+=Qs(n[t],i[t]);r=e.text.prefix+r;const s=zn(t,e.nodeIndex).renderText;t.renderer.setValue(s,r)}return r}(t,e,n);case 16384:return function(t,e,n){const i=Hn(t,e.nodeIndex),r=i.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)Jn(t,e,a,n[a])&&(s=!0,o=_r(t,i,e,a,n[a],o));return o&&r.ngOnChanges(o),65536&e.flags&&Bn(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),s}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const i=e.bindings;let r=!1;for(let s=0;s<n.length;s++)ti(t,e,s,n[s])&&(r=!0);if(r){const r=Gn(t,e.nodeIndex);let s;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(let r=0;r<n.length;r++)s[i[r].name]=n[r];break;case 128:const t=n[0],e=n.slice(1);s=t.transform(...e)}r.value=s}return r}(t,e,n);default:throw"unreachable"}}(t,e,i)}function co(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const i=e.nodes[n];if(4&i.flags){const e=qn(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const i=e[n];i.state|=32,ii(i,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function ho(t,e,n,i,r,s,o,a,l,u,c,h,d){return 0===n?function(t,e,n,i,r,s,o,a,l,u,c,h){const d=e.bindings.length;d>0&&ei(t,e,0,n),d>1&&ei(t,e,1,i),d>2&&ei(t,e,2,r),d>3&&ei(t,e,3,s),d>4&&ei(t,e,4,o),d>5&&ei(t,e,5,a),d>6&&ei(t,e,6,l),d>7&&ei(t,e,7,u),d>8&&ei(t,e,8,c),d>9&&ei(t,e,9,h)}(t,e,i,r,s,o,a,l,u,c,h,d):function(t,e,n){for(let i=0;i<n.length;i++)ei(t,e,i,n[i])}(t,e,i),!1}function fo(t,e){if($n(t,e.nodeIndex).dirty)throw Mn(Wn.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function po(t){if(!(128&t.state)){if(_o(t,mo.Destroy),go(t,mo.Destroy),yr(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=si(t);if(e){const n=e.template._projectedViews;n&&(Mt(n,n.indexOf(t)),Wn.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(qn(t,n).renderElement):2&e.flags?t.renderer.destroyNode(zn(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&$n(t,n).destroy()}}(t),ui(t)&&t.renderer.destroy(),t.state|=128}}const mo=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function go(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];33554432&r.flags?yo(qn(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function _o(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];if(16777216&r.flags){const n=qn(t,i).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)yo(n[t],e)}else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function yo(t,e){const n=t.state;switch(e){case mo.CheckNoChanges:0==(128&n)&&(12==(12&n)?ao(t):64&n&&vo(t,mo.CheckNoChangesProjectedViews));break;case mo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ao(t):64&n&&vo(t,e));break;case mo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?lo(t):64&n&&vo(t,mo.CheckAndUpdateProjectedViews));break;case mo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?lo(t):64&n&&vo(t,e));break;case mo.Destroy:po(t);break;case mo.CreateViewNodes:oo(t)}}function vo(t,e){_o(t,e),go(t,e)}function bo(t,e,n,i){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const r=t.def.nodes.length;for(let s=0;s<r;s++){const r=t.def.nodes[s];if(r.flags&e&&r.flags&n)switch(Wn.setCurrentNode(t,r.nodeIndex),i){case 0:qs(t,r);break;case 1:fo(t,r)}r.childFlags&e&&r.childFlags&n||(s+=r.childCount)}}let wo=!1;function Co(t,e,n,i,r,s){const o=r.injector.get(hn);return no(So(t,r,o,e,n),i,s)}function Eo(t,e,n,i,r,s){const o=r.injector.get(hn),a=So(t,r,new na(o),e,n),l=Po(i);return ta(jo.create,no,null,[a,l,s])}function So(t,e,n,i,r){const s=e.injector.get(mn),o=e.injector.get(Ht),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function xo(t,e,n,i){const r=Po(n);return ta(jo.create,eo,null,[t,e,r,i])}function Io(t,e,n,i){return n=Ro.get(e.element.componentProvider.provider.token)||Po(n),ta(jo.create,io,null,[t,e,n,i])}function ko(t,e,n,i){return Zi(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===To.size||(t.providers.forEach(t=>{const i=To.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)}),t.modules.forEach(t=>{Ao.forEach((i,r)=>{ct(r).providedIn===t&&(e=!0,n=n||i.deprecatedBehavior)})})),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const i=t.providers[e];n&&(i.flags|=4096);const r=To.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=fi(r.deps),i.value=r.value)}if(Ao.size>0){let e=new Set(t.modules);Ao.forEach((i,r)=>{if(e.has(ct(r).providedIn)){let e={token:r,flags:i.flags|(n?4096:0),deps:fi(i.deps),value:i.value,index:t.providers.length};t.providers.push(e),t.providersByKey[Zn(r)]=e}})}}(t=t.factory(()=>Kn)),t):t}(i))}const To=new Map,Ao=new Map,Ro=new Map;function Oo(t){let e;To.set(t.token,t),"function"==typeof t.token&&(e=ct(t.token))&&"function"==typeof e.providedIn&&Ao.set(t.token,t)}function Do(t,e){const n=gi(e.viewDefFactory),i=gi(n.nodes[0].element.componentView);Ro.set(t,i)}function No(){To.clear(),Ao.clear(),Ro.clear()}function Po(t){if(0===To.size)return t;const e=function(t){const e=[];let n=null;for(let i=0;i<t.nodes.length;i++){const r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&To.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Kn);for(let i=0;i<e.length;i++)n(t,e[i]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=To.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=fi(n.deps),t.value=n.value)}}}}function Fo(t,e,n,i,r,s,o,a,l,u,c,h,d){const f=t.def.nodes[e];return uo(t,f,n,i,r,s,o,a,l,u,c,h,d),224&f.flags?Gn(t,e).value:void 0}function Lo(t,e,n,i,r,s,o,a,l,u,c,h,d){const f=t.def.nodes[e];return ho(t,f,n,i,r,s,o,a,l,u,c,h,d),224&f.flags?Gn(t,e).value:void 0}function Mo(t){return ta(jo.detectChanges,lo,null,[t])}function Vo(t){return ta(jo.checkNoChanges,ao,null,[t])}function Uo(t){return ta(jo.destroy,po,null,[t])}const jo=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Bo,zo,qo;function Ho(t,e){zo=t,qo=e}function Go(t,e,n,i){return Ho(t,e),ta(jo.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function $o(t,e){if(128&t.state)throw Un(jo[Bo]);return Ho(t,Zo(t,0)),t.def.updateDirectives((function(t,n,i,...r){const s=t.def.nodes[n];return 0===e?Ko(t,s,i,r):Yo(t,s,i,r),16384&s.flags&&Ho(t,Zo(t,n)),224&s.flags?Gn(t,s.nodeIndex).value:void 0}),t)}function Wo(t,e){if(128&t.state)throw Un(jo[Bo]);return Ho(t,Qo(t,0)),t.def.updateRenderer((function(t,n,i,...r){const s=t.def.nodes[n];return 0===e?Ko(t,s,i,r):Yo(t,s,i,r),3&s.flags&&Ho(t,Qo(t,n)),224&s.flags?Gn(t,s.nodeIndex).value:void 0}),t)}function Ko(t,e,n,i){if(uo(t,e,n,...i)){const r=1===n?i[0]:i;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const i=e.bindings[t],s=r[t];8&i.flags&&(n[ke(i.nonMinifiedName)]=Ae(s))}const i=e.parent,s=qn(t,i.nodeIndex).renderElement;if(i.element.name)for(let e in n){const i=n[e];null!=i?t.renderer.setAttribute(s,e,i):t.renderer.removeAttribute(s,e)}else t.renderer.setValue(s,"bindings="+JSON.stringify(n,null,2))}}}function Yo(t,e,n,i){ho(t,e,n,...i)}function Zo(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Qo(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Xo{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,i=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=oi(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return qn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Wi(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Jo(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Jo(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!ui(t);)t=t.parent;return t.parent?qn(t.parent,oi(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?ai(this.view,this.nodeDef):ai(this.elView,this.elDef)}logError(t,...e){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const r=function(t,e){let n=-1;for(let i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(n,i);let s=-1;n.factory(()=>(s++,s===r?t.error.bind(t,...e):Kn)),s<r&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Jo(t,e,n){for(let i in e.references)n[i]=Gs(t,e,e.references[i])}function ta(t,e,n,i){const r=Bo,s=zo,o=qo;try{Bo=t;const a=e.apply(n,i);return zo=s,qo=o,Bo=r,a}catch(a){if(Bt(a)||!zo)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Vn(t,e),t}(a,ea())}}function ea(){return zo?new Xo(zo,qo):null}class na{constructor(t){this.delegate=t}createRenderer(t,e){return new ia(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class ia{constructor(t){this.delegate=t,this.debugContextFactory=ea,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=ks(t);!function(t){xs.delete(t.nativeNode)}(e),e instanceof Es&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),i=this.createDebugContext(n);if(i){const e=new Ss(n,null,i);e.name=t,Ts(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Ts(new Es(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Ts(new Es(e,null,n)),e}appendChild(t,e){const n=ks(t),i=ks(e);n&&i&&n instanceof Ss&&n.addChild(i),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const i=ks(t),r=ks(e),s=ks(n);i&&r&&i instanceof Ss&&i.insertBefore(s,r),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=ks(t),i=ks(e);n&&i&&n instanceof Ss&&n.removeChild(i),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),i=ea();return i&&Ts(new Ss(n,null,i)),n}setAttribute(t,e,n,i){const r=ks(t);r&&r instanceof Ss&&(r.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){const i=ks(t);i&&i instanceof Ss&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=ks(t);n&&n instanceof Ss&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=ks(t);n&&n instanceof Ss&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,i){const r=ks(t);r&&r instanceof Ss&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){const i=ks(t);i&&i instanceof Ss&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const i=ks(t);i&&i instanceof Ss&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const i=ks(t);i&&i.listeners.push(new Cs(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function ra(t,e,n){return new sa(t,e,n)}class sa extends Ft{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(wo)return;wo=!0;const t=ne()?{setCurrentNode:Ho,createRootView:Eo,createEmbeddedView:xo,createComponentView:Io,createNgModuleRef:ko,overrideProvider:Oo,overrideComponentView:Do,clearOverrides:No,checkAndUpdateView:Mo,checkNoChangesView:Vo,destroyView:Uo,createDebugContext:(t,e)=>new Xo(t,e),handleEvent:Go,updateDirectives:$o,updateRenderer:Wo}:{setCurrentNode:()=>{},createRootView:Co,createEmbeddedView:eo,createComponentView:io,createNgModuleRef:Zi,overrideProvider:Kn,overrideComponentView:Kn,clearOverrides:Kn,checkAndUpdateView:lo,checkNoChangesView:ao,destroyView:po,createDebugContext:(t,e)=>new Xo(t,e),handleEvent:(t,e,n,i)=>t.def.handleEvent(t,e,n,i),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Fo:Lo,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Fo:Lo,t)};Wn.setCurrentNode=t.setCurrentNode,Wn.createRootView=t.createRootView,Wn.createEmbeddedView=t.createEmbeddedView,Wn.createComponentView=t.createComponentView,Wn.createNgModuleRef=t.createNgModuleRef,Wn.overrideProvider=t.overrideProvider,Wn.overrideComponentView=t.overrideComponentView,Wn.clearOverrides=t.clearOverrides,Wn.checkAndUpdateView=t.checkAndUpdateView,Wn.checkNoChangesView=t.checkNoChangesView,Wn.destroyView=t.destroyView,Wn.resolveDep=mr,Wn.createDebugContext=t.createDebugContext,Wn.handleEvent=t.handleEvent,Wn.updateDirectives=t.updateDirectives,Wn.updateRenderer=t.updateRenderer,Wn.dirtyParentQueries=zs}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),i={};for(const r in t.providersByKey)i[r]=t.providersByKey[r];return{factory:t.factory,scope:t.scope,providers:e,modules:n,providersByKey:i}}(gi(this._ngModuleDefFactory));return Wn.createNgModuleRef(this.moduleType,t||Pe.NULL,this._bootstrapComponents,e)}}class oa{}class aa{constructor(t,e){this.afAuth=t,this.router=e,this.title="client",this.signedIn=!1,this.routerUrl=e.url,e.events.subscribe(t=>{this.routerUrl=e.url}),t.authState.subscribe(t=>{this.signedIn=null!=t})}signOut(){this.afAuth.signOut()}}let la=null;function ua(){return la}const ca=new Et("DocumentToken");let ha=(()=>{class t{}return t.\u0275prov=ut({factory:da,token:t,providedIn:"platform"}),t})();function da(){return Rt(pa)}const fa=new Et("Location Initialized");let pa=(()=>{class t extends ha{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=ua().getLocation(),this._history=ua().getHistory()}getBaseHrefFromDOM(){return ua().getBaseHref(this._doc)}onPopState(t){ua().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){ua().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){ma()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){ma()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275prov=ut({factory:ga,token:t,providedIn:"platform"}),t})();function ma(){return!!window.history.pushState}function ga(){return new pa(Rt(ca))}function _a(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function ya(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function va(t){return t&&"?"!==t[0]?"?"+t:t}let ba=(()=>{class t{}return t.\u0275prov=ut({factory:wa,token:t,providedIn:"root"}),t})();function wa(t){const e=Rt(ca).location;return new Ea(Rt(ha),e&&e.origin||"")}const Ca=new Et("appBaseHref");class Ea extends ba{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _a(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+va(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+va(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+va(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class Sa extends ba{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=_a(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+va(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+va(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}let xa=(()=>{class t{constructor(t,e){this._subject=new kr,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=ya(ka(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+va(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ka(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+va(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+va(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.normalizeQueryParams=va,t.joinWithSlash=_a,t.stripTrailingSlash=ya,t.\u0275prov=ut({factory:Ia,token:t,providedIn:"root"}),t})();function Ia(){return new xa(Rt(ba),Rt(ha))}function ka(t){return t.replace(/\/index.html$/,"")}const Ta=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}();class Aa{}class Ra extends Aa{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=xr(e);if(n)return n;const i=e.split("-")[0];if(n=xr(i),n)return n;if("en"===i)return Er;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Ir.PluralCase]}(e||this.locale)(t)){case Ta.Zero:return"zero";case Ta.One:return"one";case Ta.Two:return"two";case Ta.Few:return"few";case Ta.Many:return"many";default:return"other"}}}function Oa(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}class Da{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ye(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+pt(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}class Na{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Pa{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){ne()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Na(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new Fa(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new Fa(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class Fa{constructor(t,e){this.record=t,this.view=e}}class La{constructor(t,e){this._viewContainer=t,this._context=new Ma,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Va("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Va("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}class Ma{constructor(){this.$implicit=null,this.ngIf=null}}function Va(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${pt(e)}'.`)}class Ua{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class ja{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}class Ba{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Ua(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class za{constructor(t,e,n){n._addDefault(new Ua(t,e))}}class qa{}let Ha=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new Ga(Rt(ca),window,Rt(Ht))}),t})();class Ga{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}function $a(...t){let e=t[t.length-1];return k(e)?(t.pop(),j(t,e)):$(t)}class Wa extends x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C;return this._value}next(t){super.next(this._value=t)}}const Ka=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Ya={};class Za{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Qa(t,this.resultSelector))}}class Qa extends L{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ya),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(F(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,r){const s=this.values,o=this.toRespond?s[n]===Ya?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Xa=new b(t=>t.complete());function Ja(t){return t?function(t){return new b(e=>t.schedule(()=>e.complete()))}(t):Xa}function tl(t){return new b(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?B(n):Ja()).subscribe(e)})}function el(){return G(1)}function nl(t,e){return function(n){return n.lift(new il(t,e))}}class il{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new rl(t,this.predicate,this.thisArg))}}class rl extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const sl=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function ol(t){return function(e){return 0===t?Ja():e.lift(new al(t))}}class al{constructor(t){if(this.total=t,this.total<0)throw new sl}call(t,e){return e.subscribe(new ll(t,this.total))}}class ll extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function ul(t=dl){return e=>e.lift(new cl(t))}class cl{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new hl(t,this.errorFactory))}}class hl extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function dl(){return new Ka}function fl(t=null){return e=>e.lift(new pl(t))}class pl{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ml(t,this.defaultValue))}}class ml extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function gl(t,e){const n=arguments.length>=2;return i=>i.pipe(t?nl((e,n)=>t(e,n,i)):_,ol(1),n?fl(e):ul(()=>new Ka))}function _l(t){return function(e){const n=new yl(t),i=e.lift(n);return n.caught=i}}class yl{constructor(t){this.selector=t}call(t,e){return e.subscribe(new vl(t,this.selector,this.caught))}}class vl extends L{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new T(this,void 0,void 0);this.add(i);const r=F(this,n,void 0,void 0,i);r!==i&&this.add(r)}}}function bl(t){return e=>0===t?Ja():e.lift(new wl(t))}class wl{constructor(t){if(this.total=t,this.total<0)throw new sl}call(t,e){return e.subscribe(new Cl(t,this.total))}}class Cl extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function El(t,e){const n=arguments.length>=2;return i=>i.pipe(t?nl((e,n)=>t(e,n,i)):_,bl(1),n?fl(e):ul(()=>new Ka))}class Sl{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new xl(t,this.predicate,this.thisArg,this.source))}}class xl extends p{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Il(t,e){return"function"==typeof e?n=>n.pipe(Il((n,i)=>B(t(n,i)).pipe(M((t,r)=>e(n,t,i,r))))):e=>e.lift(new kl(t))}class kl{constructor(t){this.project=t}call(t,e){return e.subscribe(new Tl(t,this.project))}}class Tl extends L{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new T(this,e,n),s=this.destination;s.add(r),this.innerSubscription=F(this,t,void 0,void 0,r),this.innerSubscription!==r&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}function Al(...t){return el()($a(...t))}function Rl(...t){const e=t[t.length-1];return k(e)?(t.pop(),n=>Al(t,n,e)):e=>Al(t,e)}function Ol(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Dl(t,e,n))}}class Dl{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Nl(t,this.accumulator,this.seed,this.hasSeed))}}class Nl extends p{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function Pl(t,e){return z(t,e,1)}function Fl(){}function Ll(t,e,n){return function(i){return i.lift(new Ml(t,e,n))}}class Ml{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Vl(t,this.nextOrObserver,this.error,this.complete))}}class Vl extends p{constructor(t,e,n,r){super(t),this._tapNext=Fl,this._tapError=Fl,this._tapComplete=Fl,this._tapError=n||Fl,this._tapComplete=r||Fl,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Fl,this._tapError=e.error||Fl,this._tapComplete=e.complete||Fl)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function Ul(t){return e=>e.lift(new jl(t))}class jl{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Bl(t,this.callback))}}class Bl extends p{constructor(t,e){super(t),this.add(new h(e))}}class zl{constructor(t,e){this.id=t,this.url=e}}class ql extends zl{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hl extends zl{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gl extends zl{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $l extends zl{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wl extends zl{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kl extends zl{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yl extends zl{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zl extends zl{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ql extends zl{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xl{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jl{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tu{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nu{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iu{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ru{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class su{}class ou{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function au(t){return new ou(t)}function lu(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function uu(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}class cu{constructor(t,e){this.routes=t,this.module=e}}function hu(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];du(i,fu(e,i))}}function du(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&hu(t.children,e)}function fu(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function pu(t){const e=t.children&&t.children.map(pu),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=su),n}function mu(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!gu(t[r],e[r]))return!1;return!0}function gu(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function _u(t){return Array.prototype.concat.apply([],t)}function yu(t){return t.length>0?t[t.length-1]:null}function vu(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function bu(t){return Xe(t)?t:Qe(t)?B(Promise.resolve(t)):$a(t)}function wu(t,e,n){return n?function(t,e){return mu(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!xu(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gu(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!xu(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!xu(n.segments,r))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!xu(n.segments,t)&&!!n.children.primary&&e(n.children.primary,i,s)}}(e,n,n.segments)}(t.root,e.root)}class Cu{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=au(this.queryParams)),this._queryParamMap}toString(){return Au.serialize(this)}}class Eu{constructor(t,e){this.segments=t,this.children=e,this.parent=null,vu(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ru(this)}}class Su{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=au(this.parameters)),this._parameterMap}toString(){return Lu(this)}}function xu(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Iu(t,e){let n=[];return vu(t.children,(t,i)=>{"primary"===i&&(n=n.concat(e(t,i)))}),vu(t.children,(t,i)=>{"primary"!==i&&(n=n.concat(e(t,i)))}),n}class ku{}class Tu{parse(t){const e=new Bu(t);return new Cu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Ru(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",i=[];return vu(e.children,(e,n)=>{"primary"!==n&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=Iu(e,(n,i)=>"primary"===i?[t(e.children.primary,!1)]:[`${i}:${t(n,!1)}`]);return`${Ru(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Du(e)}=${Du(t)}`).join("&"):`${Du(e)}=${Du(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Au=new Tu;function Ru(t){return t.segments.map(t=>Lu(t)).join("/")}function Ou(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Du(t){return Ou(t).replace(/%3B/gi,";")}function Nu(t){return Ou(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pu(t){return decodeURIComponent(t)}function Fu(t){return Pu(t.replace(/\+/g,"%20"))}function Lu(t){return`${Nu(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Nu(t)}=${Nu(e[t])}`).join("")}`;var e}const Mu=/^[^\/()?;=#]+/;function Vu(t){const e=t.match(Mu);return e?e[0]:""}const Uu=/^[^=?&#]+/,ju=/^[^?&#]+/;class Bu{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Eu([],{}):new Eu([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Eu(t,e)),n}parseSegment(){const t=Vu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Su(Pu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Vu(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Vu(this.remaining);t&&(n=t,this.capture(n))}t[Pu(e)]=Pu(n)}parseQueryParam(t){const e=function(t){const e=t.match(Uu);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ju);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Fu(e),r=Fu(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Vu(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new Eu([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class zu{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=qu(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=qu(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Hu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Hu(t,this._root).map(t=>t.value)}}function qu(t,e){if(t===e.value)return e;for(const n of e.children){const e=qu(t,n);if(e)return e}return null}function Hu(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Hu(t,n);if(i.length)return i.unshift(e),i}return[]}class Gu{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function $u(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Wu extends zu{constructor(t,e){super(t),this.snapshot=e,Ju(this,t)}toString(){return this.snapshot.toString()}}function Ku(t,e){const n=function(t,e){const n=new Qu([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Xu("",new Gu(n,[]))}(t,e),i=new Wa([new Su("",{})]),r=new Wa({}),s=new Wa({}),o=new Wa({}),a=new Wa(""),l=new Yu(i,r,o,a,s,"primary",e,n.root);return l.snapshot=n.root,new Wu(new Gu(l,[]),n)}class Yu{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(M(t=>au(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(M(t=>au(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zu(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Qu{constructor(t,e,n,i,r,s,o,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=au(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=au(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xu extends zu{constructor(t,e){super(e),this.url=t,Ju(this,e)}toString(){return tc(this._root)}}function Ju(t,e){e.value._routerState=t,e.children.forEach(e=>Ju(t,e))}function tc(t){const e=t.children.length>0?` { ${t.children.map(tc).join(", ")} } `:"";return`${t.value}${e}`}function ec(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mu(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),mu(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mu(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),mu(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function nc(t,e){var n,i;return mu(t.params,e.params)&&xu(n=t.url,i=e.url)&&n.every((t,e)=>mu(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||nc(t.parent,e.parent))}function ic(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function rc(t,e,n,i,r){let s={};return i&&vu(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Cu(n.root===t?e:function t(e,n,i){const r={};return vu(e.children,(e,s)=>{r[s]=e===n?i:t(e,n,i)}),new Eu(e.segments,r)}(n.root,t,e),s,r)}class sc{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ic(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==yu(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oc{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ac(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function lc(t,e,n){if(t||(t=new Eu([],{})),0===t.segments.length&&t.hasChildren())return uc(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=ac(n[i]),a=i<n.length-1?n[i+1]:null;if(r>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!fc(o,a,e))return s;i+=2}else{if(!fc(o,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Eu(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new Eu(t.segments.slice(i.pathIndex),t.children),uc(e,0,r)}return i.match&&0===r.length?new Eu(t.segments,{}):i.match&&!t.hasChildren()?cc(t,e,n):i.match?uc(t,0,r):cc(t,e,n)}function uc(t,e,n){if(0===n.length)return new Eu(t.segments,{});{const i=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),r={};return vu(i,(n,i)=>{null!==n&&(r[i]=lc(t.children[i],e,n))}),vu(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new Eu(t.segments,r)}}function cc(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const t=hc(n[r].outlets);return new Eu(i,t)}if(0===r&&ic(n[0])){i.push(new Su(t.segments[e].path,n[0])),r++;continue}const s=ac(n[r]),o=r<n.length-1?n[r+1]:null;s&&o&&ic(o)?(i.push(new Su(s,dc(o))),r+=2):(i.push(new Su(s,{})),r++)}return new Eu(i,{})}function hc(t){const e={};return vu(t,(t,n)=>{null!==t&&(e[n]=cc(new Eu([],{}),0,t))}),e}function dc(t){const e={};return vu(t,(t,n)=>e[n]=""+t),e}function fc(t,e,n){return t==n.path&&mu(e,n.parameters)}class pc{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ec(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=$u(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),vu(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=$u(t),r=t.value.component?n.children:e;vu(i,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=$u(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new iu(t.value.snapshot))}),t.children.length&&this.forwardEvent(new eu(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(ec(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),mc(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function mc(t){ec(t.value),t.children.forEach(mc)}function gc(t){return"function"==typeof t}function _c(t){return t instanceof Cu}class yc{constructor(t){this.segmentGroup=t||null}}class vc{constructor(t){this.urlTree=t}}function bc(t){return new b(e=>e.error(new yc(t)))}function wc(t){return new b(e=>e.error(new vc(t)))}function Cc(t){return new b(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ec{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Pt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(M(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(_l(t=>{if(t instanceof vc)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof yc)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(M(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(_l(t=>{if(t instanceof yc)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Eu([],{primary:t}):t;return new Cu(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(M(t=>new Eu([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return $a({});const n=[],i=[],r={};return vu(t,(t,s)=>{const o=e(s,t).pipe(M(t=>r[s]=t));"primary"===s?n.push(o):i.push(o)}),$a.apply(null,n.concat(i)).pipe(el(),gl(),M(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,r,s){return $a(...n).pipe(M(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe(_l(t=>{if(t instanceof yc)return $a(null);throw t}))),el(),El(t=>!!t),_l((t,n)=>{if(t instanceof Ka||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,r))return $a(new Eu([],{}));throw new yc(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return kc(i)!==s?bc(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):bc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?wc(r):this.lineralizeSegments(n,r).pipe(z(n=>{const r=new Eu(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:u}=Sc(e,i,r);if(!o)return bc(e);const c=this.applyRedirectCommands(a,i.redirectTo,u);return i.redirectTo.startsWith("/")?wc(c):this.lineralizeSegments(i,c).pipe(z(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(M(t=>(n._loadedConfig=t,new Eu(i,{})))):$a(new Eu(i,{}));const{matched:r,consumedSegments:s,lastChild:o}=Sc(e,n,i);if(!r)return bc(e);const a=i.slice(o);return this.getChildConfig(t,n,i).pipe(z(t=>{const n=t.module,i=t.routes,{segmentGroup:r,slicedSegments:o}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>Ic(t,e,n)&&"primary"!==kc(n))}(t,n,i)?{segmentGroup:xc(new Eu(e,function(t,e){const n={};n.primary=e;for(const i of t)""===i.path&&"primary"!==kc(i)&&(n[kc(i)]=new Eu([],{}));return n}(i,new Eu(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ic(t,e,n))}(t,n,i)?{segmentGroup:xc(new Eu(t.segments,function(t,e,n,i){const r={};for(const s of n)Ic(t,e,s)&&!i[kc(s)]&&(r[kc(s)]=new Eu([],{}));return Object.assign(Object.assign({},i),r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,i);return 0===o.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(M(t=>new Eu(s,t))):0===i.length&&0===o.length?$a(new Eu(s,{})):this.expandSegment(n,r,i,o,"primary",!0).pipe(M(t=>new Eu(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?$a(new cu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?$a(e._loadedConfig):function(t,e,n){const i=e.canLoad;return i&&0!==i.length?B(i).pipe(M(i=>{const r=t.get(i);let s;if(function(t){return t&&gc(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!gc(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return bu(s)})).pipe(el(),(r=t=>!0===t,t=>t.lift(new Sl(r,void 0,t)))):$a(!0);var r}(t.injector,e,n).pipe(z(n=>n?this.configLoader.load(t.injector,e).pipe(M(t=>(e._loadedConfig=t,t))):function(t){return new b(e=>e.error(lu(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):$a(new cu([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return $a(n);if(i.numberOfChildren>1||!i.children.primary)return Cc(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new Cu(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return vu(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return vu(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new Eu(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Sc(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||uu)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function xc(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Eu(t.segments.concat(e.segments),e.children)}return t}function Ic(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function kc(t){return t.outlet||"primary"}class Tc{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ac{constructor(t,e){this.component=t,this.route=e}}function Rc(t,e,n){const i=t._root;return function t(e,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=$u(n);return e.children.forEach(e=>{!function(e,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,l=i?i.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!xu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xu(t.url,e.url)||!mu(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nc(t,e)||!mu(t.queryParams,e.queryParams);case"paramsChange":default:return!nc(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new Tc(r)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?l?l.children:null:i,r,s),u&&s.canDeactivateChecks.push(new Ac(l&&l.outlet&&l.outlet.component||null,a))}else a&&Dc(n,l,s),s.canActivateChecks.push(new Tc(r)),t(e,null,o.component?l?l.children:null:i,r,s)}(e,o[e.value.outlet],i,r.concat([e.value]),s),delete o[e.value.outlet]}),vu(o,(t,e)=>Dc(t,i.getContext(e),s)),s}(i,e?e._root:null,n,[i.value])}function Oc(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Dc(t,e,n){const i=$u(t),r=t.value;vu(i,(t,i)=>{Dc(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Ac(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}const Nc=Symbol("INITIAL_VALUE");function Pc(){return Il(t=>function(...t){let e=null,n=null;return k(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),$(t,n).lift(new Za(e))}(...t.map(t=>t.pipe(bl(1),Rl(Nc)))).pipe(Ol((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==Nc)return t;if(i===Nc&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||_c(i))return i}return t},t)},Nc),nl(t=>t!==Nc),M(t=>_c(t)?t:!0===t),bl(1)))}function Fc(t,e){return null!==t&&e&&e(new nu(t)),$a(!0)}function Lc(t,e){return null!==t&&e&&e(new tu(t)),$a(!0)}function Mc(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?$a(i.map(i=>tl(()=>{const r=Oc(i,e,n);let s;if(function(t){return t&&gc(t.canActivate)}(r))s=bu(r.canActivate(e,t));else{if(!gc(r))throw new Error("Invalid CanActivate guard");s=bu(r(e,t))}return s.pipe(El())}))).pipe(Pc()):$a(!0)}function Vc(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>tl(()=>$a(e.guards.map(r=>{const s=Oc(r,e.node,n);let o;if(function(t){return t&&gc(t.canActivateChild)}(s))o=bu(s.canActivateChild(i,t));else{if(!gc(s))throw new Error("Invalid CanActivateChild guard");o=bu(s(i,t))}return o.pipe(El())})).pipe(Pc())));return $a(r).pipe(Pc())}class Uc{}class jc{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){try{const t=qc(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Qu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Gu(n,e),r=new Xu(this.url,i);return this.inheritParamsAndData(r._root),$a(r)}catch(t){return new b(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Zu(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Iu(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,i)}catch(r){if(!(r instanceof Uc))throw r}if(this.noLeftoversInUrl(e,n,i))return[];throw new Uc}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new Uc;if((t.outlet||"primary")!==i)throw new Uc;let r,s=[],o=[];if("**"===t.path){const s=n.length>0?yu(n).parameters:{};r=new Qu(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$c(t),i,t.component,t,Bc(e),zc(e)+n.length,Wc(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Uc;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||uu)(n,t,e);if(!i)throw new Uc;const r={};vu(i.posParams,(t,e)=>{r[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),r=new Qu(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$c(t),i,t.component,t,Bc(e),zc(e)+s.length,Wc(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=qc(e,s,o,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Gu(r,t)]}if(0===a.length&&0===u.length)return[new Gu(r,[])];const c=this.processSegment(a,l,u,"primary");return[new Gu(r,c)]}}function Bc(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zc(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function qc(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some(n=>Hc(t,e,n)&&"primary"!==Gc(n))}(t,n,i)){const r=new Eu(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Gc(s)){const n=new Eu([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[Gc(s)]=n}return r}(t,e,i,new Eu(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Hc(t,e,n))}(t,n,i)){const s=new Eu(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(Hc(t,n,a)&&!r[Gc(a)]){const n=new Eu([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Gc(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Eu(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Hc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Gc(t){return t.outlet||"primary"}function $c(t){return t.data||{}}function Wc(t){return t.resolve||{}}function Kc(t,e,n,i){const r=Oc(t,e,i);return bu(r.resolve?r.resolve(e,n):r(e,n))}function Yc(t){return function(e){return e.pipe(Il(e=>{const n=t(e);return n?B(n).pipe(M(()=>e)):B([e])}))}}class Zc{}class Qc{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Xc=new Et("ROUTES");class Jc{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(M(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new cu(_u(i.injector.get(Xc)).map(pu),i)}))}loadModuleFactory(t){return"string"==typeof t?B(this.loader.load(t)):bu(t()).pipe(z(t=>t instanceof Ft?$a(t):B(this.compiler.compileModuleAsync(t))))}}class th{}class eh{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function nh(t){throw t}function ih(t,e,n){return e.parse("/")}function rh(t,e){return $a(null)}class sh{constructor(t,e,n,i,r,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new x,this.errorHandler=nh,this.malformedUriErrorHandler=ih,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rh,afterPreactivation:rh},this.urlHandlingStrategy=new eh,this.routeReuseStrategy=new Qc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Pt),this.console=r.get(Vr);const l=r.get(Zr);this.isNgZoneEnabled=l instanceof Zr,this.resetConfig(a),this.currentUrlTree=new Cu(new Eu([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Jc(s,o,t=>this.triggerEvent(new Xl(t)),t=>this.triggerEvent(new Jl(t))),this.routerState=Ku(this.currentUrlTree,this.rootComponentType),this.transitions=new Wa({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(nl(t=>0!==t.id),M(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Il(t=>{let n=!1,i=!1;return $a(t).pipe(Ll(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Il(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return $a(t).pipe(Il(t=>{const n=this.transitions.getValue();return e.next(new ql(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Xa:[t]}),Il(t=>Promise.resolve(t)),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Il(t=>function(t,e,n,i,r){return new Ec(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,o).pipe(M(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Ll(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return function(s){return s.pipe(z(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){return new jc(t,e,n,i,r,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(M(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ll(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Ll(t=>{const n=new Wl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=t,a=new ql(n,this.serializeUrl(i),r,s);e.next(a);const l=Ku(i,this.rootComponentType).snapshot;return $a(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Xa}),Yc(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Ll(t=>{const e=new Kl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),M(t=>Object.assign(Object.assign({},t),{guards:Rc(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(z(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?$a(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return B(t).pipe(z(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?$a(s.map(s=>{const o=Oc(s,e,r);let a;if(function(t){return t&&gc(t.canDeactivate)}(o))a=bu(o.canDeactivate(t,e,n,i));else{if(!gc(o))throw new Error("Invalid CanDeactivate guard");a=bu(o(t,e,n,i))}return a.pipe(El())})).pipe(Pc()):$a(!0)}(t.component,t.route,n,e,i)),El(t=>!0!==t,!0))}(o,i,r,t).pipe(z(n=>n&&"boolean"==typeof n?function(t,e,n,i){return B(e).pipe(Pl(e=>B([Lc(e.route.parent,i),Fc(e.route,i),Vc(t,e.path,n),Mc(t,e.route,n)]).pipe(el(),El(t=>!0!==t,!0))),El(t=>!0!==t,!0))}(i,s,t,e):$a(n)),M(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Ll(t=>{if(_c(t.guardsResult)){const e=lu(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Ll(t=>{const e=new Yl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),nl(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Gl(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Yc(t=>{if(t.guards.canActivateChecks.length)return $a(t).pipe(Ll(t=>{const e=new Zl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(z(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;return r.length?B(r).pipe(Pl(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return $a({});if(1===r.length){const s=r[0];return Kc(t[s],e,n,i).pipe(M(t=>({[s]:t})))}const s={};return B(r).pipe(z(r=>Kc(t[r],e,n,i).pipe(M(t=>(s[r]=t,t))))).pipe(gl(),M(()=>s))}(t._resolve,t,e,i).pipe(M(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Zu(t,n).resolve),null)))}(t.route,i,e,n)),function(t,e){return arguments.length>=2?function(n){return y(Ol(t,e),ol(1),fl(e))(n)}:function(e){return y(Ol((e,n,i)=>t(e,n,i+1)),ol(1))(e)}}((t,e)=>t),M(e=>t)):$a(t)}))}),Ll(t=>{const e=new Ql(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Yc(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),M(t=>{const e=function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const s=function(e,n,i){return n.children.map(n=>{for(const r of i.children)if(e.shouldReuseRoute(r.value.snapshot,n.value))return t(e,n,r);return t(e,n)})}(e,n,i);return new Gu(r,s)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=new Yu(new Wa((r=n.value).url),new Wa(r.params),new Wa(r.queryParams),new Wa(r.fragment),new Wa(r.data),r.outlet,r.component,r),s=n.children.map(n=>t(e,n));return new Gu(i,s)}}var r}(t,e._root,n?n._root:void 0);return new Wu(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Ll(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),M(t=>(new pc(s,t.targetRouterState,t.currentRouterState,o).activate(r),t))),Ll({next(){n=!0},complete(){n=!0}}),Ul(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Gl(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),_l(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=_c(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Gl(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new $l(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var r;return Xa}));var r,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hu(t),this.config=t.map(pu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;ne()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=a?this.currentUrlTree.fragment:r;let c=null;if(o)switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=s?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return rc(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new sc(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return vu(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new sc(n,e,i)}(n);if(s.toRoot())return rc(e.root,new Eu([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new oc(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new oc(n.snapshot._urlSegment,!0,0);const i=ic(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new oc(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?uc(o.segmentGroup,o.index,s.commands):lc(o.segmentGroup,o.index,s.commands);return rc(o.segmentGroup,a,e,i,r)}(l,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){ne()&&this.isNgZoneEnabled&&!Zr.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=_c(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(_c(t))return wu(this.currentUrlTree,t,e);const n=this.parseUrl(t);return wu(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Hl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,l;r?(o=r.resolve,a=r.reject,l=r.promise):l=new Promise((t,e)=>{o=t,a=e});const u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class oh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ah,this.attachRef=null}}class ah{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new oh,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class lh{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new kr,this.deactivateEvents=new kr,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new uh(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class uh{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Yu?this.route:t===ah?this.childContexts:this.parent.get(t,e)}}class ch{}class hh{preload(t,e){return e().pipe(_l(()=>$a(null)))}}class dh{preload(t,e){return $a(null)}}class fh{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new Jc(e,n,e=>t.triggerEvent(new Xl(e)),e=>t.triggerEvent(new Jl(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(nl(t=>t instanceof Hl),Pl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Pt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return B(n).pipe(G(),M(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(z(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class ph{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ql?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Hl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ru&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ru(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const mh=new Et("ROUTER_CONFIGURATION"),gh=new Et("ROUTER_FORROOT_GUARD"),_h=[xa,{provide:ku,useClass:Tu},{provide:sh,useFactory:Sh,deps:[ku,ah,xa,Pe,_s,$r,Xc,mh,[th,new rt],[Zc,new rt]]},ah,{provide:Yu,useFactory:xh,deps:[sh]},{provide:_s,useClass:bs},fh,dh,hh,{provide:mh,useValue:{enableTracing:!1}}];function yh(){return new cs("Router",sh)}class vh{constructor(t,e){}static forRoot(t,e){return{ngModule:vh,providers:[_h,Eh(t),{provide:gh,useFactory:Ch,deps:[[sh,new rt,new ot]]},{provide:mh,useValue:e||{}},{provide:ba,useFactory:wh,deps:[ha,[new it(Ca),new rt],mh]},{provide:ph,useFactory:bh,deps:[sh,Ha,mh]},{provide:ch,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:dh},{provide:cs,multi:!0,useFactory:yh},[Ih,{provide:Rr,multi:!0,useFactory:kh,deps:[Ih]},{provide:Ah,useFactory:Th,deps:[Ih]},{provide:Mr,multi:!0,useExisting:Ah}]]}}static forChild(t){return{ngModule:vh,providers:[Eh(t)]}}}function bh(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ph(t,e,n)}function wh(t,e,n={}){return n.useHash?new Sa(t,e):new Ea(t,e)}function Ch(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Eh(t){return[{provide:qe,multi:!0,useValue:t},{provide:Xc,multi:!0,useValue:t}]}function Sh(t,e,n,i,r,s,o,a={},l,u){const c=new sh(null,t,e,n,i,r,s,_u(o));if(l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),a.errorHandler&&(c.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(c.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=ua();c.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(c.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(c.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(c.relativeLinkResolution=a.relativeLinkResolution),c}function xh(t){return t.routerState.root}class Ih{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new x}appInitializer(){return this.injector.get(fa,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(sh),i=this.injector.get(mh);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?$a(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(mh),n=this.injector.get(fh),i=this.injector.get(ph),r=this.injector.get(sh),s=this.injector.get(ms);t===s.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function kh(t){return t.appInitializer.bind(t)}function Th(t){return t.bootstrapListener.bind(t)}const Ah=new Et("Router Initializer");var Rh=Qn({encapsulation:2,styles:[],data:{}});function Oh(t){return Xs(0,[(t()(),Ls(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),sr(1,212992,null,0,lh,[ah,Fn,sn,[8,null],Re],null,null)],(function(t,e){t(e,1,0)}),null)}function Dh(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"ng-component",[],null,null,null,Oh,Rh)),sr(1,49152,null,0,su,[],null,null)],null,null)}var Nh=Vi("ng-component",su,Dh,{},{},[]);function Ph(t){return null!=t&&""+t!="false"}function Fh(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Lh(t){return Array.isArray(t)?t:[t]}function Mh(t){return null==t?"":"string"==typeof t?t:t+"px"}function Vh(t){return t instanceof un?t.nativeElement:t}function Uh(t){return t&&"function"==typeof t.connect}class jh{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new x,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}function Bh(t){return e=>e.lift(new zh(t))}class zh{constructor(t){this.notifier=t}call(t,e){const n=new qh(t),i=F(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class qh extends L{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}function Hh(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Ph(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Gh=new Et("CDK_TABLE");class $h{constructor(t){this.template=t}}class Wh{constructor(t){this.template=t}}class Kh{}const Yh=Hh(Kh);class Zh extends Yh{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"))}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=Ph(t),this._hasStickyChanged=e!==this._stickyEnd}}class Qh{constructor(t,e){e.nativeElement.classList.add("cdk-column-"+t.cssClassFriendlyName)}}class Xh extends Qh{constructor(t,e){super(t,e)}}class Jh extends Qh{constructor(t,e){super(t,e)}}class td{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof id?t.headerCell.template:this instanceof od?t.footerCell.template:t.cell.template}}class ed extends td{}const nd=Hh(ed);class id extends nd{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}class rd extends td{}const sd=Hh(rd);class od extends sd{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}class ad extends td{constructor(t,e,n){super(t,e),this._table=n}}let ld=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.mostRecentCellOutlet=null,t})();class ud{}const cd=["top","bottom","left","right"];class hd{constructor(t,e,n,i=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._isBrowser=i}clearStickyPositioning(t,e){for(const n of t)if(n.nodeType===n.ELEMENT_NODE){this._removeStickyStyle(n,e);for(let t=0;t<n.children.length;t++)this._removeStickyStyle(n.children[t],e)}}updateStickyColumns(t,e,n){const i=e.some(t=>t)||n.some(t=>t);if(!t.length||!i||!this._isBrowser)return;const r=t[0],s=r.children.length,o=this._getCellWidths(r),a=this._getStickyStartColumnPositions(o,e),l=this._getStickyEndColumnPositions(o,n),u="rtl"===this.direction;for(const c of t)for(let t=0;t<s;t++){const i=c.children[t];e[t]&&this._addStickyStyle(i,u?"right":"left",a[t]),n[t]&&this._addStickyStyle(i,u?"left":"right",l[t])}}stickRows(t,e,n){if(!this._isBrowser)return;const i="bottom"===n?t.reverse():t;let r=0;for(let s=0;s<i.length;s++){if(!e[s])continue;const t=i[s];if(this._isNativeHtmlTable)for(let e=0;e<t.children.length;e++)this._addStickyStyle(t.children[e],n,r);else this._addStickyStyle(t,n,r);if(s===i.length-1)return;r+=t.getBoundingClientRect().height}}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";t.style.zIndex=this._getCalculatedZIndex(t),cd.some(e=>!!t.style[e])||(t.style.position="",t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=n+"px",t.style.cssText+="position: -webkit-sticky; position: sticky; ",t.style.zIndex=this._getCalculatedZIndex(t)}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const i of cd)t.style[i]&&(n+=e[i]);return n?""+n:""}_getCellWidths(t){const e=[],n=t.children;for(let i=0;i<n.length;i++)e.push(n[i].getBoundingClientRect().width);return e}_getStickyStartColumnPositions(t,e){const n=[];let i=0;for(let r=0;r<t.length;r++)e[r]&&(n[r]=i,i+=t[r]);return n}_getStickyEndColumnPositions(t,e){const n=[];let i=0;for(let r=t.length;r>0;r--)e[r]&&(n[r]=i,i+=t[r]);return n}}function dd(t){return Error(`Could not find column with id "${t}".`)}class fd{constructor(t,e){this.viewContainer=t,this.elementRef=e}}class pd{constructor(t,e){this.viewContainer=t,this.elementRef=e}}class md{constructor(t,e){this.viewContainer=t,this.elementRef=e}}class gd{constructor(t,e,n,i,r,s,o){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=r,this._platform=o,this._onDestroy=new x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this._multiTemplateDataRows=!1,this.viewChange=new Wa({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){ne()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}.`),this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Ph(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&this._forceRenderDataRows()}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e)}ngAfterContentChecked(){if(this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&!this._rowDefs.length)throw Error("Missing definitions for header, footer, and row; cannot determine which columns should be rendered.");this._renderUpdatedColumns(),this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription&&this._observeRenderChanges(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Uh(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return;const e=this._rowOutlet.viewContainer;t.forEachOperation((t,n,i)=>{if(null==t.previousIndex)this._insertRow(t.item,i);else if(null==i)e.remove(n);else{const t=e.get(n);e.move(t,i)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this.updateStickyColumnStyles()}setHeaderRowDef(t){this._customHeaderRowDefs=new Set([t]),this._headerRowDefChanged=!0}setFooterRowDef(t){this._customFooterRowDefs=new Set([t]),this._footerRowDefChanged=!0}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let i=0;i<e.length;i++)this._renderRows[i].rowDef===t&&n.push(e[i]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let i=this._data[n];const r=this._getRenderRowsForData(i,n,e.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(let e=0;e<r.length;e++){let n=r[e];const i=this._cachedRenderRowsMap.get(n.data);i.has(n.rowDef)?i.get(n.rowDef).push(n):i.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(i=>{const r=n&&n.has(i)?n.get(i):[];if(r.length){const t=r.shift();return t.dataIndex=e,t}return{data:t,rowDef:i,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),_d(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{if(this._columnDefsByName.has(t.name))throw function(t){return Error(`Duplicate column definition name provided: "${t}".`)}(t.name);this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=_d(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=_d(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=_d(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);if(!this.multiTemplateDataRows&&t.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff();this._rowDefs.reduce(t,!1)&&this._forceRenderDataRows(),this._headerRowDefs.reduce(t,!1)&&this._forceRenderHeaderRows(),this._footerRowDefs.reduce(t,!1)&&this._forceRenderFooterRows()}_switchDataSource(t){this._data=[],Uh(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;if(Uh(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof b||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=$a(this.dataSource)),void 0===t)throw Error("Provided data source did not match an array, Observable, or DataSource");var e;this._renderChangeSubscription=t.pipe(Bh(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles(),this.updateStickyColumnStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles(),this.updateStickyColumnStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>{const e=this._columnDefsByName.get(t);if(!e)throw dd(t);return e}),i=n.map(t=>t.sticky),r=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,i,r)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const i=t.viewContainer.get(n);e.push(i.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let i=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;i&&n.push(i)}if(!n.length)throw function(t){return Error("Could not find a matching row definition for theprovided row data: "+JSON.stringify(t))}(t);return n}_insertRow(t,e){this._renderRow(this._rowOutlet,t.rowDef,e,{$implicit:t.data})}_renderRow(t,e,n,i={}){t.viewContainer.createEmbeddedView(e.template,i,n);for(let r of this._getCellTemplates(e))ld.mostRecentCellOutlet&&ld.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const i=t.get(e).context;i.count=n,i.first=0===e,i.last=e===n-1,i.even=e%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[e].dataIndex,i.renderIndex=e):i.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);if(!n)throw dd(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlet:this._headerRowOutlet},{tag:"tbody",outlet:this._rowOutlet},{tag:"tfoot",outlet:this._footerRowOutlet}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup"),e.appendChild(n.outlet.elementRef.nativeElement),t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows(),this.updateStickyColumnStyles()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new hd(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._platform.isBrowser),(this._dir?this._dir.change:$a()).pipe(Bh(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}}function _d(t,e){return t.concat(Array.from(e))}class yd{}class vd extends gd{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky"}}class bd extends $h{}class wd extends Wh{}class Cd extends Zh{}class Ed extends Xh{constructor(t,e){super(t,e),e.nativeElement.classList.add("mat-column-"+t.cssClassFriendlyName)}}class Sd extends Jh{constructor(t,e){super(t,e),e.nativeElement.classList.add("mat-column-"+t.cssClassFriendlyName)}}class xd extends ad{}class Id extends ud{}class kd{}function Td(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class Ad extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Rd extends Ad{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Od=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Dd extends Od{constructor(t,e=Od.now){super(t,()=>Dd.delegate&&Dd.delegate!==this?Dd.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Dd.delegate&&Dd.delegate!==this?Dd.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Nd=new Dd(Rd);function Pd(t,e=Nd){return n=>n.lift(new Fd(t,e))}class Fd{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Ld(t,this.dueTime,this.scheduler))}}class Ld extends p{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Md,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Md(t){t.debouncedNext()}let Vd;try{Vd="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(BS){Vd=!1}let Ud,jd=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Vd)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275prov=ut({factory:function(){return new t(Rt(Lr,8))},token:t,providedIn:"root"}),t})();class Bd{}const zd=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function qd(){if(Ud)return Ud;if("object"!=typeof document||!document)return Ud=new Set(zd),Ud;let t=document.createElement("input");return Ud=new Set(zd.filter(e=>(t.setAttribute("type",e),t.type===e))),Ud}let Hd,Gd;function $d(t){return function(){if(null==Hd&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Hd=!0}))}finally{Hd=Hd||!1}return Hd}()?t:!!t.capture}class Wd{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new x,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new x,this.change=new x,t instanceof Ar&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ll(t=>this._pressedLetters.push(t)),Pd(t),nl(()=>this._pressedLetters.length>0),M(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||Td(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Ar?this._items.toArray():this._items}}class Kd extends Wd{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Yd extends Wd{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}"undefined"!=typeof Element&&Element;const Zd=new Et("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Qd=new Et("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Xd=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275prov=ut({factory:function(){return new t(Rt(Zd,8),Rt(Zr),Rt(ca),Rt(Qd,8))},token:t,providedIn:"root"}),t})();function Jd(t){return 0===t.buttons}const tf=new Et("cdk-focus-monitor-default-options"),ef=$d({passive:!0,capture:!0});let nf=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Jd(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=rf(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=rf(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){if(!this._platform.isBrowser)return $a(null);const n=Vh(t),i=function(t){if(function(){if(null==Gd){const t="undefined"!=typeof document?document.head:null;Gd=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Gd}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject.asObservable();const s={checkChildren:e,subject:new x,rootNode:i};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject.asObservable()}stopMonitoring(t){const e=Vh(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=Vh(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=rf(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==rf(t))return;const i=this._getFocusOrigin(t);this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,ef),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,ef)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,ef),t.addEventListener("mousedown",this._documentMousedownListener,ef),t.addEventListener("touchstart",this._documentTouchstartListener,ef),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ef),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ef),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,ef),t.removeEventListener("mousedown",this._documentMousedownListener,ef),t.removeEventListener("touchstart",this._documentTouchstartListener,ef),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275prov=ut({factory:function(){return new t(Rt(Zr),Rt(jd),Rt(ca,8),Rt(tf,8))},token:t,providedIn:"root"}),t})();function rf(t){return t.composedPath?t.composedPath()[0]:t.target}class sf{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new kr,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}let of=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275prov=ut({factory:function(){return new t(Rt(jd),Rt(ca))},token:t,providedIn:"root"}),t})();class af{constructor(t){t._applyBodyHighContrastModeCssClasses()}}const lf=new gn("9.2.4");class uf extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new uf,la||(la=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=hf||(hf=document.querySelector("base"),hf)?hf.getAttribute("href"):null;return null==e?null:(n=e,cf||(cf=document.createElement("a")),cf.setAttribute("href",n),"/"===cf.pathname.charAt(0)?cf.pathname:"/"+cf.pathname);var n}resetBaseElement(){hf=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Oa(document.cookie,t)}}let cf,hf=null;const df=new Et("TRANSITION_ID"),ff=[{provide:Rr,useFactory:function(t,e,n){return()=>{n.get(Or).donePromise.then(()=>{const n=ua();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[df,ca,Pe],multi:!0}];class pf{static init(){var t;t=new pf,ls=t}addToWindow(t){Ct.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Ct.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ct.getAllAngularRootElements=()=>t.getAllRootElements(),Ct.frameworkStabilizers||(Ct.frameworkStabilizers=[]),Ct.frameworkStabilizers.push(t=>{const e=Ct.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(r)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?ua().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}function mf(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Ct.ng=Ct.ng||{})[t]=e)}const gf=(()=>({ApplicationRef:ms,NgZone:Zr}))();function _f(t){return Is(t)}const yf=new Et("EventManagerPlugins");class vf{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}class bf{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=ua().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}class wf{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class Cf extends wf{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>ua().remove(t))}}const Ef={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Sf=/%COMP%/g;function xf(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?xf(t,r,n):(r=r.replace(Sf,t),n.push(r))}return n}function If(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class kf{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Tf(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Vt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Af(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Vt.Native:case Vt.ShadowDom:return new Rf(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=xf(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Tf{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ef[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=Ef[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=Ef[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&dn.DashCase?t.style.setProperty(e,n,i&dn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&dn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,If(n)):this.eventManager.addEventListener(t,e,If(n))}}class Af extends Tf{constructor(t,e,n,i){super(t),this.component=n;const r=xf(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Sf,i+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Sf,t)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Rf extends Tf{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===Vt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=xf(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}class Of extends bf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}const Df={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Nf=new Et("HammerGestureConfig"),Pf=new Et("HammerLoader");class Ff{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class Lf extends bf{constructor(t,e,n,i){super(t),this._config=e,this.console=n,this.loader=i}supports(t){return!(!Df.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(t,e,n){const i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let i=!1,r=()=>{i=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=()=>{});i||(r=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom Hammer.JS loader failed.`),r=()=>{}}),()=>{r()}}return i.runOutsideAngular(()=>{const r=this._config.buildHammer(t),s=function(t){i.runGuarded((function(){n(t)}))};return r.on(e,s),()=>{r.off(e,s),"function"==typeof r.destroy&&r.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const Mf=["alt","control","meta","shift"],Vf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uf={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jf={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Bf extends bf{constructor(t){super(t)}supports(t){return null!=Bf.parseEventName(t)}addEventListener(t,e,n){const i=Bf.parseEventName(e),r=Bf.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ua().onAndCancel(t,i.domEventName,r))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const i=Bf._normalizeKey(e.pop());let r="";if(Mf.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r+=t+".")}),r+=i,0!=e.length||0===i.length)return null;const s={};return s.domEventName=n,s.fullKey=r,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Uf.hasOwnProperty(e)&&(e=Uf[e]))}return Vf[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Mf.forEach(i=>{i!=n&&(0,jf[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(t,e,n){return i=>{Bf.getEventFullKey(i)===t&&n.runGuarded(()=>e(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}let zf=(()=>{class t{}return t.\u0275prov=ut({factory:function(){return Rt(qf)},token:t,providedIn:"root"}),t})(),qf=(()=>{class t extends zf{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Se.NONE:return e;case Se.HTML:return Xt(e,"HTML")?Qt(e):function(t,e){let n=null;try{Ce=Ce||new ie(t);let i=e?String(e):"";n=Ce.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Ce.getInertBodyElement(i)}while(i!==s);const o=new ye,a=o.sanitizeChildren(Ee(n)||n);return ne()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Ee(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e));case Se.STYLE:return Xt(e,"Style")?Qt(e):function(t){if(!(t=String(t).trim()))return"";const e=t.match(Ie);return e&&oe(e[1])===e[1]||t.match(xe)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(ne()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e);case Se.SCRIPT:if(Xt(e,"Script"))return Qt(e);throw new Error("unsafe value used in a script context");case Se.URL:return Jt(e),Xt(e,"URL")?Qt(e):oe(String(e));case Se.RESOURCE_URL:if(Xt(e,"ResourceURL"))return Qt(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new $t(t)}bypassSecurityTrustStyle(t){return new Wt(t)}bypassSecurityTrustScript(t){return new Kt(t)}bypassSecurityTrustUrl(t){return new Yt(t)}bypassSecurityTrustResourceUrl(t){return new Zt(t)}}return t.\u0275prov=ut({factory:function(){return t=Rt(St),new qf(t.get(ca));var t},token:t,providedIn:"root"}),t})();function Hf(){return new Ht}const Gf=hs(As,"browser",[{provide:Lr,useValue:"browser"},{provide:Fr,useValue:function(){uf.makeCurrent(),pf.init()},multi:!0},{provide:ca,useFactory:function(){return function(t){Ut=t}(document),document},deps:[]}]);class $f{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:$f,providers:[{provide:Dr,useValue:t.appId},{provide:df,useExisting:Dr},ff]}}}function Wf(){return new Kf(Rt(ca))}let Kf=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275prov=ut({factory:Wf,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;const Yf=new gn("9.2.4"),Zf=new Et("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class Qf{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return ne()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Yf.full!==lf.full&&console.warn("The Angular Material version ("+Yf.full+") does not match the Angular CDK version ("+lf.full+").\nPlease ensure the versions of these two packages exactly match.")}}function Xf(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ph(t)}}}function Jf(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}}function tp(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ph(t)}}}function ep(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function np(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new x}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}let ip;try{ip="undefined"!=typeof Intl}catch(BS){ip=!1}let rp=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275prov=ut({factory:function(){return new t},token:t,providedIn:"root"}),t})();class sp{}class op{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ap={enterDuration:450,exitDuration:400},lp=$d({passive:!0}),up=["mousedown","touchstart"],cp=["mouseup","mouseleave","touchend","touchcancel"];class hp{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Vh(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},ap),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),o=t-i.left,a=e-i.top,l=r.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=o-s+"px",u.style.top=a-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=l+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const c=new op(this,u,n);return c.state=0,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=1,n.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},ap),t.config.animation);n.style.transitionDuration=i.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Vh(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(up))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(cp),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Jd(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,lp)})})}_removeTriggerEvents(){this._triggerElement&&(up.forEach(t=>{this._triggerElement.removeEventListener(t,this,lp)}),this._pointerUpEventsRegistered&&cp.forEach(t=>{this._triggerElement.removeEventListener(t,this,lp)}))}}const dp=new Et("mat-ripple-global-options");class fp{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new hp(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}class pp{}class mp{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}class gp{}class _p{}const yp=Xf(_p);let vp=0;class bp extends yp{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+vp++}}let wp=0;class Cp{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const Ep=new Et("MAT_OPTION_PARENT_COMPONENT");class Sp{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+wp++,this.onSelectionChange=new kr,this._stateChanges=new x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Ph(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||Td(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Cp(this,t))}}function xp(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),s=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[s]&&s++;return s}return 0}class Ip{}const kp=new Et("mat-label-global-options"),Tp=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Ap{constructor(t){this._elementRef=t}}const Rp=Jf(Xf(tp(Ap)));class Op extends Rp{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of Tp)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}class Dp extends Op{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}class Np{}const Pp=new Et("cdk-dir-doc",{providedIn:"root",factory:function(){return Ot(ca)}});let Fp=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new kr,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275prov=ut({factory:function(){return new t(Rt(Pp,8))},token:t,providedIn:"root"}),t})();class Lp{}class Mp{}function Vp(t,e=null){return{type:2,steps:t,options:e}}function Up(t){return{type:6,styles:t,offset:null}}function jp(t){Promise.resolve(null).then(t)}class Bp{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){jp(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class zp{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?jp(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function qp(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Hp(t){switch(t.length){case 0:return new Bp;case 1:return t[0];default:return new zp(t)}}function Gp(t,e,n,i,r={},s={}){const o=[],a=[];let l=-1,u=null;if(i.forEach(t=>{const n=t.offset,i=n==l,c=i&&u||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case"!":a=r[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}c[i]=a}),i||a.push(c),u=c,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function $p(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Wp(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Wp(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Wp(n,"destroy",t)))}}function Wp(t,e,n){const i=n.totalTime,r=Kp(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function Kp(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Yp(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function Zp(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Qp=(t,e)=>!1,Xp=(t,e)=>!1,Jp=(t,e,n)=>[];const tm=qp();(tm||"undefined"!=typeof Element)&&(Qp=(t,e)=>t.contains(e),Xp=(()=>{if(tm||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Xp}})(),Jp=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let em=null,nm=!1;function im(t){em||(em=("undefined"!=typeof document?document.body:null)||{},nm=!!em.style&&"WebkitAppearance"in em.style);let e=!0;return em.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in em.style,!e&&nm)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in em.style),e}const rm=Xp,sm=Qp,om=Jp;function am(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}class lm{validateStyleProperty(t){return im(t)}matchesElement(t,e){return rm(t,e)}containsElement(t,e){return sm(t,e)}query(t,e,n){return om(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new Bp(n,i)}}let um=(()=>{class t{}return t.NOOP=new lm,t})();function cm(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:hm(parseFloat(e[1]),e[2])}function hm(t,e){switch(e){case"s":return 1e3*t;default:return t}}function dm(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=hm(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=hm(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function fm(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function pm(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else fm(t,n);return n}function mm(t,e,n){return n?e+":"+n+";":""}function gm(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=mm(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=mm(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function _m(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=xm(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),qp()&&gm(t))}function ym(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=xm(e);t.style[n]=""}),qp()&&gm(t))}function vm(t){return Array.isArray(t)?1==t.length?t[0]:Vp(t):t}const bm=new RegExp("{{\\s*(.+?)\\s*}}","g");function wm(t){let e=[];if("string"==typeof t){let n;for(;n=bm.exec(t);)e.push(n[1]);bm.lastIndex=0}return e}function Cm(t,e,n){const i=t.toString(),r=i.replace(bm,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?t:r}function Em(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Sm=/-+([a-z0-9])/g;function xm(t){return t.replace(Sm,(...t)=>t[1].toUpperCase())}function Im(t,e){return 0===t||0===e}function km(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach((function(e){n[e]=Am(t,e)}))}}return e}function Tm(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Am(t,e){return window.getComputedStyle(t)[e]}function Rm(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(Nm(r,o)),"<"!=s[0]||"*"==r&&"*"==o||e.push(Nm(o,r))}(t,n,e)):n.push(t),n}const Om=new Set(["true","1"]),Dm=new Set(["false","0"]);function Nm(t,e){const n=Om.has(t)||Dm.has(t),i=Om.has(e)||Dm.has(e);return(r,s)=>{let o="*"==t||t==r,a="*"==e||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?Om.has(t):Dm.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?Om.has(e):Dm.has(e)),o&&a}}const Pm=new RegExp("s*:selfs*,?","g");function Fm(t,e,n){return new Lm(t).build(e,n)}class Lm{constructor(t){this._driver=t}build(t,e){const n=new Mm(e);return this._resetContextStyleTimingState(n),Tm(this,vm(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(Vm(t)){const e=t;Object.keys(e).forEach(t=>{wm(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=Em(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Tm(this,vm(t.animation),e);return{type:1,matchers:Rm(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Um(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Tm(this,t,e)),options:Um(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=Tm(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:Um(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return jm(dm(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=jm(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||dm(i,e),jm(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:Up({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=Up(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(Vm(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=wm(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Vm(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Vm(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=l&&(i++,u=n.offset=l),o=o||u<0||u>1,s=s||u<a,a=u,r.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;i>0&&i<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(c=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return l.forEach((t,i)=>{const s=c>0?i==h?1:c*i:r[i],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Tm(this,vm(t.animation),e),options:Um(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Um(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Um(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Pm,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,Yp(e.collectedStyles,e.currentQuerySelector,{});const o=Tm(this,vm(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Um(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:dm(t.timings,e.errors,!0);return{type:12,animation:Tm(this,vm(t.animation),e),timings:n,options:null}}}class Mm{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Vm(t){return!Array.isArray(t)&&"object"==typeof t}function Um(t){var e;return t?(t=fm(t)).params&&(t.params=(e=t.params)?fm(e):null):t={},t}function jm(t,e,n){return{duration:t,delay:e,easing:n}}function Bm(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class zm{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const qm=new RegExp(":enter","g"),Hm=new RegExp(":leave","g");function Gm(t,e,n,i,r,s={},o={},a,l,u=[]){return(new $m).buildKeyframes(t,e,n,i,r,s,o,a,l,u)}class $m{buildKeyframes(t,e,n,i,r,s,o,a,l,u=[]){l=l||new zm;const c=new Km(t,e,l,i,r,u,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),Tm(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Bm(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?cm(n.duration):null,s=null!=n.delay?cm(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),Tm(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Wm);const t=cm(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Tm(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?cm(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),Tm(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return dm(e.params?Cm(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?cm(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Wm);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),Tm(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;Tm(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}const Wm={};class Km{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ym(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=cm(n.duration)),null!=n.delay&&(i.delay=cm(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Cm(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new Km(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Wm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new Zm(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(qm,"."+this._enterClassName)).replace(Hm,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Ym{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ym(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]="*"})):pm(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Cm(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=pm(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):"*"==i&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?Em(t.values()):[],s=e.size?Em(e.values()):[];if(n){const t=i[0],e=fm(t);t.offset=0,e.offset=1,i=[t,e]}return Bm(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class Zm extends Ym{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=pm(t[0],!1);a.offset=0,r.push(a);const l=pm(t[0],!1);l.offset=Qm(o),r.push(l);const u=t.length-1;for(let i=1;i<=u;i++){let o=pm(t[i],!1);o.offset=Qm((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return Bm(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function Qm(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Xm{}class Jm extends Xm{normalizePropertyName(t,e){return xm(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(tg[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const tg=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function eg(t,e,n,i,r,s,o,a,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const ng={};class ig{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||ng,d=this.buildStyles(n,o&&o.params||ng,c),f=a&&a.params||ng,p=this.buildStyles(i,f,c),m=new Set,g=new Map,_=new Map,y="void"===i,v={params:Object.assign(Object.assign({},h),f)},b=u?[]:Gm(t,e,this.ast.animation,r,s,d,p,v,l,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return eg(e,this._triggerName,n,i,y,d,p,[],[],g,_,w,c);b.forEach(t=>{const n=t.element,i=Yp(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=Yp(_,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const C=Em(m.values());return eg(e,this._triggerName,n,i,y,d,p,b,C,g,_,w)}}class rg{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=fm(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=Cm(s,i,e)),n[t]=s})}}),n}}class sg{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new rg(t.style,t.options&&t.options.params||{})}),og(this.states,"true","1"),og(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new ig(t,e,this.states))}),this.fallbackTransition=new ig(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function og(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const ag=new zm;class lg{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=Fm(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=Gp(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=Gm(this._driver,e,r,"ng-enter","ng-leave",{},{},n,ag,i),s.forEach(t=>{const e=Yp(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Hp(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,i){const r=Kp(e,"","","");return $p(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const ug=[],cg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hg={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class dg{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=fm(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const fg=new dg("void");class pg{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,wg(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=Yp(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=Yp(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(wg(t,"ng-trigger"),wg(t,"ng-trigger-"+e),a[e]=fg),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new gg(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(wg(t,"ng-trigger"),wg(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new dg(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=fg),"void"!==l.value&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{ym(t,n),_m(t,i)})}return}const u=Yp(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=r.matchTransition(a.value,l.value,t,l.params),h=!1;if(!c){if(!i)return;c=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(wg(t,"ng-animate-queued"),s.onStart(()=>{Cg(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Hp(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(t)[i]||fg,o=new dg("void"),a=new gg(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==cg||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){wg(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=Kp(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,$p(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class mg{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new pg(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(_g(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!_g(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),wg(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Cg(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if(_g(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return _g(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Hp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=cg,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)wg(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Hp(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new zm,i=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=bg(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>wg(t,n))});const m=[],g=new Set,_=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const t=this.collectedLeaveElements[R],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):_.add(t))}const y=new Map,v=bg(h,Array.from(g));v.forEach((t,e)=>{const n="ng-leave"+p++;y.set(e,n),t.forEach(t=>wg(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Cg(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Cg(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(b.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,r),h=y.get(r),d=f.get(r),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>ym(r,p.fromStyles)),e.onDestroy(()=>_m(r,p.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>ym(r,p.fromStyles)),e.onDestroy(()=>_m(r,p.toStyles)),void i.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,p.timelines),s.push({instruction:p,player:e,element:r}),p.queriedElements.forEach(t=>Yp(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Yp(C,e,[]).push(t),t.destroy()})});const S=m.filter(t=>Sg(t,a,l)),x=new Map;vg(x,this.driver,_,l,"*").forEach(t=>{Sg(t,a,l)&&S.push(t)});const I=new Map;d.forEach((t,e)=>{vg(I,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=x.get(t),n=I.get(t);x.set(t,Object.assign(Object.assign({},e),n))});const k=[],T=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>_m(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=A;if(E.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,r,I,x);if(s.setRealPlayer(n),t===A)k.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Hp(e)),i.push(s)}}else ym(e,o.fromStyles),s.onDestroy(()=>_m(e,o.toStyles)),T.push(s),u.has(e)&&i.push(s)}),T.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=Hp(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let R=0;R<m.length;R++){const t=m[R],e=t.__ng_removed;if(Cg(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Eg(this,t,i):this.processLeaveNode(t)}return m.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,l=Yp(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}ym(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,l=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Bp(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const r=e[i];r instanceof zp?t(r.players,n):n.push(r)}}(t,e),e}((n.get(h)||ug).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=s.get(h),_=Gp(0,this._normalizer,0,e.keyframes,m,g),y=this._buildPlayer(e,_,p);if(e.subTimeline&&i&&c.add(h),f){const e=new gg(t,o,h);e.setRealPlayer(y),l.push(e)}return y});l.forEach(t=>{Yp(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>wg(t,"ng-animating"));const d=Hp(h);return d.onDestroy(()=>{u.forEach(t=>Cg(t,"ng-animating")),_m(a,e.toStyles)}),c.forEach(t=>{Yp(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Bp(t.duration,t.delay)}}class gg{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Bp,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>$p(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Yp(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function _g(t){return t&&1===t.nodeType}function yg(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function vg(t,e,n,i,r){const s=[];n.forEach(t=>s.push(yg(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=hg,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>yg(t,s[a++])),o}function bg(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=r.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:i.has(o)?1:t(o),r.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function wg(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Cg(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Eg(t,e,n){Hp(n).onDone(()=>t.processLeaveNode(e))}function Sg(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class xg{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new mg(t,e,n),this._timelineEngine=new lg(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=Fm(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new sg(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=Zp(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=Zp(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ig(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=Tg(e[0]),e.length>1&&(i=Tg(e[e.length-1]))):e&&(n=Tg(e)),n||i?new kg(t,n,i):null}let kg=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&_m(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_m(this._element,this._initialStyles),this._endStyles&&(_m(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ym(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ym(this._element,this._endStyles),this._endStyles=null),_m(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Tg(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];Ag(r)&&(e=e||{},e[r]=t[r])}return e}function Ag(t){return"display"===t||"position"===t}class Rg{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Lg(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),Fg(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Pg(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Og(this._element,this._name,"paused")}resume(){Og(this._element,this._name,"running")}setPosition(t){const e=Dg(this._element,this._name);this._position=t*this._duration,Fg(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Pg(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Lg(t,"").split(","),i=Ng(n,e);i>=0&&(n.splice(i,1),Fg(t,"",n.join(",")))}(this._element,this._name))}}function Og(t,e,n){Fg(t,"PlayState",n,Dg(t,e))}function Dg(t,e){const n=Lg(t,"");return n.indexOf(",")>0?Ng(n.split(","),e):Ng([n],e)}function Ng(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Pg(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Fg(t,e,n,i){const r="animation"+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function Lg(t,e){return t.style["animation"+e]}class Mg{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Rg(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Am(this.element,n))})}this.currentSnapshot=t}}class Vg extends Bp{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=am(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Ug{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return im(t)}matchesElement(t,e){return rm(t,e)}containsElement(t,e){return sm(t,e)}query(t,e,n){return om(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>am(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=r+"}\n"}),i+="}\n";const s=document.createElement("style");return s.innerHTML=i,s}animate(t,e,n,i,r,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof Mg),l={};Im(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=km(t,e,l));if(0==n)return new Vg(t,u);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=Ig(t,e),f=new Mg(t,e,c,n,i,r,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class jg{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Am(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Bg{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(zg().toString()),this._cssKeyframesDriver=new Ug}validateStyleProperty(t){return im(t)}matchesElement(t,e){return rm(t,e)}containsElement(t,e){return sm(t,e)}query(t,e,n){return om(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},u=s.filter(t=>t instanceof jg);Im(n,i)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=Ig(t,e=km(t,e=e.map(t=>pm(t,!1)),l));return new jg(t,e,a,c)}}function zg(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class qg extends Mp{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Vt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Vp(t):t;return $g(this._renderer,null,e,"register",[n]),new Hg(e,this._renderer)}}class Hg extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Gg(this._id,t,e||{},this._renderer)}}class Gg{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return $g(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function $g(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}class Wg{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Kg("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new Yg(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class Kg{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Yg extends Kg{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return"@"!=r.charAt(0)&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class Zg extends xg{constructor(t,e,n){super(t.body,e,n)}}function Qg(){return"function"==typeof zg()?new Bg:new Ug}function Xg(){return new Jm}function Jg(t,e,n){return new Wg(t,e,n)}const t_=new Et("AnimationModuleType");class e_{}var n_=Qn({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],data:{}});function i_(t){return Xs(2,[Bs(671088640,1,{ripple:0}),(t()(),Ls(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),$s(null,0),(t()(),Ls(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),sr(4,212992,[[1,4]],0,fp,[un,Zr,jd,[2,dp],[2,t_]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),Ls(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,Yi(e,4).unbounded)}))}var r_=Qn({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],data:{}});function s_(t){return Xs(2,[Bs(671088640,1,{ripple:0}),(t()(),Ls(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),$s(null,0),(t()(),Ls(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),sr(4,212992,[[1,4]],0,fp,[un,Zr,jd,[2,dp],[2,t_]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),Ls(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,Yi(e,4).unbounded)}))}var o_=Qn({encapsulation:2,styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type,[dir=rtl] mat-header-cell:first-of-type,[dir=rtl] mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type,[dir=rtl] mat-header-cell:last-of-type,[dir=rtl] mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type,[dir=rtl] td.mat-cell:first-of-type,[dir=rtl] td.mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type,[dir=rtl] td.mat-cell:last-of-type,[dir=rtl] td.mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}\n'],data:{}});function a_(t){return Xs(0,[Bs(402653184,1,{_rowOutlet:0}),Bs(402653184,2,{_headerRowOutlet:0}),Bs(402653184,3,{_footerRowOutlet:0}),$s(null,0),(t()(),Ls(4,16777216,null,null,1,null,null,null,null,null,null,null)),sr(5,16384,[[2,4]],0,pd,[Fn,un],null,null),(t()(),Ls(6,16777216,null,null,1,null,null,null,null,null,null,null)),sr(7,16384,[[1,4]],0,fd,[Fn,un],null,null),(t()(),Ls(8,16777216,null,null,1,null,null,null,null,null,null,null)),sr(9,16384,[[3,4]],0,md,[Fn,un],null,null)],null,null)}var l_=Qn({encapsulation:2,styles:[],data:{}});function u_(t){return Xs(0,[(t()(),Ls(0,16777216,null,null,1,null,null,null,null,null,null,null)),sr(1,147456,null,0,ld,[Fn],null,null)],null,null)}class c_{}class h_{constructor(t){this._animationMode=t}}class d_{}var f_=Qn({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],data:{}});function p_(t){return Xs(2,[$s(null,0),$s(null,1)],null,null)}class m_{constructor(t,e,n,i){this.authService=t,this.router=e,this.httpClient=n,this.global=i,this.groupColumns=["name","edit","manage"],this.groups=[],this.authService.getCurrentUser().getIdTokenResult(!0).then(t=>{this.httpClient.getAuth(this.global.baseApiURL+"/v1/getGroups",{},t).subscribe(t=>{this.groups=t.data.groups})})}ngOnInit(){}signOut(){this.authService.signOut()}createGroup(){this.router.navigate(["group-edit"])}editGroup(t){this.router.navigate(["group-edit"],{queryParams:t})}manageGroup(t){this.router.navigate(["group/"+t.gid],{queryParams:t})}}var g_=n("Wcq6");function __(t,e){return new b(e?n=>e.schedule(y_,0,{error:t,subscriber:n}):e=>e.error(t))}function y_({error:t,subscriber:e}){e.error(t)}let v_=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return $a(this.value);case"E":return __(this.error);case"C":return Ja()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function b_(t,e=0){return function(n){return n.lift(new w_(t,e))}}class w_{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new C_(t,this.scheduler,this.delay))}}class C_ extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(C_.dispatch,this.delay,new E_(t,this.destination)))}_next(t){this.scheduleMessage(v_.createNext(t))}_error(t){this.scheduleMessage(v_.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(v_.createComplete()),this.unsubscribe()}}class E_{constructor(t,e){this.notification=t,this.destination=e}}class S_ extends Rd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class x_ extends Dd{}const I_=new x_(S_);class k_ extends x{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new T_(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new C;if(this.isStopped||this.hasError?s=h.EMPTY:(this.observers.push(t),s=new E(this,t)),i&&t.add(t=new C_(t,i)),e)for(let o=0;o<r&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||I_).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class T_{constructor(t,e){this.time=t,this.value=e}}let A_=1;const R_=(()=>Promise.resolve())(),O_={};function D_(t){return t in O_&&(delete O_[t],!0)}const N_={setImmediate(t){const e=A_++;return O_[e]=!0,R_.then(()=>D_(e)&&t()),e},clearImmediate(t){D_(t)}};class P_ extends Rd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=N_.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(N_.clearImmediate(e),t.scheduled=void 0)}}class F_ extends Dd{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const L_=new F_(P_);function M_(t){return!l(t)&&t-parseFloat(t)+1>=0}class V_ extends b{constructor(t,e=0,n=L_){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!M_(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=L_)}static create(t,e=0,n=L_){return new V_(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(V_.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class U_{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new V_(e,this.delay,this.scheduler).subscribe(t)}}function j_(){}class B_{constructor(t,e=I_){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule((function(e){i.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class z_{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",j_,{},j_,j_)),e.pipe(Ll({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class q_{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new B_(Zone.current)),this.insideAngular=t.run(()=>new B_(Zone.current,Nd))}}function H_(t){return function(e){return(e=e.lift(new z_(t.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new U_(t,e))}}(t.outsideAngular),b_(t.insideAngular))}}const G_=["ngOnDestroy"],$_=new Et("angularfire2.app.options"),W_=new Et("angularfire2.app.nameOrConfig");class K_{}const Y_=new gn("6.0.2");function Z_(t,e,n){const i="object"==typeof n&&n||{};return i.name=i.name||"string"==typeof n&&n||"[DEFAULT]",g_.apps.filter(t=>t&&t.name===i.name)[0]||e.runOutsideAngular(()=>Object(g_.initializeApp)(t,i))}class Q_{constructor(t){Object(g_.registerVersion)("angularfire",Y_.full,t.toString()),Object(g_.registerVersion)("angular",_n.full)}static initializeApp(t,e){return{ngModule:Q_,providers:[{provide:$_,useValue:t},{provide:W_,useValue:e}]}}}let X_=(()=>{class t{constructor(t,e,i,r){const s=new q_(r),o=H_(s),a=$a(void 0).pipe(b_(s.outsideAngular),Il(()=>r.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),M(()=>Z_(t,r,e)),M(t=>r.runOutsideAngular(()=>t.auth())),function(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,s,o=0,a=!1,l=!1;return function(u){o++,r&&!a||(a=!1,r=new k_(t,e,i),s=u.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){l=!0,s=void 0,r.complete()}}));const c=r.subscribe(this);this.add(()=>{o--,c.unsubscribe(),s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}({bufferSize:1,refCount:!1}));return a.pipe(El()).subscribe(),this.authState=a.pipe(Il(t=>r.runOutsideAngular(()=>new b(t.onAuthStateChanged.bind(t)))),o),this.user=a.pipe(Il(t=>r.runOutsideAngular(()=>new b(t.onIdTokenChanged.bind(t)))),o),this.idToken=this.user.pipe(Il(t=>t?B(t.getIdToken()):$a(null))),this.idTokenResult=this.user.pipe(Il(t=>t?B(t.getIdTokenResult()):$a(null))),((t,e,n)=>new Proxy(t,{get:(i,r)=>n.runOutsideAngular(()=>{if(t[r])return t[r];if(G_.includes(r))return()=>{};const i=e.toPromise().then(t=>{const e=t&&t[r];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>i[e],apply:(t,e,n)=>i.then(t=>t&&t(...n))})})}))(this,a,r)}}return t.\u0275prov=ut({factory:function(){return new t(Rt($_),Rt(W_,8),Rt(Lr),Rt(Zr))},token:t,providedIn:"any"}),t})();class J_{}let ty=(()=>{class t{constructor(){this.isTesting=!0,this.authHomePage="home",this.unauthHomePage="signin",this.baseApiURL=this.isTesting?"http://localhost:3000/api":"/api",this.title="iCamp",this.selectedParty="",this.partyList=[{value:"createParty",viewValue:"Create Party"}]}}return t.\u0275prov=ut({factory:function(){return new t},token:t,providedIn:"root"}),t})();class ey{}class ny{}class iy{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof iy?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new iy;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof iy?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ry{encodeKey(t){return sy(t)}encodeValue(t){return sy(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function sy(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class oy{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ry,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new oy({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function ay(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ly(t){return"undefined"!=typeof Blob&&t instanceof Blob}function uy(t){return"undefined"!=typeof FormData&&t instanceof FormData}class cy{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new iy),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new oy,this.urlWithParams=e}serializeBody(){return null===this.body?null:ay(this.body)||ly(this.body)||uy(this.body)||"string"==typeof this.body?this.body:this.body instanceof oy?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uy(this.body)?null:ly(this.body)?this.body.type||null:ay(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oy?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new cy(e,n,r,{params:l,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}const hy=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class dy{constructor(t,e=200,n="OK"){this.headers=t.headers||new iy,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class fy extends dy{constructor(t={}){super(t),this.type=hy.ResponseHeader}clone(t={}){return new fy({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class py extends dy{constructor(t={}){super(t),this.type=hy.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new py({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class my extends dy{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function gy(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class _y{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof cy)i=t;else{let r=void 0;r=n.headers instanceof iy?n.headers:new iy(n.headers);let s=void 0;n.params&&(s=n.params instanceof oy?n.params:new oy({fromObject:n.params})),i=new cy(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=$a(i).pipe(Pl(t=>this.handler.handle(t)));if(t instanceof cy||"events"===n.observe)return r;const s=r.pipe(nl(t=>t instanceof py));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(M(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(M(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(M(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(M(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new oy).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,gy(n,e))}post(t,e,n={}){return this.request("POST",t,gy(n,e))}put(t,e,n={}){return this.request("PUT",t,gy(n,e))}}class yy{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const vy=new Et("HTTP_INTERCEPTORS");class by{intercept(t,e){return e.handle(t)}}const wy=/^\)\]\}',?\n/;class Cy{}class Ey{constructor(){}build(){return new XMLHttpRequest}}class Sy{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new b(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new iy(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new fy({headers:s,status:e,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let u=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(wy,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=t,u&&(u=!1,l={error:c,text:l})}}u?(e.next(new py({body:l,headers:i,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new my({error:l,headers:i,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:i}=s(),r=new my({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let l=!1;const u=i=>{l||(e.next(s()),l=!0);let r={type:hy.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},c=t=>{let n={type:hy.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==i&&n.upload&&n.upload.addEventListener("progress",c)),n.send(i),e.next({type:hy.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",u),null!==i&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const xy=new Et("XSRF_COOKIE_NAME"),Iy=new Et("XSRF_HEADER_NAME");class ky{}class Ty{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Oa(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class Ay{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}class Ry{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(vy,[]);this.chain=t.reduceRight((t,e)=>new yy(t,e),this.backend)}return this.chain.handle(t)}}class Oy{static disable(){return{ngModule:Oy,providers:[{provide:Ay,useClass:by}]}}static withOptions(t={}){return{ngModule:Oy,providers:[t.cookieName?{provide:xy,useValue:t.cookieName}:[],t.headerName?{provide:Iy,useValue:t.headerName}:[]]}}}class Dy{}let Ny=(()=>{class t{constructor(t){this.httpClient=t}post(t,e){return this.httpClient.post(t,e,{headers:new iy({"Content-Type":"application/json"})})}postAuth(t,e,n){var i=new oy;for(var r in e)i=i.append(r,e[r]);return this.httpClient.post(t,i,{headers:new iy({"Content-Type":"application/x-www-form-urlencoded",Authorization:n.token})})}getAuth(t,e,n){return this.httpClient.get(t,{headers:new iy({"Content-Type":"application/x-www-form-urlencoded",Authorization:n.token})})}}return t.\u0275prov=ut({factory:function(){return new t(Rt(_y))},token:t,providedIn:"root"}),t})(),Py=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.afAuth=e,this.global=n,this.ngZone=i,this.httpClient=r,e.authState.subscribe(t=>{(null==this.userDetails&&null!=t||null!=this.userDetails&&null==t)&&(this.userDetails=t,null!=t&&this.getToken(!0).then(e=>{this.httpClient.postAuth(this.global.baseApiURL+"/v1/login",{uid:t.uid,email:t.email,name:t.displayName},e).subscribe(t=>{})}),null!=this.authStateChangeBlock&&(this.authStateChangeBlock(),this.authStateChangeBlock=null)),this.userDetails=t})}getCurrentUser(){return this.userDetails}isLoggedIn(){return null!=this.userDetails}executeWhenStateChanges(t){this.authStateChangeBlock=t}authGuardCheck(t){return console.log("HI"),new b(t=>{})}checkForAuthChange(){let t=this;this.authObservable=this.afAuth.authState.subscribe(e=>{null!=e&&(this.email=e.email,this.uid=e.uid),t.ngZone.run(()=>t.router.navigate([null!=e?t.global.authHomePage:t.global.unauthHomePage]))})}isUserLoggedIn(){return null!=this.afAuth.currentUser}getEmail(){return this.email}getUid(){return this.uid}createUser(t,e){let n=this;this.afAuth.createUserWithEmailAndPassword(t,e).catch((function(t){n.manageAuthenticationAPIerrors(t.code)}))}signInWithEmail(t,e){let n=this;console.log(this.afAuth),this.afAuth.signInWithEmailAndPassword(t,e).catch((function(t){alert(t),n.manageAuthenticationAPIerrors(t.code)}))}signInWithGoogle(){let t=this;this.afAuth.signInWithPopup(new g_.auth.GoogleAuthProvider).catch((function(e){t.manageAuthenticationAPIerrors(e.code),console.log(t.isLoggedIn())}))}getToken(t){return this.userDetails.getIdTokenResult(t)}signOut(){this.afAuth.signOut()}manageAuthenticationAPIerrors(t){switch(t){case"auth/user-not-found":alert("Looks like you haven't signed up. Please sign up.");break;case"auth/weak-password":alert("The password is weak. Please provide a strong password.");break;case"auth/email-already-in-use":alert("Email already in use.");break;default:this.unhandledByAdmin(t)}}unhandledByAdmin(t){alert("Some internal server issues, please try again..."),console.log(t)}}return t.\u0275prov=ut({factory:function(){return new t(Rt(sh),Rt(X_),Rt(ty),Rt(Zr),Rt(Ny))},token:t,providedIn:"root"}),t})();var Fy=Qn({encapsulation:0,styles:[[".NavTitle[_ngcontent-%COMP%]{height:26px;font-size:22px;font-weight:400;color:#faf8f8}.HomeTitle[_ngcontent-%COMP%], .NavTitle[_ngcontent-%COMP%]{font-family:Helvetica;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal}.HomeTitle[_ngcontent-%COMP%]{height:50px;font-size:42px;font-weight:700;color:#112539}.SignOut[_ngcontent-%COMP%]{cursor:pointer}.example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.newEmployeeSubmit[_ngcontent-%COMP%]{margin-left:8px}.newEmployeeInput[_ngcontent-%COMP%], .updateHouse[_ngcontent-%COMP%]{margin-left:8px;display:flex}.newCustomerSubmit[_ngcontent-%COMP%]{margin-left:8px}.newCustomerInput[_ngcontent-%COMP%]{margin-left:8px;display:flex}table[_ngcontent-%COMP%]{width:100%}agm-map[_ngcontent-%COMP%]{height:300px}"]],data:{}});function Ly(t){return Xs(0,[(t()(),Ls(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),sr(1,16384,null,0,Ed,[Zh,un],null,null),(t()(),Ys(-1,null,["Name"]))],null,null)}function My(t){return Xs(0,[(t()(),Ls(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),sr(1,16384,null,0,Sd,[Zh,un],null,null),(t()(),Ys(2,null,[" "," "]))],null,(function(t,e){t(e,2,0,e.context.$implicit.gname)}))}function Vy(t){return Xs(0,[(t()(),Ls(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),sr(1,16384,null,0,Ed,[Zh,un],null,null),(t()(),Ys(-1,null,["Edit"]))],null,null)}function Uy(t){return Xs(0,[(t()(),Ls(0,0,null,null,4,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),sr(1,16384,null,0,Sd,[Zh,un],null,null),(t()(),Ls(2,0,null,null,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.editGroup(t.context.$implicit)&&i),i}),i_,n_)),sr(3,180224,null,0,Op,[un,nf,[2,t_]],null,null),(t()(),Ys(-1,0,["Edit"]))],null,(function(t,e){t(e,2,0,Yi(e,3).disabled||null,"NoopAnimations"===Yi(e,3)._animationMode)}))}function jy(t){return Xs(0,[(t()(),Ls(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),sr(1,16384,null,0,Ed,[Zh,un],null,null),(t()(),Ys(-1,null,["Manage"]))],null,null)}function By(t){return Xs(0,[(t()(),Ls(0,0,null,null,4,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),sr(1,16384,null,0,Sd,[Zh,un],null,null),(t()(),Ls(2,0,null,null,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.manageGroup(t.context.$implicit)&&i),i}),i_,n_)),sr(3,180224,null,0,Op,[un,nf,[2,t_]],null,null),(t()(),Ys(-1,0,["Manage"]))],null,(function(t,e){t(e,2,0,Yi(e,3).disabled||null,"NoopAnimations"===Yi(e,3)._animationMode)}))}function zy(t){return Xs(0,[(t()(),Ls(0,0,null,null,2,"tr",[["class","mat-row"],["mat-row",""],["role","row"]],null,null,null,u_,l_)),or(6144,null,ud,null,[Id]),sr(2,49152,null,0,Id,[],null,null)],null,null)}function qy(t){return Xs(0,[(t()(),Ls(0,0,null,null,54,"mat-card",[["class","mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,p_,f_)),sr(1,49152,null,0,h_,[[2,t_]],null,null),(t()(),Ls(2,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),sr(3,16384,null,0,c_,[],null,null),(t()(),Ys(-1,null,["My Groups"])),(t()(),Ls(5,0,null,0,49,"table",[["class","mat-elevation-z8 mat-table"],["mat-table",""]],null,null,null,a_,o_)),or(6144,null,gd,null,[vd]),sr(7,2342912,null,4,vd,[Tn,Re,un,[8,null],[2,Fp],ca,jd],{dataSource:[0,"dataSource"]},null),Bs(603979776,1,{_contentColumnDefs:1}),Bs(603979776,2,{_contentRowDefs:1}),Bs(603979776,3,{_contentHeaderRowDefs:1}),Bs(603979776,4,{_contentFooterRowDefs:1}),or(2048,null,Gh,null,[vd]),(t()(),Ls(13,0,null,null,12,null,null,null,null,null,null,null)),or(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Cd]),sr(15,16384,null,3,Cd,[[2,Gh]],{name:[0,"name"]},null),Bs(603979776,5,{cell:0}),Bs(603979776,6,{headerCell:0}),Bs(603979776,7,{footerCell:0}),or(2048,[[1,4]],Zh,null,[Cd]),(t()(),Fs(0,null,null,2,null,Ly)),sr(21,16384,null,0,wd,[Nn],null,null),or(2048,[[6,4]],Wh,null,[wd]),(t()(),Fs(0,null,null,2,null,My)),sr(24,16384,null,0,bd,[Nn],null,null),or(2048,[[5,4]],$h,null,[bd]),(t()(),Ls(26,0,null,null,12,null,null,null,null,null,null,null)),or(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Cd]),sr(28,16384,null,3,Cd,[[2,Gh]],{name:[0,"name"]},null),Bs(603979776,8,{cell:0}),Bs(603979776,9,{headerCell:0}),Bs(603979776,10,{footerCell:0}),or(2048,[[1,4]],Zh,null,[Cd]),(t()(),Fs(0,null,null,2,null,Vy)),sr(34,16384,null,0,wd,[Nn],null,null),or(2048,[[9,4]],Wh,null,[wd]),(t()(),Fs(0,null,null,2,null,Uy)),sr(37,16384,null,0,bd,[Nn],null,null),or(2048,[[8,4]],$h,null,[bd]),(t()(),Ls(39,0,null,null,12,null,null,null,null,null,null,null)),or(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Cd]),sr(41,16384,null,3,Cd,[[2,Gh]],{name:[0,"name"]},null),Bs(603979776,11,{cell:0}),Bs(603979776,12,{headerCell:0}),Bs(603979776,13,{footerCell:0}),or(2048,[[1,4]],Zh,null,[Cd]),(t()(),Fs(0,null,null,2,null,jy)),sr(47,16384,null,0,wd,[Nn],null,null),or(2048,[[12,4]],Wh,null,[wd]),(t()(),Fs(0,null,null,2,null,By)),sr(50,16384,null,0,bd,[Nn],null,null),or(2048,[[11,4]],$h,null,[bd]),(t()(),Fs(0,null,null,2,null,zy)),sr(53,540672,null,0,xd,[Nn,Tn,[2,Gh]],{columns:[0,"columns"]},null),or(2048,[[2,4]],ad,null,[xd])],(function(t,e){var n=e.component;t(e,7,0,n.groups),t(e,15,0,"name"),t(e,28,0,"edit"),t(e,41,0,"manage"),t(e,53,0,n.groupColumns)}),(function(t,e){t(e,0,0,"NoopAnimations"===Yi(e,1)._animationMode)}))}function Hy(t){return Xs(0,[(t()(),Ls(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Ls(1,0,null,null,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.createGroup()&&i),i}),i_,n_)),sr(2,180224,null,0,Op,[un,nf,[2,t_]],null,null),(t()(),Ys(-1,0,["Create new group"])),(t()(),Ls(4,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Ls(5,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Fs(16777216,null,null,1,null,qy)),sr(7,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,7,0,0!=e.component.groups.length)}),(function(t,e){t(e,1,0,Yi(e,2).disabled||null,"NoopAnimations"===Yi(e,2)._animationMode)}))}function Gy(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"app-home",[],null,null,null,Hy,Fy)),sr(1,114688,null,0,m_,[Py,sh,Ny,ty],null,null)],(function(t,e){t(e,1,0)}),null)}var $y=Vi("app-home",m_,Gy,{},{},[]);function Wy(){throw Error("Host already has a portal attached")}class Ky{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Wy(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Yy extends Ky{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class Zy extends Ky{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Qy extends Ky{constructor(t){super(),this.element=t instanceof un?t.nativeElement:t}}class Xy{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Wy(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Yy?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Zy?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Qy?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Jy extends Xy{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class tv extends Xy{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new kr,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}class ev{}function nv(t,e,n,r){return i(n)&&(r=n,n=void 0),r?nv(t,e,n).pipe(M(t=>l(t)?r(...t):r(t))):new b(i=>{!function t(e,n,i,r,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,s),o=()=>t.removeEventListener(n,i,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),o=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),o=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,i,r,s)}r.add(o)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}function iv(t=0,e,n){let i=-1;return M_(e)?i=Number(e)<1?1:Number(e):k(e)&&(n=e),k(n)||(n=Nd),new b(e=>{const r=M_(t)?t:+t-n.now();return n.schedule(rv,r,{index:0,period:i,subscriber:e})})}function rv(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function sv(t,e){return n=>n.lift(new ov(t,e))}class ov{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new av(t,this.compare,this.keySelector))}}class av extends p{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const lv=new Et("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});class uv{constructor(t,e,n,i){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=i}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}class cv{}const hv=Xf(cv),dv=new Et("MAT_TAB_GROUP");class fv extends hv{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){t&&(this._templateLabel=t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Zy(this._explicitContent||this._implicitContent,this._viewContainerRef)}}class pv extends tv{constructor(t,e,n,i){super(t,e,i),this._host=n,this._centeringSub=h.EMPTY,this._leavingSub=h.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Rl(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}class mv extends class{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=h.EMPTY,this._translateTabComplete=new x,this._onCentering=new kr,this._beforeCentering=new kr,this._afterLeavingCenter=new kr,this._onCentered=new kr(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(sv((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}{constructor(t,e,n){super(t,e,n)}}const gv=new Et("MAT_TABS_CONFIG");let _v=0;class yv{}class vv{constructor(t){this._elementRef=t}}const bv=Jf(tp(vv),"primary");class wv extends bv{constructor(t,e,n,i){super(t),this._changeDetectorRef=e,this._animationMode=i,this._tabs=new Ar,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=h.EMPTY,this._tabLabelSubscription=h.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new kr,this.focusChange=new kr,this.animationDone=new kr,this.selectedTabChange=new kr(!0),this._groupId=_v++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Ph(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Fh(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove("mat-background-"+this.backgroundColor),t&&e.classList.add("mat-background-"+t),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Rl(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>!t._closestTabGroup||t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new yv;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=W(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}class Cv extends wv{constructor(t,e,n,i){super(t,e,n,i)}}class Ev{}const Sv=Xf(Ev);class xv extends Sv{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}const Iv=$d({passive:!0});class kv extends class extends class{constructor(t,e,n,i,r,s,o){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=i,this._ngZone=r,this._platform=s,this._animationMode=o,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new kr,this.indexFocused=new kr,r.runOutsideAngular(()=>{nv(t.nativeElement,"mouseleave").pipe(Bh(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Fh(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){nv(this._previousPaginator.nativeElement,"touchstart",Iv).pipe(Bh(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),nv(this._nextPaginator.nativeElement,"touchstart",Iv).pipe(Bh(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:$a(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Yd(this._items).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),W(t,e,this._items.changes).pipe(Bh(this._destroyed)).subscribe(()=>{Promise.resolve().then(n),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Bh(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Td(t))switch(t.keyCode){case 36:this._keyManager.setFirstItemActive(),t.preventDefault();break;case 35:this._keyManager.setLastItemActive(),t.preventDefault();break;case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e=this._platform,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,e&&(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:i,offsetWidth:r}=e.elementRef.nativeElement;let s,o;"ltr"==this._getLayoutDirection()?(s=i,o=s+r):(o=this._tabList.nativeElement.offsetWidth-i,s=o-r);const a=this.scrollDistance,l=this.scrollDistance+n;s<a?this.scrollDistance-=a-s+60:o>l&&(this.scrollDistance+=o-l+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),iv(650,100).pipe(Bh(W(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}{constructor(t,e,n,i,r,s,o){super(t,e,n,i,r,s,o),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ph(t)}_itemSelected(t){t.preventDefault()}}{constructor(t,e,n,i,r,s,o){super(t,e,n,i,r,s,o)}}class Tv{}let Av=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275prov=ut({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Rv=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Vh(t);return new b(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new x,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275prov=ut({factory:function(){return new t(Rt(Av))},token:t,providedIn:"root"}),t})();class Ov{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new kr,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ph(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Fh(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Pd(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}class Dv{}class Nv{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Pv(t,this.durationSelector))}}class Pv extends L{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=F(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Fv(t,e=Nd){return n=()=>iv(t,e),function(t){return t.lift(new Nv(n))};var n}let Lv=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new b(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Fv(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):$a()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(nl(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>nv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275prov=ut({factory:function(){return new t(Rt(Zr),Rt(jd),Rt(ca,8))},token:t,providedIn:"root"}),t})(),Mv=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?W(nv(e,"resize"),nv(e,"orientationchange")):$a(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Fv(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275prov=ut({factory:function(){return new t(Rt(jd),Rt(Zr),Rt(ca,8))},token:t,providedIn:"root"}),t})();class Vv{}class Uv{}var jv=Qn({encapsulation:2,styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],data:{}});function Bv(t){return Xs(0,[(t()(),Fs(0,null,null,0))],null,null)}function zv(t){return Xs(0,[(t()(),Fs(16777216,null,null,1,null,Bv)),sr(1,212992,null,0,tv,[sn,Fn,ca],{portal:[0,"portal"]},null),(t()(),Fs(0,null,null,0))],(function(t,e){t(e,1,0,e.parent.context.$implicit.templateLabel)}),null)}function qv(t){return Xs(0,[(t()(),Ys(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.parent.context.$implicit.textLabel)}))}function Hv(t){return Xs(0,[(t()(),Ls(0,0,null,null,8,"div",[["cdkMonitorElementFocus",""],["class","mat-tab-label mat-focus-indicator mat-ripple"],["mat-ripple",""],["matTabLabelWrapper",""],["role","tab"]],[[8,"id",0],[1,"tabIndex",0],[1,"aria-posinset",0],[1,"aria-setsize",0],[1,"aria-controls",0],[1,"aria-selected",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-tab-label-active",null],[2,"mat-ripple-unbounded",null],[2,"mat-tab-disabled",null],[1,"aria-disabled",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component._handleClick(t.context.$implicit,Yi(t.parent,3),t.context.index)&&i),i}),null,null)),sr(1,212992,null,0,fp,[un,Zr,jd,[2,dp],[2,t_]],{disabled:[0,"disabled"]},null),sr(2,147456,null,0,sf,[un,nf],null,null),sr(3,16384,[[3,4]],0,xv,[un],{disabled:[0,"disabled"]},null),(t()(),Ls(4,0,null,null,4,"div",[["class","mat-tab-label-content"]],null,null,null,null,null)),(t()(),Fs(16777216,null,null,1,null,zv)),sr(6,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Fs(16777216,null,null,1,null,qv)),sr(8,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.context.$implicit.disabled||e.component.disableRipple),t(e,3,0,e.context.$implicit.disabled),t(e,6,0,e.context.$implicit.templateLabel),t(e,8,0,!e.context.$implicit.templateLabel)}),(function(t,e){var n=e.component;t(e,0,1,[n._getTabLabelId(e.context.index),n._getTabIndex(e.context.$implicit,e.context.index),e.context.index+1,n._tabs.length,n._getTabContentId(e.context.index),n.selectedIndex==e.context.index,e.context.$implicit.ariaLabel||null,!e.context.$implicit.ariaLabel&&e.context.$implicit.ariaLabelledby?e.context.$implicit.ariaLabelledby:null,n.selectedIndex==e.context.index,Yi(e,1).unbounded,Yi(e,3).disabled,!!Yi(e,3).disabled])}))}function Gv(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"mat-tab-body",[["class","mat-tab-body"],["role","tabpanel"]],[[8,"id",0],[1,"aria-labelledby",0],[2,"mat-tab-body-active",null]],[[null,"_onCentered"],[null,"_onCentering"]],(function(t,e,n){var i=!0,r=t.component;return"_onCentered"===e&&(i=!1!==r._removeTabBodyWrapperHeight()&&i),"_onCentering"===e&&(i=!1!==r._setTabBodyWrapperHeight(n)&&i),i}),Yv,Wv)),sr(1,245760,null,0,mv,[un,[2,Fp],Re],{_content:[0,"_content"],origin:[1,"origin"],animationDuration:[2,"animationDuration"],position:[3,"position"]},{_onCentering:"_onCentering",_onCentered:"_onCentered"})],(function(t,e){t(e,1,0,e.context.$implicit.content,e.context.$implicit.origin,e.component.animationDuration,e.context.$implicit.position)}),(function(t,e){var n=e.component;t(e,0,0,n._getTabContentId(e.context.index),n._getTabLabelId(e.context.index),n.selectedIndex==e.context.index)}))}function $v(t){return Xs(0,[Bs(671088640,1,{_tabBodyWrapper:0}),Bs(671088640,2,{_tabHeader:0}),(t()(),Ls(2,0,null,null,4,"mat-tab-header",[["class","mat-tab-header"]],[[2,"mat-tab-header-pagination-controls-enabled",null],[2,"mat-tab-header-rtl",null]],[[null,"indexFocused"],[null,"selectFocusedIndex"]],(function(t,e,n){var i=!0,r=t.component;return"indexFocused"===e&&(i=!1!==r._focusChanged(n)&&i),"selectFocusedIndex"===e&&(i=!1!==(r.selectedIndex=n)&&i),i}),Qv,Zv)),sr(3,7520256,[[2,4],["tabHeader",4]],1,kv,[un,Re,Mv,[2,Fp],Zr,jd,[2,t_]],{selectedIndex:[0,"selectedIndex"],disablePagination:[1,"disablePagination"],disableRipple:[2,"disableRipple"]},{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}),Bs(603979776,3,{_items:1}),(t()(),Fs(16777216,null,0,1,null,Hv)),sr(6,278528,null,0,Pa,[Fn,Nn,Tn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ls(7,0,[[1,0],["tabBodyWrapper",1]],null,2,"div",[["class","mat-tab-body-wrapper"]],[[2,"_mat-animation-noopable",null]],null,null,null,null)),(t()(),Fs(16777216,null,null,1,null,Gv)),sr(9,278528,null,0,Pa,[Fn,Nn,Tn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.selectedIndex||0,n.disablePagination,n.disableRipple),t(e,6,0,n._tabs),t(e,9,0,n._tabs)}),(function(t,e){var n=e.component;t(e,2,0,Yi(e,3)._showPaginationControls,"rtl"==Yi(e,3)._getLayoutDirection()),t(e,7,0,"NoopAnimations"===n._animationMode)}))}var Wv=Qn({encapsulation:2,styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],data:{animation:[{type:7,name:"translateTab",definitions:[{type:0,name:"center, void, left-origin-center, right-origin-center",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:0,name:"left",styles:{type:6,styles:{transform:"translate3d(-100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:0,name:"right",styles:{type:6,styles:{transform:"translate3d(100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:1,expr:"* => left, * => right, left => center, right => center",animation:{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"},options:null},{type:1,expr:"void => left-origin-center",animation:[{type:6,styles:{transform:"translate3d(-100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"}],options:null},{type:1,expr:"void => right-origin-center",animation:[{type:6,styles:{transform:"translate3d(100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"}],options:null}],options:{}}]}});function Kv(t){return Xs(0,[(t()(),Fs(0,null,null,0))],null,null)}function Yv(t){return Xs(0,[Bs(671088640,1,{_portalHost:0}),(t()(),Ls(1,0,[["content",1]],null,4,"div",[["class","mat-tab-body-content"]],[[24,"@translateTab",0]],[[null,"@translateTab.start"],[null,"@translateTab.done"]],(function(t,e,n){var i=!0,r=t.component;return"@translateTab.start"===e&&(i=!1!==r._onTranslateTabStarted(n)&&i),"@translateTab.done"===e&&(i=!1!==r._translateTabComplete.next(n)&&i),i}),null,null)),Ks(2,{animationDuration:0}),Ks(3,{value:0,params:1}),(t()(),Fs(16777216,null,null,1,null,Kv)),sr(5,212992,null,0,pv,[sn,Fn,mv,ca],null,null)],(function(t,e){t(e,5,0)}),(function(t,e){var n=e.component,i=t(e,3,0,n._position,t(e,2,0,n.animationDuration));t(e,1,0,i)}))}var Zv=Qn({encapsulation:2,styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],data:{}});function Qv(t){return Xs(0,[Bs(402653184,1,{_inkBar:0}),Bs(402653184,2,{_tabListContainer:0}),Bs(402653184,3,{_tabList:0}),Bs(671088640,4,{_nextPaginator:0}),Bs(671088640,5,{_previousPaginator:0}),(t()(),Ls(5,0,[[5,0],["previousPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"click"],[null,"mousedown"],[null,"touchend"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r._handlePaginatorClick("before")&&i),"mousedown"===e&&(i=!1!==r._handlePaginatorPress("before",n)&&i),"touchend"===e&&(i=!1!==r._stopInterval()&&i),i}),null,null)),sr(6,212992,null,0,fp,[un,Zr,jd,[2,dp],[2,t_]],{disabled:[0,"disabled"]},null),(t()(),Ls(7,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null)),(t()(),Ls(8,0,[[2,0],["tabListContainer",1]],null,6,"div",[["class","mat-tab-label-container"]],null,[[null,"keydown"]],(function(t,e,n){var i=!0;return"keydown"===e&&(i=!1!==t.component._handleKeydown(n)&&i),i}),null,null)),(t()(),Ls(9,0,[[3,0],["tabList",1]],null,5,"div",[["class","mat-tab-list"],["role","tablist"]],[[2,"_mat-animation-noopable",null]],[[null,"cdkObserveContent"]],(function(t,e,n){var i=!0;return"cdkObserveContent"===e&&(i=!1!==t.component._onContentChanges()&&i),i}),null,null)),sr(10,1196032,null,0,Ov,[Rv,un,Zr],null,{event:"cdkObserveContent"}),(t()(),Ls(11,0,null,null,1,"div",[["class","mat-tab-labels"]],null,null,null,null,null)),$s(null,0),(t()(),Ls(13,0,null,null,1,"mat-ink-bar",[["class","mat-ink-bar"]],[[2,"_mat-animation-noopable",null]],null,null,null,null)),sr(14,16384,[[1,4]],0,uv,[un,Zr,lv,[2,t_]],null,null),(t()(),Ls(15,0,[[4,0],["nextPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"mousedown"],[null,"click"],[null,"touchend"]],(function(t,e,n){var i=!0,r=t.component;return"mousedown"===e&&(i=!1!==r._handlePaginatorPress("after",n)&&i),"click"===e&&(i=!1!==r._handlePaginatorClick("after")&&i),"touchend"===e&&(i=!1!==r._stopInterval()&&i),i}),null,null)),sr(16,212992,null,0,fp,[un,Zr,jd,[2,dp],[2,t_]],{disabled:[0,"disabled"]},null),(t()(),Ls(17,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,6,0,n._disableScrollBefore||n.disableRipple),t(e,16,0,n._disableScrollAfter||n.disableRipple)}),(function(t,e){var n=e.component;t(e,5,0,n._disableScrollBefore,Yi(e,6).unbounded),t(e,9,0,"NoopAnimations"===n._animationMode),t(e,13,0,"NoopAnimations"===Yi(e,14)._animationMode),t(e,15,0,n._disableScrollAfter,Yi(e,16).unbounded)}))}var Xv=Qn({encapsulation:2,styles:[],data:{}});function Jv(t){return Xs(0,[$s(null,0),(t()(),Fs(0,null,null,0))],null,null)}function tb(t){return Xs(0,[Bs(402653184,1,{_implicitContent:0}),(t()(),Fs(0,[[1,2]],null,0,null,Jv))],null,null)}class eb{}function nb(t){return Error(`A hint was already declared for 'align="${t}"'.`)}class ib{}let rb=0;class sb{constructor(t){this._elementRef=t}}const ob=Jf(sb,"primary"),ab=new Et("MAT_FORM_FIELD_DEFAULT_OPTIONS"),lb=new Et("MatFormField");class ub extends ob{constructor(t,e,n,i,r,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+rb++,this._labelId="mat-form-field-label-"+rb++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ph(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(Rl(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Bh(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Bh(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),W(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Rl(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Rl(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Bh(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,nv(this._label.nativeElement,"transitionend").pipe(bl(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw nb("start");t=n}else if("end"===n.align){if(e)throw nb("end");e=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),s=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(r),o=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=Math.abs(o-s)-5,n=a>0?.75*a+10:0}for(let o=0;o<r.length;o++)r[o].style.width=e+"px";for(let o=0;o<s.length;o++)s[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}class cb{}var hb=Qn({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function db(t){return Xs(0,[(t()(),Ls(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),Ls(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),Ls(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),Ls(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),Ls(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),Ls(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),Ls(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),Ls(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),Ls(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function fb(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),$s(null,0)],null,null)}function pb(t){return Xs(0,[(t()(),Ls(0,0,null,null,3,null,null,null,null,null,null,null)),$s(null,2),(t()(),Ls(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ys(3,null,["",""]))],null,(function(t,e){t(e,3,0,e.component._control.placeholder)}))}function mb(t){return Xs(0,[$s(null,3),(t()(),Fs(0,null,null,0))],null,null)}function gb(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),Ys(-1,null,[" *"]))],null,null)}function _b(t){return Xs(0,[(t()(),Ls(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],(function(t,e,n){var i=!0;return"cdkObserveContent"===e&&(i=!1!==t.component.updateOutlineGap()&&i),i}),null,null)),sr(1,16384,null,0,ja,[],{ngSwitch:[0,"ngSwitch"]},null),sr(2,1196032,null,0,Ov,[Rv,un,Zr],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(t()(),Fs(16777216,null,null,1,null,pb)),sr(4,278528,null,0,Ba,[Fn,Nn,ja],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Fs(16777216,null,null,1,null,mb)),sr(6,278528,null,0,Ba,[Fn,Nn,ja],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Fs(16777216,null,null,1,null,gb)),sr(8,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n._hasLabel()),t(e,2,0,"outline"!=n.appearance),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}),(function(t,e){var n=e.component;t(e,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)}))}function yb(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),$s(null,4)],null,null)}function vb(t){return Xs(0,[(t()(),Ls(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),Ls(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,1,0,"accent"==n.color,"warn"==n.color)}))}function bb(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),$s(null,5)],null,(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function wb(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),Ys(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n._hintLabelId),t(e,1,0,n.hintLabel)}))}function Cb(t){return Xs(0,[(t()(),Ls(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),Fs(16777216,null,null,1,null,wb)),sr(2,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null),$s(null,6),(t()(),Ls(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),$s(null,7)],(function(t,e){t(e,2,0,e.component.hintLabel)}),(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function Eb(t){return Xs(2,[Bs(671088640,1,{underlineRef:0}),Bs(402653184,2,{_connectionContainerRef:0}),Bs(671088640,3,{_inputContainerRef:0}),Bs(671088640,4,{_label:0}),(t()(),Ls(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),Ls(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==(r._control.onContainerClick&&r._control.onContainerClick(n))&&i),i}),null,null)),(t()(),Fs(16777216,null,null,1,null,db)),sr(7,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Fs(16777216,null,null,1,null,fb)),sr(9,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Ls(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),$s(null,1),(t()(),Ls(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),Fs(16777216,null,null,1,null,_b)),sr(14,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Fs(16777216,null,null,1,null,yb)),sr(16,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Fs(16777216,null,null,1,null,vb)),sr(18,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Ls(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),sr(20,16384,null,0,ja,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Fs(16777216,null,null,1,null,bb)),sr(22,278528,null,0,Ba,[Fn,Nn,ja],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Fs(16777216,null,null,1,null,Cb)),sr(24,278528,null,0,Ba,[Fn,Nn,ja],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){var n=e.component;t(e,7,0,"outline"==n.appearance),t(e,9,0,n._prefixChildren.length),t(e,14,0,n._hasFloatingLabel()),t(e,16,0,n._suffixChildren.length),t(e,18,0,"outline"!=n.appearance),t(e,20,0,n._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")}),null)}const Sb=$d({passive:!0});let xb=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Xa;const e=Vh(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const i=new x,r="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,Sb),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",s,Sb)}}),i.asObservable()}stopMonitoring(t){const e=Vh(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275prov=ut({factory:function(){return new t(Rt(jd),Rt(Zr))},token:t,providedIn:"root"}),t})();class Ib{}const kb=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Tb=0;class Ab{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const Rb=np(Ab);class Ob extends Rb{constructor(t,e,n,i,r,s,o,a,l){super(s,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid="mat-input-"+Tb++,this.focused=!1,this.stateChanges=new x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>qd().has(t));const u=this._elementRef.nativeElement,c=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===c,this._isTextarea="textarea"===c,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ph(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Ph(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&qd().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ph(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(kb.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}class Db{}function Nb(...t){if(1===t.length){const e=t[0];if(l(e))return Pb(e,null);if(u(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Pb(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Pb(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(M(t=>e(...t)))}return Pb(t,null)}function Pb(t,e){return new b(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const l=B(t[a]);let u=!1;n.add(l.subscribe({next:t=>{u||(u=!0,o++),r[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&u||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}const Fb=new Et("NgValueAccessor"),Lb=new Et("CompositionEventMode");class Mb{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=ua()?ua().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class Vb{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ub extends Vb{get formDirective(){return null}get path(){return null}}function jb(){throw new Error("unimplemented")}class Bb extends Vb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return jb()}get asyncValidator(){return jb()}}class zb{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class qb extends zb{constructor(t){super(t)}}class Hb extends zb{constructor(t){super(t)}}function Gb(t){return null==t||0===t.length}const $b=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Wb{static min(t){return e=>{if(Gb(e.value)||Gb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Gb(e.value)||Gb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Gb(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Gb(t.value)||$b.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Gb(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Wb.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Gb(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Kb);return 0==e.length?null:function(t){return Zb(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Kb);return 0==e.length?null:function(t){return Nb(function(t,e){return e.map(e=>e(t))}(t,e).map(Yb)).pipe(M(Zb))}}}function Kb(t){return null!=t}function Yb(t){const e=Qe(t)?B(t):t;if(!Xe(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Zb(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Qb(t){return t.validate?e=>t.validate(e):t}function Xb(t){return t.validate?e=>t.validate(e):t}class Jb{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const tw='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',ew='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',nw='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function iw(t,e){return[...e.path,t]}function rw(t,e){t||lw(e,"Cannot find control with"),e.valueAccessor||lw(e,"No value accessor for form control with"),t.validator=Wb.compose([t.validator,e.validator]),t.asyncValidator=Wb.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&sw(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&sw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function sw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ow(t,e){null==t&&lw(e,"Cannot find control with"),t.validator=Wb.compose([t.validator,e.validator]),t.asyncValidator=Wb.composeAsync([t.asyncValidator,e.asyncValidator])}function aw(t){return lw(t,"There is no FormControl instance attached to form control element with")}function lw(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function uw(t){return null!=t?Wb.compose(t.map(Qb)):null}function cw(t){return null!=t?Wb.composeAsync(t.map(Xb)):null}const hw=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=$e}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=$e}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Bb),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function dw(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function fw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function pw(t){const e=gw(t)?t.validators:t;return Array.isArray(e)?uw(e):e||null}function mw(t,e){const n=gw(e)?e.asyncValidators:t;return Array.isArray(n)?cw(n):n||null}function gw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class _w{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=pw(t)}setAsyncValidators(t){this.asyncValidator=mw(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Yb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof vw?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof bw&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new kr,this.statusChanges=new kr}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){gw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class yw extends _w{constructor(t=null,e,n){super(pw(e),mw(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class vw extends _w{constructor(t,e,n){super(pw(e),mw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof yw?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class bw extends _w{constructor(t,e,n){super(pw(e),mw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof yw?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ww=(()=>Promise.resolve(null))();class Cw extends Ub{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new kr,this.form=new vw({},uw(t),cw(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ww.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),rw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ww.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),fw(this._directives,t)})}addFormGroup(t){ww.then(()=>{const e=this._findContainer(t.path),n=new vw({});ow(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ww.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ww.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,dw(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class Ew extends Ub{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return iw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return uw(this._validators)}get asyncValidator(){return cw(this._asyncValidators)}_checkParentType(){}}class Sw{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${tw}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${ew}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${nw}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${ew}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${nw}`)}}class xw extends Ew{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof xw||this._parent instanceof Cw||Sw.modelGroupParentException()}}const Iw=(()=>Promise.resolve(null))();class kw extends Bb{constructor(t,e,n,i){super(),this.control=new yw,this._registered=!1,this.update=new kr,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||lw(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return e.forEach(e=>{var s;e.constructor===Mb?n=e:(s=e,hw.some(t=>s.constructor===t)?(i&&lw(t,"More than one built-in value accessor matches form control with"),i=e):(r&&lw(t,"More than one custom value accessor matches form control with"),r=e))}),r||i||n||(lw(t,"No valid value accessor for form control with"),null)}(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!$e(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?iw(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return uw(this._rawValidators)}get asyncValidator(){return cw(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof xw)&&this._parent instanceof Ew?Sw.formGroupNameException():this._parent instanceof xw||this._parent instanceof Cw||Sw.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Sw.missingNameException()}_updateValue(t){Iw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Iw.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class Tw{}class Aw extends Ub{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new kr}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return rw(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){fw(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);ow(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);ow(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,dw(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>aw(e)),e.valueAccessor.registerOnTouched(()=>aw(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&rw(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=uw(this._validators);this.form.validator=Wb.compose([this.form.validator,t]);const e=cw(this._asyncValidators);this.form.asyncValidator=Wb.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||class{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+tw)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${ew}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${nw}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+tw)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+ew)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}.missingFormException()}}class Rw{}class Ow{}class Dw{constructor(t,e,n,i){this.authService=t,this.globalService=e,this.router=n,this.title=i}ngOnInit(){document.getElementById("logout").style.visibility="hidden",this.title.setTitle("Directory"),this.globalService.title="Directory"}signIn(t,e){this.authService.signInWithEmail(t,e)}signUp(t,e){this.authService.createUser(t,e)}signInWithGoogle(){this.authService.signInWithGoogle()}getTitle(){return this.globalService.title}}var Nw=Qn({encapsulation:0,styles:[["a[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:250px}#tabLayout[_ngcontent-%COMP%]{width:300px} .mat-tab-label,  .mat-tab-label-active{min-width:150px!important}"]],data:{}});function Pw(t){return Xs(0,[(t()(),Ls(0,0,null,null,102,"mat-card",[["class","mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,p_,f_)),sr(1,49152,null,0,h_,[[2,t_]],null,null),(t()(),Ls(2,0,null,0,9,"table",[["id","cardTable"]],null,null,null,null,null)),(t()(),Ls(3,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),Ls(4,0,null,null,3,"td",[["align","left"]],null,null,null,null,null)),(t()(),Ls(5,0,null,null,2,"mat-card-title",[["class","mat-card-title"],["id","appTitle"]],null,null,null,null,null)),sr(6,16384,null,0,c_,[],null,null),(t()(),Ys(7,null,["",""])),(t()(),Ls(8,0,null,null,3,"td",[["align","right"]],null,null,null,null,null)),(t()(),Ls(9,0,null,null,2,"a",[["class","mat-focus-indicator"],["id","logout"],["mat-raised-button",""],["style","visibility: hidden"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Yi(t,10)._haltDisabledEvents(n)&&i),i}),s_,r_)),sr(10,180224,null,0,Dp,[nf,un,[2,t_]],null,null),(t()(),Ys(-1,0,["Logout"])),(t()(),Ls(12,0,null,0,90,"table",[["align","center"],["id","route"]],null,null,null,null,null)),(t()(),Ls(13,0,null,null,89,"tr",[],null,null,null,null,null)),(t()(),Ls(14,0,null,null,88,"td",[["align","center"]],null,null,null,null,null)),(t()(),Ls(15,0,null,null,87,"div",[],null,null,null,null,null)),(t()(),Ls(16,0,null,null,86,"mat-tab-group",[["class","mat-elevation-z4 mat-tab-group"],["id","tabLayout"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,$v,jv)),sr(17,3325952,null,1,Cv,[un,Re,[2,gv],[2,t_]],null,null),Bs(603979776,1,{_allTabs:1}),or(2048,null,dv,null,[Cv]),(t()(),Ls(20,16777216,null,null,44,"mat-tab",[["label","Login"]],null,null,null,tb,Xv)),sr(21,770048,[[1,4]],2,fv,[Fn,[2,dv]],{textLabel:[0,"textLabel"]},null),Bs(603979776,2,{templateLabel:0}),Bs(335544320,3,{_explicitContent:0}),(t()(),Ls(24,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),Ls(25,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),Ls(26,0,null,0,2,"a",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Yi(t,27)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.signInWithGoogle()&&i),i}),s_,r_)),sr(27,180224,null,0,Dp,[nf,un,[2,t_]],null,null),(t()(),Ys(-1,0,["Sign In With Google"])),(t()(),Ls(29,0,null,0,1,"h3",[],null,null,null,null,null)),(t()(),Ys(-1,null,["OR"])),(t()(),Ls(31,0,null,0,33,"div",[["style","padding-right: 20px; padding-left: 20px; padding-bottom: 20px;"]],null,null,null,null,null)),(t()(),Ls(32,0,null,null,14,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Eb,hb)),or(6144,null,lb,null,[ub]),sr(34,7520256,null,9,ub,[un,Re,[2,kp],[2,Fp],[2,ab],jd,Zr,[2,t_]],null,null),Bs(603979776,4,{_controlNonStatic:0}),Bs(335544320,5,{_controlStatic:0}),Bs(603979776,6,{_labelChildNonStatic:0}),Bs(335544320,7,{_labelChildStatic:0}),Bs(603979776,8,{_placeholderChild:0}),Bs(603979776,9,{_errorChildren:1}),Bs(603979776,10,{_hintChildren:1}),Bs(603979776,11,{_prefixChildren:1}),Bs(603979776,12,{_suffixChildren:1}),(t()(),Ls(44,0,[["emailLogin",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Email ID"],["type","email"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"focus"],[null,"blur"],[null,"input"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==Yi(t,45)._focusChanged(!0)&&i),"blur"===e&&(i=!1!==Yi(t,45)._focusChanged(!1)&&i),"input"===e&&(i=!1!==Yi(t,45)._onInput()&&i),i}),null,null)),sr(45,999424,null,0,Ob,[un,jd,[8,null],[2,Cw],[2,Aw],rp,[8,null],xb,Zr],{placeholder:[0,"placeholder"],type:[1,"type"]},null),or(2048,[[4,4],[5,4]],eb,null,[Ob]),(t()(),Ls(47,0,null,null,14,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Eb,hb)),or(6144,null,lb,null,[ub]),sr(49,7520256,null,9,ub,[un,Re,[2,kp],[2,Fp],[2,ab],jd,Zr,[2,t_]],null,null),Bs(603979776,13,{_controlNonStatic:0}),Bs(335544320,14,{_controlStatic:0}),Bs(603979776,15,{_labelChildNonStatic:0}),Bs(335544320,16,{_labelChildStatic:0}),Bs(603979776,17,{_placeholderChild:0}),Bs(603979776,18,{_errorChildren:1}),Bs(603979776,19,{_hintChildren:1}),Bs(603979776,20,{_prefixChildren:1}),Bs(603979776,21,{_suffixChildren:1}),(t()(),Ls(59,0,[["passwordLogin",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Password"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"focus"],[null,"blur"],[null,"input"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==Yi(t,60)._focusChanged(!0)&&i),"blur"===e&&(i=!1!==Yi(t,60)._focusChanged(!1)&&i),"input"===e&&(i=!1!==Yi(t,60)._onInput()&&i),i}),null,null)),sr(60,999424,null,0,Ob,[un,jd,[8,null],[2,Cw],[2,Aw],rp,[8,null],xb,Zr],{placeholder:[0,"placeholder"],type:[1,"type"]},null),or(2048,[[13,4],[14,4]],eb,null,[Ob]),(t()(),Ls(62,0,null,null,2,"a",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Yi(t,63)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.signIn(Yi(t,44).value,Yi(t,59).value)&&i),i}),s_,r_)),sr(63,180224,null,0,Dp,[nf,un,[2,t_]],null,null),(t()(),Ys(-1,0,["Sign In"])),(t()(),Ls(65,16777216,null,null,37,"mat-tab",[["label","Sign Up"]],null,null,null,tb,Xv)),sr(66,770048,[[1,4]],2,fv,[Fn,[2,dv]],{textLabel:[0,"textLabel"]},null),Bs(603979776,22,{templateLabel:0}),Bs(335544320,23,{_explicitContent:0}),(t()(),Ls(69,0,null,0,33,"div",[["style","padding: 20px"]],null,null,null,null,null)),(t()(),Ls(70,0,null,null,14,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Eb,hb)),or(6144,null,lb,null,[ub]),sr(72,7520256,null,9,ub,[un,Re,[2,kp],[2,Fp],[2,ab],jd,Zr,[2,t_]],null,null),Bs(603979776,24,{_controlNonStatic:0}),Bs(335544320,25,{_controlStatic:0}),Bs(603979776,26,{_labelChildNonStatic:0}),Bs(335544320,27,{_labelChildStatic:0}),Bs(603979776,28,{_placeholderChild:0}),Bs(603979776,29,{_errorChildren:1}),Bs(603979776,30,{_hintChildren:1}),Bs(603979776,31,{_prefixChildren:1}),Bs(603979776,32,{_suffixChildren:1}),(t()(),Ls(82,0,[["emailSignup",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Email ID"],["type","email"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"focus"],[null,"blur"],[null,"input"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==Yi(t,83)._focusChanged(!0)&&i),"blur"===e&&(i=!1!==Yi(t,83)._focusChanged(!1)&&i),"input"===e&&(i=!1!==Yi(t,83)._onInput()&&i),i}),null,null)),sr(83,999424,null,0,Ob,[un,jd,[8,null],[2,Cw],[2,Aw],rp,[8,null],xb,Zr],{placeholder:[0,"placeholder"],type:[1,"type"]},null),or(2048,[[24,4],[25,4]],eb,null,[Ob]),(t()(),Ls(85,0,null,null,14,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Eb,hb)),or(6144,null,lb,null,[ub]),sr(87,7520256,null,9,ub,[un,Re,[2,kp],[2,Fp],[2,ab],jd,Zr,[2,t_]],null,null),Bs(603979776,33,{_controlNonStatic:0}),Bs(335544320,34,{_controlStatic:0}),Bs(603979776,35,{_labelChildNonStatic:0}),Bs(335544320,36,{_labelChildStatic:0}),Bs(603979776,37,{_placeholderChild:0}),Bs(603979776,38,{_errorChildren:1}),Bs(603979776,39,{_hintChildren:1}),Bs(603979776,40,{_prefixChildren:1}),Bs(603979776,41,{_suffixChildren:1}),(t()(),Ls(97,0,[["passwordSignup",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Password"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"focus"],[null,"blur"],[null,"input"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==Yi(t,98)._focusChanged(!0)&&i),"blur"===e&&(i=!1!==Yi(t,98)._focusChanged(!1)&&i),"input"===e&&(i=!1!==Yi(t,98)._onInput()&&i),i}),null,null)),sr(98,999424,null,0,Ob,[un,jd,[8,null],[2,Cw],[2,Aw],rp,[8,null],xb,Zr],{placeholder:[0,"placeholder"],type:[1,"type"]},null),or(2048,[[33,4],[34,4]],eb,null,[Ob]),(t()(),Ls(100,0,null,null,2,"a",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Yi(t,101)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.signUp(Yi(t,82).value,Yi(t,97).value)&&i),i}),s_,r_)),sr(101,180224,null,0,Dp,[nf,un,[2,t_]],null,null),(t()(),Ys(-1,0,["Sign Up"]))],(function(t,e){t(e,21,0,"Login"),t(e,45,0,"Email ID","email"),t(e,60,0,"Password","password"),t(e,66,0,"Sign Up"),t(e,83,0,"Email ID","email"),t(e,98,0,"Password","password")}),(function(t,e){var n=e.component;t(e,0,0,"NoopAnimations"===Yi(e,1)._animationMode),t(e,7,0,n.getTitle()),t(e,9,0,Yi(e,10).disabled?-1:Yi(e,10).tabIndex||0,Yi(e,10).disabled||null,Yi(e,10).disabled.toString(),"NoopAnimations"===Yi(e,10)._animationMode),t(e,16,0,Yi(e,17).dynamicHeight,"below"===Yi(e,17).headerPosition),t(e,26,0,Yi(e,27).disabled?-1:Yi(e,27).tabIndex||0,Yi(e,27).disabled||null,Yi(e,27).disabled.toString(),"NoopAnimations"===Yi(e,27)._animationMode),t(e,32,1,["standard"==Yi(e,34).appearance,"fill"==Yi(e,34).appearance,"outline"==Yi(e,34).appearance,"legacy"==Yi(e,34).appearance,Yi(e,34)._control.errorState,Yi(e,34)._canLabelFloat,Yi(e,34)._shouldLabelFloat(),Yi(e,34)._hasFloatingLabel(),Yi(e,34)._hideControlPlaceholder(),Yi(e,34)._control.disabled,Yi(e,34)._control.autofilled,Yi(e,34)._control.focused,"accent"==Yi(e,34).color,"warn"==Yi(e,34).color,Yi(e,34)._shouldForward("untouched"),Yi(e,34)._shouldForward("touched"),Yi(e,34)._shouldForward("pristine"),Yi(e,34)._shouldForward("dirty"),Yi(e,34)._shouldForward("valid"),Yi(e,34)._shouldForward("invalid"),Yi(e,34)._shouldForward("pending"),!Yi(e,34)._animationsEnabled]),t(e,44,0,Yi(e,45)._isServer,Yi(e,45).id,Yi(e,45).placeholder,Yi(e,45).disabled,Yi(e,45).required,Yi(e,45).readonly&&!Yi(e,45)._isNativeSelect||null,Yi(e,45)._ariaDescribedby||null,Yi(e,45).errorState,Yi(e,45).required.toString()),t(e,47,1,["standard"==Yi(e,49).appearance,"fill"==Yi(e,49).appearance,"outline"==Yi(e,49).appearance,"legacy"==Yi(e,49).appearance,Yi(e,49)._control.errorState,Yi(e,49)._canLabelFloat,Yi(e,49)._shouldLabelFloat(),Yi(e,49)._hasFloatingLabel(),Yi(e,49)._hideControlPlaceholder(),Yi(e,49)._control.disabled,Yi(e,49)._control.autofilled,Yi(e,49)._control.focused,"accent"==Yi(e,49).color,"warn"==Yi(e,49).color,Yi(e,49)._shouldForward("untouched"),Yi(e,49)._shouldForward("touched"),Yi(e,49)._shouldForward("pristine"),Yi(e,49)._shouldForward("dirty"),Yi(e,49)._shouldForward("valid"),Yi(e,49)._shouldForward("invalid"),Yi(e,49)._shouldForward("pending"),!Yi(e,49)._animationsEnabled]),t(e,59,0,Yi(e,60)._isServer,Yi(e,60).id,Yi(e,60).placeholder,Yi(e,60).disabled,Yi(e,60).required,Yi(e,60).readonly&&!Yi(e,60)._isNativeSelect||null,Yi(e,60)._ariaDescribedby||null,Yi(e,60).errorState,Yi(e,60).required.toString()),t(e,62,0,Yi(e,63).disabled?-1:Yi(e,63).tabIndex||0,Yi(e,63).disabled||null,Yi(e,63).disabled.toString(),"NoopAnimations"===Yi(e,63)._animationMode),t(e,70,1,["standard"==Yi(e,72).appearance,"fill"==Yi(e,72).appearance,"outline"==Yi(e,72).appearance,"legacy"==Yi(e,72).appearance,Yi(e,72)._control.errorState,Yi(e,72)._canLabelFloat,Yi(e,72)._shouldLabelFloat(),Yi(e,72)._hasFloatingLabel(),Yi(e,72)._hideControlPlaceholder(),Yi(e,72)._control.disabled,Yi(e,72)._control.autofilled,Yi(e,72)._control.focused,"accent"==Yi(e,72).color,"warn"==Yi(e,72).color,Yi(e,72)._shouldForward("untouched"),Yi(e,72)._shouldForward("touched"),Yi(e,72)._shouldForward("pristine"),Yi(e,72)._shouldForward("dirty"),Yi(e,72)._shouldForward("valid"),Yi(e,72)._shouldForward("invalid"),Yi(e,72)._shouldForward("pending"),!Yi(e,72)._animationsEnabled]),t(e,82,0,Yi(e,83)._isServer,Yi(e,83).id,Yi(e,83).placeholder,Yi(e,83).disabled,Yi(e,83).required,Yi(e,83).readonly&&!Yi(e,83)._isNativeSelect||null,Yi(e,83)._ariaDescribedby||null,Yi(e,83).errorState,Yi(e,83).required.toString()),t(e,85,1,["standard"==Yi(e,87).appearance,"fill"==Yi(e,87).appearance,"outline"==Yi(e,87).appearance,"legacy"==Yi(e,87).appearance,Yi(e,87)._control.errorState,Yi(e,87)._canLabelFloat,Yi(e,87)._shouldLabelFloat(),Yi(e,87)._hasFloatingLabel(),Yi(e,87)._hideControlPlaceholder(),Yi(e,87)._control.disabled,Yi(e,87)._control.autofilled,Yi(e,87)._control.focused,"accent"==Yi(e,87).color,"warn"==Yi(e,87).color,Yi(e,87)._shouldForward("untouched"),Yi(e,87)._shouldForward("touched"),Yi(e,87)._shouldForward("pristine"),Yi(e,87)._shouldForward("dirty"),Yi(e,87)._shouldForward("valid"),Yi(e,87)._shouldForward("invalid"),Yi(e,87)._shouldForward("pending"),!Yi(e,87)._animationsEnabled]),t(e,97,0,Yi(e,98)._isServer,Yi(e,98).id,Yi(e,98).placeholder,Yi(e,98).disabled,Yi(e,98).required,Yi(e,98).readonly&&!Yi(e,98)._isNativeSelect||null,Yi(e,98)._ariaDescribedby||null,Yi(e,98).errorState,Yi(e,98).required.toString()),t(e,100,0,Yi(e,101).disabled?-1:Yi(e,101).tabIndex||0,Yi(e,101).disabled||null,Yi(e,101).disabled.toString(),"NoopAnimations"===Yi(e,101)._animationMode)}))}function Fw(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"app-login",[],null,null,null,Pw,Nw)),sr(1,114688,null,0,Dw,[Py,ty,sh,Kf],null,null)],(function(t,e){t(e,1,0)}),null)}var Lw=Vi("app-login",Dw,Fw,{},{},[]);class Mw{constructor(t,e,n,i,r){this.authService=t,this.router=e,this.afAuth=n,this.httpClient=i,this.global=r}ngOnInit(){}createNewGroup(t){this.authService.getCurrentUser().getIdTokenResult(!0).then(e=>{this.httpClient.postAuth(this.global.baseApiURL+"/v1/createGroup",{gname:t,subGroups:["Section A","Section B","Section C","Section D","Section E","Section F","Section G","Section H","Section I","Section J","Section K","Section L"],inputDetails:["Name","Address","Phone","Email ID","Family Name","Home Parish"],personDetails:["Name","Relation","DOB","DOM","Profession"]},e).subscribe(t=>{this.router.navigate(["home"])})})}signOut(){this.authService.signOut()}}var Vw=Qn({encapsulation:0,styles:[[""]],data:{}});function Uw(t){return Xs(0,[(t()(),Ls(0,0,null,null,20,"mat-card",[["class","mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,p_,f_)),sr(1,49152,null,0,h_,[[2,t_]],null,null),(t()(),Ls(2,0,null,0,14,"mat-form-field",[["class","createGroup mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Eb,hb)),or(6144,null,lb,null,[ub]),sr(4,7520256,null,9,ub,[un,Re,[2,kp],[2,Fp],[2,ab],jd,Zr,[2,t_]],null,null),Bs(603979776,1,{_controlNonStatic:0}),Bs(335544320,2,{_controlStatic:0}),Bs(603979776,3,{_labelChildNonStatic:0}),Bs(335544320,4,{_labelChildStatic:0}),Bs(603979776,5,{_placeholderChild:0}),Bs(603979776,6,{_errorChildren:1}),Bs(603979776,7,{_hintChildren:1}),Bs(603979776,8,{_prefixChildren:1}),Bs(603979776,9,{_suffixChildren:1}),(t()(),Ls(14,0,[["groupName",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Group Name"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"focus"],[null,"blur"],[null,"input"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==Yi(t,15)._focusChanged(!0)&&i),"blur"===e&&(i=!1!==Yi(t,15)._focusChanged(!1)&&i),"input"===e&&(i=!1!==Yi(t,15)._onInput()&&i),i}),null,null)),sr(15,999424,null,0,Ob,[un,jd,[8,null],[2,Cw],[2,Aw],rp,[8,null],xb,Zr],{placeholder:[0,"placeholder"]},null),or(2048,[[1,4],[2,4]],eb,null,[Ob]),(t()(),Ls(17,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),Ls(18,0,null,0,2,"button",[["class","newEmployeeSubmit mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.createNewGroup(Yi(t,14).value)&&i),i}),i_,n_)),sr(19,180224,null,0,Op,[un,nf,[2,t_]],null,null),(t()(),Ys(-1,0,["Create Group"]))],(function(t,e){t(e,15,0,"Group Name")}),(function(t,e){t(e,0,0,"NoopAnimations"===Yi(e,1)._animationMode),t(e,2,1,["standard"==Yi(e,4).appearance,"fill"==Yi(e,4).appearance,"outline"==Yi(e,4).appearance,"legacy"==Yi(e,4).appearance,Yi(e,4)._control.errorState,Yi(e,4)._canLabelFloat,Yi(e,4)._shouldLabelFloat(),Yi(e,4)._hasFloatingLabel(),Yi(e,4)._hideControlPlaceholder(),Yi(e,4)._control.disabled,Yi(e,4)._control.autofilled,Yi(e,4)._control.focused,"accent"==Yi(e,4).color,"warn"==Yi(e,4).color,Yi(e,4)._shouldForward("untouched"),Yi(e,4)._shouldForward("touched"),Yi(e,4)._shouldForward("pristine"),Yi(e,4)._shouldForward("dirty"),Yi(e,4)._shouldForward("valid"),Yi(e,4)._shouldForward("invalid"),Yi(e,4)._shouldForward("pending"),!Yi(e,4)._animationsEnabled]),t(e,14,0,Yi(e,15)._isServer,Yi(e,15).id,Yi(e,15).placeholder,Yi(e,15).disabled,Yi(e,15).required,Yi(e,15).readonly&&!Yi(e,15)._isNativeSelect||null,Yi(e,15)._ariaDescribedby||null,Yi(e,15).errorState,Yi(e,15).required.toString()),t(e,18,0,Yi(e,19).disabled||null,"NoopAnimations"===Yi(e,19)._animationMode)}))}function jw(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"app-create",[],null,null,null,Uw,Vw)),sr(1,114688,null,0,Mw,[Py,sh,X_,Ny,ty],null,null)],(function(t,e){t(e,1,0)}),null)}var Bw=Vi("app-create",Mw,jw,{},{},[]);class zw{constructor(t){this._elementRef=t}}const qw=ep(Jf(tp(zw),"primary"),-1);class Hw extends qw{constructor(t,e,n,i,r,s,o,a){super(t),this._elementRef=t,this._ngZone=e,this._changeDetectorRef=s,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new x,this._onBlur=new x,this.selectionChange=new kr,this.destroyed=new kr,this.removed=new kr,this._addHostClassName(),this._chipRippleTarget=(a||document).createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new hp(this,e,this._chipRippleTarget,n),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=i||{},this._animationsDisabled="NoopAnimations"===r,this.tabIndex=null!=o&&parseInt(o)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=Ph(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=Ph(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=Ph(t)}get removable(){return this._removable}set removable(t){this._removable=Ph(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t=this._elementRef.nativeElement;t.hasAttribute("mat-basic-chip")||"mat-basic-chip"===t.tagName.toLowerCase()?t.classList.add("mat-basic-chip"):t.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case 46:case 8:this.remove(),t.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.asObservable().pipe(bl(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}_markForCheck(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}class Gw{constructor(t,e){this._parentChip=t,e&&"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}_handleClick(t){const e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}const $w=new Et("mat-chips-default-options");class Ww{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const Kw=np(Ww);let Yw=0;class Zw{constructor(t,e){this.source=t,this.value=e}}class Qw extends Kw{constructor(t,e,n,i,r,s,o){super(s,i,r,o),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this.ngControl=o,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new x,this._uid="mat-chip-list-"+Yw++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(t,e)=>t===e,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new kr,this.valueChange=new kr,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=Ph(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=Ph(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ph(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=Ph(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return W(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return W(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return W(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return W(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new Yd(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Bh(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe(Bh(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Rl(null),Bh(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new jh(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const e=t.target;8===t.keyCode&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(36===t.keyCode?(this._keyManager.setFirstItemActive(),t.preventDefault()):35===t.keyCode?(this._keyManager.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const n=this._selectValue(t,e);n&&e&&this._keyManager.setActiveItem(n)}}_selectValue(t,e=!0){const n=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return n&&(e?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new Zw(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItem(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&e._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple})}}let Xw=0;class Jw{constructor(t,e){this._elementRef=t,this._defaultOptions=e,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new kr,this.placeholder="",this.id="mat-chip-list-input-"+Xw++,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}set chipList(t){t&&(this._chipList=t,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(t){this._addOnBlur=Ph(t)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(t){this._disabled=Ph(t)}get empty(){return!this._inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}_keydown(t){t&&9===t.keyCode&&!Td(t,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(t)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(t){!this._inputElement.value&&t&&this._chipList._keydown(t),t&&!this._isSeparatorKey(t)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(t){this._inputElement.focus(t)}_isSeparatorKey(t){if(Td(t))return!1;const e=this.separatorKeyCodes,n=t.keyCode;return Array.isArray(e)?e.indexOf(n)>-1:e.has(n)}}class tC{}function eC(t){return Error(`Unable to find icon with the name "${t}"`)}function nC(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function iC(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class rC{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let sC=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new rC(n,i))}addSvgIconLiteralInNamespace(t,e,n,i){const r=this._sanitizer.sanitize(Se.HTML,n);if(!r)throw iC(n);const s=this._createSvgElementForSingleIcon(r,i);return this._addSvgIconConfig(t,e,new rC(s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new rC(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(Se.HTML,e);if(!i)throw iC(e);const r=this._svgElementFromString(i);return this._addSvgIconSetConfig(t,new rC(r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Se.RESOURCE_URL,t);if(!e)throw nC(t);const n=this._cachedIconsByUrl.get(e);return n?$a(oC(n)):this._loadSvgIconFromConfig(new rC(t)).pipe(Ll(t=>this._cachedIconsByUrl.set(e,t)),M(t=>oC(t)))}getNamedSvgIcon(t,e=""){const n=aC(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):__(eC(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?$a(oC(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Ll(e=>t.svgElement=e),M(t=>oC(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?$a(n):Nb(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(_l(e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(Se.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),$a(null)})))).pipe(M(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw eC(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgElement){const e=this._extractSvgIconFromSet(i.svgElement,t,i.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(M(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?$a(t.svgElement):this._fetchUrl(t.url).pipe(M(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(r),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(Se.RESOURCE_URL,t);if(!e)throw nC(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const i=this._httpClient.get(e,{responseType:"text"}).pipe(Ul(()=>this._inProgressUrlFetches.delete(e)),et());return this._inProgressUrlFetches.set(e,i),i}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(aC(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.\u0275prov=ut({factory:function(){return new t(Rt(_y,8),Rt(zf),Rt(ca,8),Rt(Ht,8))},token:t,providedIn:"root"}),t})();function oC(t){return t.cloneNode(!0)}function aC(t,e){return t+":"+e}class lC{constructor(t){this._elementRef=t}}const uC=Jf(lC),cC=new Et("mat-icon-location",{providedIn:"root",factory:function(){const t=Ot(ca),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),hC=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],dC=hC.map(t=>`[${t}]`).join(", "),fC=/^url\(['"]?#(.*?)['"]?\)$/;class pC extends uC{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=h.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Ph(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this._currentIconFetch.unsubscribe(),this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(e,t).pipe(bl(1)).subscribe(t=>this._setSvgElement(t),n=>{const i=`Error retrieving icon ${t}:${e}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(i)):console.error(i)})}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(dC),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)hC.forEach(t=>{const r=e[i],s=r.getAttribute(t),o=s?s.match(fC):null;if(o){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:o[1]})}})}}class mC{}var gC=Qn({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],data:{}});function _C(t){return Xs(2,[$s(null,0)],null,null)}var yC=Qn({encapsulation:2,styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],data:{}});function vC(t){return Xs(2,[(t()(),Ls(0,0,null,null,1,"div",[["class","mat-chip-list-wrapper"]],null,null,null,null,null)),$s(null,0)],null,null)}class bC{constructor(t,e,n,i,r,s){this.route=t,this.authService=e,this.router=n,this.afAuth=i,this.httpClient=r,this.global=s,this.separatorKeysCodes=[13,188]}ngOnInit(){this.route.queryParams.subscribe(t=>{this.groupDetails={gid:t.gid,gname:t.gname||"",summary:t.summary||"",subGroups:t.subGroups||[],inputDetails:t.inputDetails||[],personDetails:t.personDetails||[]}})}updateGroup(){this.authService.getCurrentUser().getIdTokenResult(!0).then(t=>{this.httpClient.postAuth(this.global.baseApiURL+(null==this.groupDetails.gid?"/v1/createGroup":"/v1/updateGroup"),this.groupDetails,t).subscribe(t=>{this.router.navigate(["home"])})})}add(t){const e=t.input,n=t.value;(n||"").trim()&&this.groupDetails.subGroups.push(n.trim()),e&&(e.value="")}add1(t){const e=t.input,n=t.value;(n||"").trim()&&this.groupDetails.inputDetails.push(n.trim()),e&&(e.value="")}add2(t){const e=t.input,n=t.value;(n||"").trim()&&this.groupDetails.personDetails.push(n.trim()),e&&(e.value="")}remove(t){const e=this.groupDetails.subGroups.indexOf(t);e>=0&&this.groupDetails.subGroups.splice(e,1)}remove1(t){const e=this.groupDetails.inputDetails.indexOf(t);e>=0&&this.groupDetails.inputDetails.splice(e,1)}remove2(t){const e=this.groupDetails.personDetails.indexOf(t);e>=0&&this.groupDetails.personDetails.splice(e,1)}}var wC=Qn({encapsulation:0,styles:[[""]],data:{}});function CC(t){return Xs(0,[(t()(),Ls(0,0,null,null,9,"mat-chip",[["class","mat-chip mat-focus-indicator"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[2,"_mat-animation-noopable",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"removed"],[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Yi(t,1)._handleClick(n)&&i),"keydown"===e&&(i=!1!==Yi(t,1)._handleKeydown(n)&&i),"focus"===e&&(i=!1!==Yi(t,1).focus()&&i),"blur"===e&&(i=!1!==Yi(t,1)._blur()&&i),"removed"===e&&(i=!1!==r.remove(t.context.$implicit)&&i),i}),null,null)),sr(1,147456,[[19,4]],3,Hw,[un,Zr,jd,[2,dp],[2,t_],Re,[8,null],[2,ca]],{selectable:[0,"selectable"],removable:[1,"removable"]},{removed:"removed"}),Bs(603979776,20,{avatar:0}),Bs(603979776,21,{trailingIcon:0}),Bs(603979776,22,{removeIcon:0}),(t()(),Ys(5,null,[" "," "])),(t()(),Ls(6,0,null,null,3,"mat-icon",[["class","mat-chip-remove mat-chip-trailing-icon mat-icon notranslate"],["matChipRemove",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Yi(t,7)._handleClick(n)&&i),i}),_C,gC)),sr(7,16384,[[22,4]],0,Gw,[Hw,un],null,null),sr(8,9158656,null,0,pC,[un,sC,[8,null],[2,cC],[2,Ht]],null,null),(t()(),Ys(-1,0,["cancel"]))],(function(t,e){t(e,1,0,!0,!0),t(e,8,0)}),(function(t,e){t(e,0,0,Yi(e,1).disabled?null:Yi(e,1).tabIndex,Yi(e,1).selected,Yi(e,1).avatar,Yi(e,1).trailingIcon||Yi(e,1).removeIcon,Yi(e,1).disabled,Yi(e,1)._animationsDisabled,Yi(e,1).disabled||null,Yi(e,1).disabled.toString(),Yi(e,1).ariaSelected),t(e,5,0,e.context.$implicit),t(e,6,0,Yi(e,8).inline,"primary"!==Yi(e,8).color&&"accent"!==Yi(e,8).color&&"warn"!==Yi(e,8).color)}))}function EC(t){return Xs(0,[(t()(),Ls(0,0,null,null,9,"mat-chip",[["class","mat-chip mat-focus-indicator"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[2,"_mat-animation-noopable",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"removed"],[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Yi(t,1)._handleClick(n)&&i),"keydown"===e&&(i=!1!==Yi(t,1)._handleKeydown(n)&&i),"focus"===e&&(i=!1!==Yi(t,1).focus()&&i),"blur"===e&&(i=!1!==Yi(t,1)._blur()&&i),"removed"===e&&(i=!1!==r.remove1(t.context.$implicit)&&i),i}),null,null)),sr(1,147456,[[23,4]],3,Hw,[un,Zr,jd,[2,dp],[2,t_],Re,[8,null],[2,ca]],{selectable:[0,"selectable"],removable:[1,"removable"]},{removed:"removed"}),Bs(603979776,24,{avatar:0}),Bs(603979776,25,{trailingIcon:0}),Bs(603979776,26,{removeIcon:0}),(t()(),Ys(5,null,[" "," "])),(t()(),Ls(6,0,null,null,3,"mat-icon",[["class","mat-chip-remove mat-chip-trailing-icon mat-icon notranslate"],["matChipRemove",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Yi(t,7)._handleClick(n)&&i),i}),_C,gC)),sr(7,16384,[[26,4]],0,Gw,[Hw,un],null,null),sr(8,9158656,null,0,pC,[un,sC,[8,null],[2,cC],[2,Ht]],null,null),(t()(),Ys(-1,0,["cancel"]))],(function(t,e){t(e,1,0,!0,!0),t(e,8,0)}),(function(t,e){t(e,0,0,Yi(e,1).disabled?null:Yi(e,1).tabIndex,Yi(e,1).selected,Yi(e,1).avatar,Yi(e,1).trailingIcon||Yi(e,1).removeIcon,Yi(e,1).disabled,Yi(e,1)._animationsDisabled,Yi(e,1).disabled||null,Yi(e,1).disabled.toString(),Yi(e,1).ariaSelected),t(e,5,0,e.context.$implicit),t(e,6,0,Yi(e,8).inline,"primary"!==Yi(e,8).color&&"accent"!==Yi(e,8).color&&"warn"!==Yi(e,8).color)}))}function SC(t){return Xs(0,[(t()(),Ls(0,0,null,null,9,"mat-chip",[["class","mat-chip mat-focus-indicator"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[2,"_mat-animation-noopable",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"removed"],[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Yi(t,1)._handleClick(n)&&i),"keydown"===e&&(i=!1!==Yi(t,1)._handleKeydown(n)&&i),"focus"===e&&(i=!1!==Yi(t,1).focus()&&i),"blur"===e&&(i=!1!==Yi(t,1)._blur()&&i),"removed"===e&&(i=!1!==r.remove2(t.context.$implicit)&&i),i}),null,null)),sr(1,147456,[[27,4]],3,Hw,[un,Zr,jd,[2,dp],[2,t_],Re,[8,null],[2,ca]],{selectable:[0,"selectable"],removable:[1,"removable"]},{removed:"removed"}),Bs(603979776,28,{avatar:0}),Bs(603979776,29,{trailingIcon:0}),Bs(603979776,30,{removeIcon:0}),(t()(),Ys(5,null,[" "," "])),(t()(),Ls(6,0,null,null,3,"mat-icon",[["class","mat-chip-remove mat-chip-trailing-icon mat-icon notranslate"],["matChipRemove",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Yi(t,7)._handleClick(n)&&i),i}),_C,gC)),sr(7,16384,[[30,4]],0,Gw,[Hw,un],null,null),sr(8,9158656,null,0,pC,[un,sC,[8,null],[2,cC],[2,Ht]],null,null),(t()(),Ys(-1,0,["cancel"]))],(function(t,e){t(e,1,0,!0,!0),t(e,8,0)}),(function(t,e){t(e,0,0,Yi(e,1).disabled?null:Yi(e,1).tabIndex,Yi(e,1).selected,Yi(e,1).avatar,Yi(e,1).trailingIcon||Yi(e,1).removeIcon,Yi(e,1).disabled,Yi(e,1)._animationsDisabled,Yi(e,1).disabled||null,Yi(e,1).disabled.toString(),Yi(e,1).ariaSelected),t(e,5,0,e.context.$implicit),t(e,6,0,Yi(e,8).inline,"primary"!==Yi(e,8).color&&"accent"!==Yi(e,8).color&&"warn"!==Yi(e,8).color)}))}function xC(t){return Xs(0,[(t()(),Ls(0,0,null,null,2,"button",[["class","newEmployeeSubmit mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.updateGroup()&&i),i}),i_,n_)),sr(1,180224,null,0,Op,[un,nf,[2,t_]],null,null),(t()(),Ys(-1,0,["Create Group"]))],null,(function(t,e){t(e,0,0,Yi(e,1).disabled||null,"NoopAnimations"===Yi(e,1)._animationMode)}))}function IC(t){return Xs(0,[(t()(),Ls(0,0,null,null,2,"button",[["class","newEmployeeSubmit mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.updateGroup()&&i),i}),i_,n_)),sr(1,180224,null,0,Op,[un,nf,[2,t_]],null,null),(t()(),Ys(-1,0,["Update Group"]))],null,(function(t,e){t(e,0,0,Yi(e,1).disabled||null,"NoopAnimations"===Yi(e,1)._animationMode)}))}function kC(t){return Xs(0,[(t()(),Ls(0,0,null,null,74,"mat-card",[["class","mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,p_,f_)),sr(1,49152,null,0,h_,[[2,t_]],null,null),(t()(),Ls(2,0,null,0,19,"mat-form-field",[["class","createGroup mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Eb,hb)),or(6144,null,lb,null,[ub]),sr(4,7520256,null,9,ub,[un,Re,[2,kp],[2,Fp],[2,ab],jd,Zr,[2,t_]],null,null),Bs(603979776,1,{_controlNonStatic:0}),Bs(335544320,2,{_controlStatic:0}),Bs(603979776,3,{_labelChildNonStatic:0}),Bs(335544320,4,{_labelChildStatic:0}),Bs(603979776,5,{_placeholderChild:0}),Bs(603979776,6,{_errorChildren:1}),Bs(603979776,7,{_hintChildren:1}),Bs(603979776,8,{_prefixChildren:1}),Bs(603979776,9,{_suffixChildren:1}),(t()(),Ls(14,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Group Name"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Yi(t,15)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Yi(t,15).onTouched()&&i),"compositionstart"===e&&(i=!1!==Yi(t,15)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Yi(t,15)._compositionEnd(n.target.value)&&i),"focus"===e&&(i=!1!==Yi(t,19)._focusChanged(!0)&&i),"blur"===e&&(i=!1!==Yi(t,19)._focusChanged(!1)&&i),"input"===e&&(i=!1!==Yi(t,19)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.groupDetails.gname=n)&&i),i}),null,null)),sr(15,16384,null,0,Mb,[fn,un,[2,Lb]],null,null),or(1024,null,Fb,(function(t){return[t]}),[Mb]),sr(17,671744,null,0,kw,[[8,null],[8,null],[8,null],[6,Fb]],{model:[0,"model"]},{update:"ngModelChange"}),or(2048,null,Bb,null,[kw]),sr(19,999424,null,0,Ob,[un,jd,[6,Bb],[2,Cw],[2,Aw],rp,[8,null],xb,Zr],{placeholder:[0,"placeholder"]},null),sr(20,16384,null,0,qb,[[4,Bb]],null,null),or(2048,[[1,4],[2,4]],eb,null,[Ob]),(t()(),Ls(22,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),Ls(23,0,null,0,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Eb,hb)),or(6144,null,lb,null,[ub]),sr(25,7520256,null,9,ub,[un,Re,[2,kp],[2,Fp],[2,ab],jd,Zr,[2,t_]],null,null),Bs(603979776,10,{_controlNonStatic:0}),Bs(335544320,11,{_controlStatic:0}),Bs(603979776,12,{_labelChildNonStatic:0}),Bs(335544320,13,{_labelChildStatic:0}),Bs(603979776,14,{_placeholderChild:0}),Bs(603979776,15,{_errorChildren:1}),Bs(603979776,16,{_hintChildren:1}),Bs(603979776,17,{_prefixChildren:1}),Bs(603979776,18,{_suffixChildren:1}),(t()(),Ls(35,0,null,1,7,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Summary"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Yi(t,36)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Yi(t,36).onTouched()&&i),"compositionstart"===e&&(i=!1!==Yi(t,36)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Yi(t,36)._compositionEnd(n.target.value)&&i),"focus"===e&&(i=!1!==Yi(t,40)._focusChanged(!0)&&i),"blur"===e&&(i=!1!==Yi(t,40)._focusChanged(!1)&&i),"input"===e&&(i=!1!==Yi(t,40)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.groupDetails.summary=n)&&i),i}),null,null)),sr(36,16384,null,0,Mb,[fn,un,[2,Lb]],null,null),or(1024,null,Fb,(function(t){return[t]}),[Mb]),sr(38,671744,null,0,kw,[[8,null],[8,null],[8,null],[6,Fb]],{model:[0,"model"]},{update:"ngModelChange"}),or(2048,null,Bb,null,[kw]),sr(40,999424,null,0,Ob,[un,jd,[6,Bb],[2,Cw],[2,Aw],rp,[8,null],xb,Zr],{placeholder:[0,"placeholder"]},null),sr(41,16384,null,0,qb,[[4,Bb]],null,null),or(2048,[[10,4],[11,4]],eb,null,[Ob]),(t()(),Ls(43,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),Ls(44,0,null,0,7,"mat-chip-list",[["aria-label","Subgroups"],["class","mat-chip-list"]],[[1,"tabindex",0],[1,"aria-describedby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-multiselectable",0],[1,"role",0],[2,"mat-chip-list-disabled",null],[2,"mat-chip-list-invalid",null],[2,"mat-chip-list-required",null],[1,"aria-orientation",0],[8,"id",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==Yi(t,46).focus()&&i),"blur"===e&&(i=!1!==Yi(t,46)._blur()&&i),"keydown"===e&&(i=!1!==Yi(t,46)._keydown(n)&&i),i}),vC,yC)),or(6144,null,eb,null,[Qw]),sr(46,1556480,[["chipList",4]],1,Qw,[un,Re,[2,Fp],[2,Cw],[2,Aw],rp,[8,null]],null,null),Bs(603979776,19,{chips:1}),(t()(),Fs(16777216,null,0,1,null,CC)),sr(49,278528,null,0,Pa,[Fn,Nn,Tn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ls(50,0,null,0,1,"input",[["class","mat-chip-input mat-input-element"],["placeholder","New subgroup"]],[[8,"id",0],[1,"disabled",0],[1,"placeholder",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"matChipInputTokenEnd"],[null,"keydown"],[null,"blur"],[null,"focus"],[null,"input"]],(function(t,e,n){var i=!0,r=t.component;return"keydown"===e&&(i=!1!==Yi(t,51)._keydown(n)&&i),"blur"===e&&(i=!1!==Yi(t,51)._blur()&&i),"focus"===e&&(i=!1!==Yi(t,51)._focus()&&i),"input"===e&&(i=!1!==Yi(t,51)._onInput()&&i),"matChipInputTokenEnd"===e&&(i=!1!==r.add(n)&&i),i}),null,null)),sr(51,540672,null,0,Jw,[un,$w],{chipList:[0,"chipList"],addOnBlur:[1,"addOnBlur"],separatorKeyCodes:[2,"separatorKeyCodes"],placeholder:[3,"placeholder"]},{chipEnd:"matChipInputTokenEnd"}),(t()(),Ls(52,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),Ls(53,0,null,0,7,"mat-chip-list",[["aria-label","Input details"],["class","mat-chip-list"]],[[1,"tabindex",0],[1,"aria-describedby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-multiselectable",0],[1,"role",0],[2,"mat-chip-list-disabled",null],[2,"mat-chip-list-invalid",null],[2,"mat-chip-list-required",null],[1,"aria-orientation",0],[8,"id",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==Yi(t,55).focus()&&i),"blur"===e&&(i=!1!==Yi(t,55)._blur()&&i),"keydown"===e&&(i=!1!==Yi(t,55)._keydown(n)&&i),i}),vC,yC)),or(6144,null,eb,null,[Qw]),sr(55,1556480,[["chipList",4]],1,Qw,[un,Re,[2,Fp],[2,Cw],[2,Aw],rp,[8,null]],null,null),Bs(603979776,23,{chips:1}),(t()(),Fs(16777216,null,0,1,null,EC)),sr(58,278528,null,0,Pa,[Fn,Nn,Tn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ls(59,0,null,0,1,"input",[["class","mat-chip-input mat-input-element"],["placeholder","New inputDetail"]],[[8,"id",0],[1,"disabled",0],[1,"placeholder",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"matChipInputTokenEnd"],[null,"keydown"],[null,"blur"],[null,"focus"],[null,"input"]],(function(t,e,n){var i=!0,r=t.component;return"keydown"===e&&(i=!1!==Yi(t,60)._keydown(n)&&i),"blur"===e&&(i=!1!==Yi(t,60)._blur()&&i),"focus"===e&&(i=!1!==Yi(t,60)._focus()&&i),"input"===e&&(i=!1!==Yi(t,60)._onInput()&&i),"matChipInputTokenEnd"===e&&(i=!1!==r.add1(n)&&i),i}),null,null)),sr(60,540672,null,0,Jw,[un,$w],{chipList:[0,"chipList"],addOnBlur:[1,"addOnBlur"],separatorKeyCodes:[2,"separatorKeyCodes"],placeholder:[3,"placeholder"]},{chipEnd:"matChipInputTokenEnd"}),(t()(),Ls(61,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),Ls(62,0,null,0,7,"mat-chip-list",[["aria-label","Person Details details"],["class","mat-chip-list"]],[[1,"tabindex",0],[1,"aria-describedby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-multiselectable",0],[1,"role",0],[2,"mat-chip-list-disabled",null],[2,"mat-chip-list-invalid",null],[2,"mat-chip-list-required",null],[1,"aria-orientation",0],[8,"id",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==Yi(t,64).focus()&&i),"blur"===e&&(i=!1!==Yi(t,64)._blur()&&i),"keydown"===e&&(i=!1!==Yi(t,64)._keydown(n)&&i),i}),vC,yC)),or(6144,null,eb,null,[Qw]),sr(64,1556480,[["chipList",4]],1,Qw,[un,Re,[2,Fp],[2,Cw],[2,Aw],rp,[8,null]],null,null),Bs(603979776,27,{chips:1}),(t()(),Fs(16777216,null,0,1,null,SC)),sr(67,278528,null,0,Pa,[Fn,Nn,Tn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ls(68,0,null,0,1,"input",[["class","mat-chip-input mat-input-element"],["placeholder","New personDetail"]],[[8,"id",0],[1,"disabled",0],[1,"placeholder",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"matChipInputTokenEnd"],[null,"keydown"],[null,"blur"],[null,"focus"],[null,"input"]],(function(t,e,n){var i=!0,r=t.component;return"keydown"===e&&(i=!1!==Yi(t,69)._keydown(n)&&i),"blur"===e&&(i=!1!==Yi(t,69)._blur()&&i),"focus"===e&&(i=!1!==Yi(t,69)._focus()&&i),"input"===e&&(i=!1!==Yi(t,69)._onInput()&&i),"matChipInputTokenEnd"===e&&(i=!1!==r.add2(n)&&i),i}),null,null)),sr(69,540672,null,0,Jw,[un,$w],{chipList:[0,"chipList"],addOnBlur:[1,"addOnBlur"],separatorKeyCodes:[2,"separatorKeyCodes"],placeholder:[3,"placeholder"]},{chipEnd:"matChipInputTokenEnd"}),(t()(),Ls(70,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),Fs(16777216,null,0,1,null,xC)),sr(72,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Fs(16777216,null,0,1,null,IC)),sr(74,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,17,0,n.groupDetails.gname),t(e,19,0,"Group Name"),t(e,38,0,n.groupDetails.summary),t(e,40,0,"Summary"),t(e,46,0),t(e,49,0,n.groupDetails.subGroups),t(e,51,0,Yi(e,64),!0,n.separatorKeysCodes,"New subgroup"),t(e,55,0),t(e,58,0,n.groupDetails.inputDetails),t(e,60,0,Yi(e,64),!0,n.separatorKeysCodes,"New inputDetail"),t(e,64,0),t(e,67,0,n.groupDetails.personDetails),t(e,69,0,Yi(e,64),!0,n.separatorKeysCodes,"New personDetail"),t(e,72,0,null==n.groupDetails.gid),t(e,74,0,null!=n.groupDetails.gid)}),(function(t,e){t(e,0,0,"NoopAnimations"===Yi(e,1)._animationMode),t(e,2,1,["standard"==Yi(e,4).appearance,"fill"==Yi(e,4).appearance,"outline"==Yi(e,4).appearance,"legacy"==Yi(e,4).appearance,Yi(e,4)._control.errorState,Yi(e,4)._canLabelFloat,Yi(e,4)._shouldLabelFloat(),Yi(e,4)._hasFloatingLabel(),Yi(e,4)._hideControlPlaceholder(),Yi(e,4)._control.disabled,Yi(e,4)._control.autofilled,Yi(e,4)._control.focused,"accent"==Yi(e,4).color,"warn"==Yi(e,4).color,Yi(e,4)._shouldForward("untouched"),Yi(e,4)._shouldForward("touched"),Yi(e,4)._shouldForward("pristine"),Yi(e,4)._shouldForward("dirty"),Yi(e,4)._shouldForward("valid"),Yi(e,4)._shouldForward("invalid"),Yi(e,4)._shouldForward("pending"),!Yi(e,4)._animationsEnabled]),t(e,14,1,[Yi(e,19)._isServer,Yi(e,19).id,Yi(e,19).placeholder,Yi(e,19).disabled,Yi(e,19).required,Yi(e,19).readonly&&!Yi(e,19)._isNativeSelect||null,Yi(e,19)._ariaDescribedby||null,Yi(e,19).errorState,Yi(e,19).required.toString(),Yi(e,20).ngClassUntouched,Yi(e,20).ngClassTouched,Yi(e,20).ngClassPristine,Yi(e,20).ngClassDirty,Yi(e,20).ngClassValid,Yi(e,20).ngClassInvalid,Yi(e,20).ngClassPending]),t(e,23,1,["standard"==Yi(e,25).appearance,"fill"==Yi(e,25).appearance,"outline"==Yi(e,25).appearance,"legacy"==Yi(e,25).appearance,Yi(e,25)._control.errorState,Yi(e,25)._canLabelFloat,Yi(e,25)._shouldLabelFloat(),Yi(e,25)._hasFloatingLabel(),Yi(e,25)._hideControlPlaceholder(),Yi(e,25)._control.disabled,Yi(e,25)._control.autofilled,Yi(e,25)._control.focused,"accent"==Yi(e,25).color,"warn"==Yi(e,25).color,Yi(e,25)._shouldForward("untouched"),Yi(e,25)._shouldForward("touched"),Yi(e,25)._shouldForward("pristine"),Yi(e,25)._shouldForward("dirty"),Yi(e,25)._shouldForward("valid"),Yi(e,25)._shouldForward("invalid"),Yi(e,25)._shouldForward("pending"),!Yi(e,25)._animationsEnabled]),t(e,35,1,[Yi(e,40)._isServer,Yi(e,40).id,Yi(e,40).placeholder,Yi(e,40).disabled,Yi(e,40).required,Yi(e,40).readonly&&!Yi(e,40)._isNativeSelect||null,Yi(e,40)._ariaDescribedby||null,Yi(e,40).errorState,Yi(e,40).required.toString(),Yi(e,41).ngClassUntouched,Yi(e,41).ngClassTouched,Yi(e,41).ngClassPristine,Yi(e,41).ngClassDirty,Yi(e,41).ngClassValid,Yi(e,41).ngClassInvalid,Yi(e,41).ngClassPending]),t(e,44,1,[Yi(e,46).disabled?null:Yi(e,46)._tabIndex,Yi(e,46)._ariaDescribedby||null,Yi(e,46).role?Yi(e,46).required:null,Yi(e,46).disabled.toString(),Yi(e,46).errorState,Yi(e,46).multiple,Yi(e,46).role,Yi(e,46).disabled,Yi(e,46).errorState,Yi(e,46).required,Yi(e,46).ariaOrientation,Yi(e,46)._uid]),t(e,50,0,Yi(e,51).id,Yi(e,51).disabled||null,Yi(e,51).placeholder||null,Yi(e,51)._chipList&&Yi(e,51)._chipList.ngControl?Yi(e,51)._chipList.ngControl.invalid:null,Yi(e,51)._chipList&&Yi(e,51)._chipList.required||null),t(e,53,1,[Yi(e,55).disabled?null:Yi(e,55)._tabIndex,Yi(e,55)._ariaDescribedby||null,Yi(e,55).role?Yi(e,55).required:null,Yi(e,55).disabled.toString(),Yi(e,55).errorState,Yi(e,55).multiple,Yi(e,55).role,Yi(e,55).disabled,Yi(e,55).errorState,Yi(e,55).required,Yi(e,55).ariaOrientation,Yi(e,55)._uid]),t(e,59,0,Yi(e,60).id,Yi(e,60).disabled||null,Yi(e,60).placeholder||null,Yi(e,60)._chipList&&Yi(e,60)._chipList.ngControl?Yi(e,60)._chipList.ngControl.invalid:null,Yi(e,60)._chipList&&Yi(e,60)._chipList.required||null),t(e,62,1,[Yi(e,64).disabled?null:Yi(e,64)._tabIndex,Yi(e,64)._ariaDescribedby||null,Yi(e,64).role?Yi(e,64).required:null,Yi(e,64).disabled.toString(),Yi(e,64).errorState,Yi(e,64).multiple,Yi(e,64).role,Yi(e,64).disabled,Yi(e,64).errorState,Yi(e,64).required,Yi(e,64).ariaOrientation,Yi(e,64)._uid]),t(e,68,0,Yi(e,69).id,Yi(e,69).disabled||null,Yi(e,69).placeholder||null,Yi(e,69)._chipList&&Yi(e,69)._chipList.ngControl?Yi(e,69)._chipList.ngControl.invalid:null,Yi(e,69)._chipList&&Yi(e,69)._chipList.required||null)}))}function TC(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"app-group-edit",[],null,null,null,kC,wC)),sr(1,114688,null,0,bC,[Yu,Py,sh,X_,Ny,ty],null,null)],(function(t,e){t(e,1,0)}),null)}var AC=Vi("app-group-edit",bC,TC,{},{},[]);class RC{constructor(t,e,n,i,r){this.authService=t,this.route=e,this.httpClient=n,this.global=i,this.router=r,this.houses=[],this.houseColumns=["details","edit","delete"]}ngOnInit(){this.route.queryParams.subscribe(t=>{this.groupDetails=JSON.parse(JSON.stringify(t)),this.groupDetails.selectedHouse=void 0,this.gid=t.gid,this.getHouses()})}getHouses(){this.authService.getCurrentUser().getIdTokenResult(!0).then(t=>{this.httpClient.postAuth(this.global.baseApiURL+"/v1/getHouses",{gid:this.gid},t).subscribe(t=>{for(let e in t)this.houses.push({details:t[e],houseId:e})},t=>{alert("Something went wrong... (Error: "+t+")")})})}addHouse(){this.groupDetails.selectedHouse=void 0,this.router.navigate(["addHouse/"+this.gid],{queryParams:this.groupDetails})}addMember(t){0==t.length?alert("Please enter email ID"):this.authService.getCurrentUser().getIdTokenResult(!0).then(e=>{this.httpClient.postAuth(this.global.baseApiURL+"/v1/addMember",{email:t,gid:this.gid},e).subscribe(t=>{alert("Member added successfully")},t=>{alert("Something went wrong... (Error: "+t+")")})})}editHouse(t){this.groupDetails.selectedHouse=JSON.stringify(t),this.router.navigate(["addHouse/"+this.gid],{queryParams:this.groupDetails})}deleteHouse(t){alert("Currently not supported...")}}var OC=Qn({encapsulation:0,styles:[[""]],data:{}});function DC(t){return Xs(0,[(t()(),Ls(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),sr(1,16384,null,0,Ed,[Zh,un],null,null),(t()(),Ys(-1,null,["Name"]))],null,null)}function NC(t){return Xs(0,[(t()(),Ls(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),sr(1,16384,null,0,Sd,[Zh,un],null,null),(t()(),Ys(2,null,[" "," "]))],null,(function(t,e){t(e,2,0,e.context.$implicit.details["Family Name"])}))}function PC(t){return Xs(0,[(t()(),Ls(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),sr(1,16384,null,0,Ed,[Zh,un],null,null),(t()(),Ys(-1,null,["Edit"]))],null,null)}function FC(t){return Xs(0,[(t()(),Ls(0,0,null,null,4,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),sr(1,16384,null,0,Sd,[Zh,un],null,null),(t()(),Ls(2,0,null,null,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.editHouse(t.context.$implicit)&&i),i}),i_,n_)),sr(3,180224,null,0,Op,[un,nf,[2,t_]],null,null),(t()(),Ys(-1,0,["Edit"]))],null,(function(t,e){t(e,2,0,Yi(e,3).disabled||null,"NoopAnimations"===Yi(e,3)._animationMode)}))}function LC(t){return Xs(0,[(t()(),Ls(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),sr(1,16384,null,0,Ed,[Zh,un],null,null),(t()(),Ys(-1,null,["Delete"]))],null,null)}function MC(t){return Xs(0,[(t()(),Ls(0,0,null,null,4,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),sr(1,16384,null,0,Sd,[Zh,un],null,null),(t()(),Ls(2,0,null,null,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.deleteHouse(t.context.$implicit)&&i),i}),i_,n_)),sr(3,180224,null,0,Op,[un,nf,[2,t_]],null,null),(t()(),Ys(-1,0,["Delete"]))],null,(function(t,e){t(e,2,0,Yi(e,3).disabled||null,"NoopAnimations"===Yi(e,3)._animationMode)}))}function VC(t){return Xs(0,[(t()(),Ls(0,0,null,null,2,"tr",[["class","mat-row"],["mat-row",""],["role","row"]],null,null,null,u_,l_)),or(6144,null,ud,null,[Id]),sr(2,49152,null,0,Id,[],null,null)],null,null)}function UC(t){return Xs(0,[(t()(),Ls(0,0,null,null,54,"mat-card",[["class","mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,p_,f_)),sr(1,49152,null,0,h_,[[2,t_]],null,null),(t()(),Ls(2,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),sr(3,16384,null,0,c_,[],null,null),(t()(),Ys(-1,null,["House List"])),(t()(),Ls(5,0,null,0,49,"table",[["class","mat-elevation-z8 mat-table"],["mat-table",""]],null,null,null,a_,o_)),or(6144,null,gd,null,[vd]),sr(7,2342912,null,4,vd,[Tn,Re,un,[8,null],[2,Fp],ca,jd],{dataSource:[0,"dataSource"]},null),Bs(603979776,10,{_contentColumnDefs:1}),Bs(603979776,11,{_contentRowDefs:1}),Bs(603979776,12,{_contentHeaderRowDefs:1}),Bs(603979776,13,{_contentFooterRowDefs:1}),or(2048,null,Gh,null,[vd]),(t()(),Ls(13,0,null,null,12,null,null,null,null,null,null,null)),or(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Cd]),sr(15,16384,null,3,Cd,[[2,Gh]],{name:[0,"name"]},null),Bs(603979776,14,{cell:0}),Bs(603979776,15,{headerCell:0}),Bs(603979776,16,{footerCell:0}),or(2048,[[10,4]],Zh,null,[Cd]),(t()(),Fs(0,null,null,2,null,DC)),sr(21,16384,null,0,wd,[Nn],null,null),or(2048,[[15,4]],Wh,null,[wd]),(t()(),Fs(0,null,null,2,null,NC)),sr(24,16384,null,0,bd,[Nn],null,null),or(2048,[[14,4]],$h,null,[bd]),(t()(),Ls(26,0,null,null,12,null,null,null,null,null,null,null)),or(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Cd]),sr(28,16384,null,3,Cd,[[2,Gh]],{name:[0,"name"]},null),Bs(603979776,17,{cell:0}),Bs(603979776,18,{headerCell:0}),Bs(603979776,19,{footerCell:0}),or(2048,[[10,4]],Zh,null,[Cd]),(t()(),Fs(0,null,null,2,null,PC)),sr(34,16384,null,0,wd,[Nn],null,null),or(2048,[[18,4]],Wh,null,[wd]),(t()(),Fs(0,null,null,2,null,FC)),sr(37,16384,null,0,bd,[Nn],null,null),or(2048,[[17,4]],$h,null,[bd]),(t()(),Ls(39,0,null,null,12,null,null,null,null,null,null,null)),or(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Cd]),sr(41,16384,null,3,Cd,[[2,Gh]],{name:[0,"name"]},null),Bs(603979776,20,{cell:0}),Bs(603979776,21,{headerCell:0}),Bs(603979776,22,{footerCell:0}),or(2048,[[10,4]],Zh,null,[Cd]),(t()(),Fs(0,null,null,2,null,LC)),sr(47,16384,null,0,wd,[Nn],null,null),or(2048,[[21,4]],Wh,null,[wd]),(t()(),Fs(0,null,null,2,null,MC)),sr(50,16384,null,0,bd,[Nn],null,null),or(2048,[[20,4]],$h,null,[bd]),(t()(),Fs(0,null,null,2,null,VC)),sr(53,540672,null,0,xd,[Nn,Tn,[2,Gh]],{columns:[0,"columns"]},null),or(2048,[[11,4]],ad,null,[xd])],(function(t,e){var n=e.component;t(e,7,0,n.houses),t(e,15,0,"details"),t(e,28,0,"edit"),t(e,41,0,"delete"),t(e,53,0,n.houseColumns)}),(function(t,e){t(e,0,0,"NoopAnimations"===Yi(e,1)._animationMode)}))}function jC(t){return Xs(0,[(t()(),Ls(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Ls(1,0,null,null,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addHouse()&&i),i}),i_,n_)),sr(2,180224,null,0,Op,[un,nf,[2,t_]],null,null),(t()(),Ys(-1,0,["Add House"])),(t()(),Ls(4,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Ls(5,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Ls(6,0,null,null,20,"mat-card",[["class","mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,p_,f_)),sr(7,49152,null,0,h_,[[2,t_]],null,null),(t()(),Ls(8,0,null,0,14,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Eb,hb)),or(6144,null,lb,null,[ub]),sr(10,7520256,null,9,ub,[un,Re,[2,kp],[2,Fp],[2,ab],jd,Zr,[2,t_]],null,null),Bs(603979776,1,{_controlNonStatic:0}),Bs(335544320,2,{_controlStatic:0}),Bs(603979776,3,{_labelChildNonStatic:0}),Bs(335544320,4,{_labelChildStatic:0}),Bs(603979776,5,{_placeholderChild:0}),Bs(603979776,6,{_errorChildren:1}),Bs(603979776,7,{_hintChildren:1}),Bs(603979776,8,{_prefixChildren:1}),Bs(603979776,9,{_suffixChildren:1}),(t()(),Ls(20,0,[["newMember",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","New Member email ID"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"focus"],[null,"blur"],[null,"input"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==Yi(t,21)._focusChanged(!0)&&i),"blur"===e&&(i=!1!==Yi(t,21)._focusChanged(!1)&&i),"input"===e&&(i=!1!==Yi(t,21)._onInput()&&i),i}),null,null)),sr(21,999424,null,0,Ob,[un,jd,[8,null],[2,Cw],[2,Aw],rp,[8,null],xb,Zr],{placeholder:[0,"placeholder"]},null),or(2048,[[1,4],[2,4]],eb,null,[Ob]),(t()(),Ls(23,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),Ls(24,0,null,0,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addMember(Yi(t,20).value)&&i),i}),i_,n_)),sr(25,180224,null,0,Op,[un,nf,[2,t_]],null,null),(t()(),Ys(-1,0,["Add Member"])),(t()(),Fs(16777216,null,null,1,null,UC)),sr(28,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,21,0,"New Member email ID"),t(e,28,0,0!=n.houses.length)}),(function(t,e){t(e,1,0,Yi(e,2).disabled||null,"NoopAnimations"===Yi(e,2)._animationMode),t(e,6,0,"NoopAnimations"===Yi(e,7)._animationMode),t(e,8,1,["standard"==Yi(e,10).appearance,"fill"==Yi(e,10).appearance,"outline"==Yi(e,10).appearance,"legacy"==Yi(e,10).appearance,Yi(e,10)._control.errorState,Yi(e,10)._canLabelFloat,Yi(e,10)._shouldLabelFloat(),Yi(e,10)._hasFloatingLabel(),Yi(e,10)._hideControlPlaceholder(),Yi(e,10)._control.disabled,Yi(e,10)._control.autofilled,Yi(e,10)._control.focused,"accent"==Yi(e,10).color,"warn"==Yi(e,10).color,Yi(e,10)._shouldForward("untouched"),Yi(e,10)._shouldForward("touched"),Yi(e,10)._shouldForward("pristine"),Yi(e,10)._shouldForward("dirty"),Yi(e,10)._shouldForward("valid"),Yi(e,10)._shouldForward("invalid"),Yi(e,10)._shouldForward("pending"),!Yi(e,10)._animationsEnabled]),t(e,20,0,Yi(e,21)._isServer,Yi(e,21).id,Yi(e,21).placeholder,Yi(e,21).disabled,Yi(e,21).required,Yi(e,21).readonly&&!Yi(e,21)._isNativeSelect||null,Yi(e,21)._ariaDescribedby||null,Yi(e,21).errorState,Yi(e,21).required.toString()),t(e,24,0,Yi(e,25).disabled||null,"NoopAnimations"===Yi(e,25)._animationMode)}))}function BC(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"app-group-home",[],null,null,null,jC,OC)),sr(1,114688,null,0,RC,[Py,Yu,Ny,ty,sh],null,null)],(function(t,e){t(e,1,0)}),null)}var zC=Vi("app-group-home",RC,BC,{},{},[]),qC=Qn({encapsulation:2,styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],data:{}});function HC(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-option-pseudo-checkbox mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null],[2,"_mat-animation-noopable",null]],null,null,WC,$C)),sr(1,49152,null,0,mp,[[2,t_]],{state:[0,"state"],disabled:[1,"disabled"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.selected?"checked":"unchecked",n.disabled)}),(function(t,e){t(e,0,0,"indeterminate"===Yi(e,1).state,"checked"===Yi(e,1).state,Yi(e,1).disabled,"NoopAnimations"===Yi(e,1)._animationMode)}))}function GC(t){return Xs(2,[(t()(),Fs(16777216,null,null,1,null,HC)),sr(1,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Ls(2,0,null,null,1,"span",[["class","mat-option-text"]],null,null,null,null,null)),$s(null,0),(t()(),Ls(4,0,null,null,1,"div",[["class","mat-option-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),sr(5,212992,null,0,fp,[un,Zr,jd,[2,dp],[2,t_]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.multiple),t(e,5,0,n.disabled||n.disableRipple,n._getHostElement())}),(function(t,e){t(e,4,0,Yi(e,5).unbounded)}))}var $C=Qn({encapsulation:2,styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],data:{}});function WC(t){return Xs(2,[],null,null)}class KC{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Mh(-this._previousScrollPosition.left),t.style.top=Mh(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function YC(){return Error("Scroll strategy has already been attached.")}class ZC{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw YC();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class QC{enable(){}disable(){}attach(){}}function XC(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function JC(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class tE{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw YC();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();XC(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let eE=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new QC,this.close=t=>new ZC(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new KC(this._viewportRuler,this._document),this.reposition=t=>new tE(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275prov=ut({factory:function(){return new t(Rt(Lv),Rt(Mv),Rt(Zr),Rt(ca))},token:t,providedIn:"root"}),t})();class nE{constructor(t){if(this.scrollStrategy=new QC,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class iE{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class rE{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function sE(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "top", "bottom" or "center".`)}function oE(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "start", "end" or "center".`)}let aE=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275prov=ut({factory:function(){return new t(Rt(ca))},token:t,providedIn:"root"}),t})();const lE=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let uE=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||lE){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),lE?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275prov=ut({factory:function(){return new t(Rt(ca),Rt(jd))},token:t,providedIn:"root"}),t})();class cE{constructor(t,e,n,i,r,s,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new x,this._attachments=new x,this._detachments=new x,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(bl(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Mh(this._config.width),t.height=Mh(this._config.height),t.minWidth=Mh(this._config.minWidth),t.minHeight=Mh(this._config.minHeight),t.maxWidth=Mh(this._config.maxWidth),t.maxHeight=Mh(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;Lh(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Bh(W(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const hE=/([A-Za-z%]+)$/;class dE{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new x,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fE(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){let{x:r,y:s}=t,o=this._getOffset(i,"x"),a=this._getOffset(i,"y");o&&(r+=o),a&&(s+=a);let l=0-s,u=s+e.height-n.height,c=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,l,u),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,s=pE(this._overlayRef.getConfig().minHeight),o=pE(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.right,0),s=Math.max(t.y+e.height-i.bottom,0),o=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let l=0,u=0;return l=e.width<=i.width?a||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,u=e.height<=i.height?o||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:l,y:u},{x:t.x+l,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new rE(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,l,u;if("top"===e.overlayY)s=t.y,r=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-i/2)}return{top:s,left:l,bottom:o,right:u,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=Mh(n.height),i.top=Mh(n.top),i.bottom=Mh(n.bottom),i.width=Mh(n.width),i.left=Mh(n.left),i.right=Mh(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=Mh(t)),r&&(i.maxWidth=Mh(r))}this._lastBoundingBoxSize=n,fE(this._boundingBox.style,i)}_resetBoundingBoxStyles(){fE(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fE(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();fE(n,this._getExactOverlayY(e,t,i)),fE(n,this._getExactOverlayX(e,t,i))}else n.position="static";let o="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),s.maxHeight&&(i?n.maxHeight=Mh(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=Mh(s.maxWidth):r&&(n.maxWidth="")),fE(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=Mh(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Mh(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:JC(t,n),isOriginOutsideView:XC(t,n),isOverlayClipped:JC(e,n),isOverlayOutsideView:XC(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{oE("originX",t.originX),sE("originY",t.originY),oE("overlayX",t.overlayX),sE("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Lh(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof un)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function fE(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function pE(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(hE);return n&&"px"!==n?null:parseFloat(e)}return t||null}class mE{constructor(t,e,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new dE(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new iE(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class gE{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:s,maxHeight:o}=n,a=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let _E=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new gE}connectedTo(t,e,n){return new mE(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new dE(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275prov=ut({factory:function(){return new t(Rt(Mv),Rt(ca),Rt(jd),Rt(uE))},token:t,providedIn:"root"}),t})(),yE=0;class vE{constructor(t,e,n,i,r,s,o,a,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new nE(t);return r.direction=r.direction||this._directionality.value,new cE(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+yE++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ms)),new Jy(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}const bE=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],wE=new Et("cdk-connected-overlay-scroll-strategy");class CE{constructor(t){this.elementRef=t}}class EE{constructor(t,e,n,i,r){this._overlay=t,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new kr,this.positionChange=new kr,this.attach=new kr,this.detach=new kr,this.overlayKeydown=new kr,this._templatePortal=new Zy(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Ph(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Ph(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Ph(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Ph(t)}get push(){return this._push}set push(t){this._push=Ph(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=bE),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||Td(t)||(t.preventDefault(),this._detachOverlay())})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new nE({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}function SE(t){return()=>t.scrollStrategies.reposition()}class xE{}let IE=0;const kE=new Et("mat-select-scroll-strategy");function TE(t){return()=>t.scrollStrategies.reposition()}const AE=new Et("MAT_SELECT_CONFIG");class RE{constructor(t,e){this.source=t,this.value=e}}class OE{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const DE=tp(ep(Xf(np(OE))));class NE extends DE{constructor(t,e,n,i,r,s,o,a,l,u,c,h,d,f){super(r,i,o,a,u),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=l,this.ngControl=u,this._liveAnnouncer=d,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+IE++,this._destroy=new x,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new x,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=tl(()=>{const t=this.options;return t?t.changes.pipe(Rl(t),Il(()=>W(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(bl(1),Il(()=>this.optionSelectionChanges))}),this.openedChange=new kr,this._openedStream=this.openedChange.pipe(nl(t=>t),M(()=>{})),this._closedStream=this.openedChange.pipe(nl(t=>!t),M(()=>{})),this.selectionChange=new kr,this.valueChange=new kr,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(c)||0,this.id=this.id,f&&(null!=f.disableOptionCentering&&(this.disableOptionCentering=f.disableOptionCentering),null!=f.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=f.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Ph(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Ph(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Ph(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Fh(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new jh(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(sv(),Bh(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Bh(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Bh(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Rl(null),Bh(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(bl(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!Td(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;36===e||35===e?(36===e?r.setFirstItemActive():r.setLastItemActive(),t.preventDefault()):r.onKeydown(t);const i=this.selected;i&&n!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(36===n||35===n)t.preventDefault(),36===n?e.setFirstItemActive():e.setLastItemActive();else if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||Td(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(bl(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.setActiveItem(e):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return ne()&&console.warn(n),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new Kd(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Bh(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Bh(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=W(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Bh(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),W(...this.options.map(t=>t._stateChanges)).pipe(Bh(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new RE(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=xp(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=function(t,e,n,i){const r=t*e;return r<n?r:r+e>n+256?Math.max(0,r-256+e):n}(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,i)=>void 0!==e?e:t===n?i:void 0,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),i=e*t-n;let r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=xp(r,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(r,s,i),this._offsetY=this._calculateOverlayOffsetY(r,s,i),this._checkOverlayWithinViewport(i)}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const s=0-(t.left+r-(n?i:0)),o=t.right+r-e.width+(n?0:i);s>0?r+=s+8:o>0&&(r-=o+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,s=Math.floor(256/i);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-s))*i+(i-(this._getItemCount()*i-256)%i):e-i/2,Math.round(-1*o-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,256)-s-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):s>i?this._adjustPanelDown(s,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}class PE{}var FE=Qn({encapsulation:2,styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],data:{animation:[{type:7,name:"transformPanelWrap",definitions:[{type:1,expr:"* => void",animation:{type:11,selector:"@transformPanel",animation:[{type:9,options:null}],options:{optional:!0}},options:null}],options:{}},{type:7,name:"transformPanel",definitions:[{type:0,name:"void",styles:{type:6,styles:{transform:"scaleY(0.8)",minWidth:"100%",opacity:0},offset:null},options:void 0},{type:0,name:"showing",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:0,name:"showing-multiple",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}}]}});function LE(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"span",[["class","mat-select-placeholder"]],null,null,null,null,null)),(t()(),Ys(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.placeholder||"\xa0")}))}function ME(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ys(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.triggerValue||"\xa0")}))}function VE(t){return Xs(0,[$s(null,0),(t()(),Fs(0,null,null,0))],null,null)}function UE(t){return Xs(0,[(t()(),Ls(0,0,null,null,5,"span",[["class","mat-select-value-text"]],null,null,null,null,null)),sr(1,16384,null,0,ja,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Fs(16777216,null,null,1,null,ME)),sr(3,16384,null,0,za,[Fn,Nn,ja],null,null),(t()(),Fs(16777216,null,null,1,null,VE)),sr(5,278528,null,0,Ba,[Fn,Nn,ja],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){t(e,1,0,!!e.component.customTrigger),t(e,5,0,!0)}),null)}function jE(t){return Xs(0,[(t()(),Ls(0,0,null,null,3,"div",[["class","mat-select-panel-wrap"]],[[24,"@transformPanelWrap",0]],null,null,null,null)),(t()(),Ls(1,0,[[2,0],["panel",1]],null,2,"div",[],[[1,"id",0],[24,"@transformPanel",0],[4,"transformOrigin",null],[4,"font-size","px"]],[[null,"@transformPanel.done"],[null,"keydown"]],(function(t,e,n){var i=!0,r=t.component;return"@transformPanel.done"===e&&(i=!1!==r._panelDoneAnimatingStream.next(n.toState)&&i),"keydown"===e&&(i=!1!==r._handleKeydown(n)&&i),i}),null,null)),sr(2,278528,null,0,Da,[Tn,An,un,fn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),$s(null,1)],(function(t,e){var n=e.component;t(e,2,0,xi(1,"mat-select-panel ",n._getPanelTheme(),""),n.panelClass)}),(function(t,e){var n=e.component;t(e,0,0,void 0),t(e,1,0,n.id+"-panel",n.multiple?"showing-multiple":"showing",n._transformOrigin,n._triggerFontSize)}))}function BE(t){return Xs(2,[Bs(671088640,1,{trigger:0}),Bs(671088640,2,{panel:0}),Bs(671088640,3,{overlayDir:0}),(t()(),Ls(3,0,[[1,0],["trigger",1]],null,9,"div",[["aria-hidden","true"],["cdk-overlay-origin",""],["class","mat-select-trigger"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggle()&&i),i}),null,null)),sr(4,16384,[["origin",4]],0,CE,[un],null,null),(t()(),Ls(5,0,null,null,5,"div",[["class","mat-select-value"]],null,null,null,null,null)),sr(6,16384,null,0,ja,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Fs(16777216,null,null,1,null,LE)),sr(8,278528,null,0,Ba,[Fn,Nn,ja],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Fs(16777216,null,null,1,null,UE)),sr(10,278528,null,0,Ba,[Fn,Nn,ja],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ls(11,0,null,null,1,"div",[["class","mat-select-arrow-wrapper"]],null,null,null,null,null)),(t()(),Ls(12,0,null,null,0,"div",[["class","mat-select-arrow"]],null,null,null,null,null)),(t()(),Fs(16777216,null,null,1,(function(t,e,n){var i=!0,r=t.component;return"backdropClick"===e&&(i=!1!==r.close()&&i),"attach"===e&&(i=!1!==r._onAttached()&&i),"detach"===e&&(i=!1!==r.close()&&i),i}),jE)),sr(14,671744,[[3,4]],0,EE,[vE,Nn,Fn,wE,[2,Fp]],{origin:[0,"origin"],positions:[1,"positions"],offsetY:[2,"offsetY"],minWidth:[3,"minWidth"],backdropClass:[4,"backdropClass"],scrollStrategy:[5,"scrollStrategy"],open:[6,"open"],hasBackdrop:[7,"hasBackdrop"],lockPosition:[8,"lockPosition"]},{backdropClick:"backdropClick",attach:"attach",detach:"detach"})],(function(t,e){var n=e.component;t(e,6,0,n.empty),t(e,8,0,!0),t(e,10,0,!1),t(e,14,0,Yi(e,4),n._positions,n._offsetY,null==n._triggerRect?null:n._triggerRect.width,"cdk-overlay-transparent-backdrop",n._scrollStrategy,n.panelOpen,"","")}),null)}var zE=n("mrSG");class qE{constructor(t,e,n,i,r){this.authService=t,this.route=e,this.httpClient=n,this.global=i,this.router=r,this.newHouse={subGroup:"",persons:[]}}ngOnInit(){this.route.queryParams.subscribe(t=>{this.gid=t.gid,this.groupDetails=t,this.inputDetails=t.inputDetails,this.personDetails=t.personDetails,this.subGroups=t.subGroups;let e=JSON.parse(t.selectedHouse);e&&(this.newHouse=e.details,this.houseId=e.houseId)})}addHouse(){return Object(zE.__awaiter)(this,void 0,void 0,(function*(){let t=this.authService.getCurrentUser();console.log(this.image),(new FormData).append("file",this.image),new FileReader;let e=yield new Promise(t=>{let e=new FileReader;e.onload=n=>t(e.result),this.image?e.readAsDataURL(this.image):t(null)});t.getIdTokenResult(!0).then(t=>{const n={headers:new iy({"Content-Type":"application/json",Authorization:t.token})};this.httpClient.post(this.global.baseApiURL+"/v1/addHouse",{houseId:this.houseId,houseDetails:JSON.stringify(this.newHouse),image:e,imageType:this.image?this.image.type:null,gid:this.gid},n).subscribe(t=>{alert("House added successfully"),this.router.navigate(["home"])},t=>{alert("Something went wrong... (Error: "+t+")")})})}))}onChange(t){this.image=t.srcElement.files[0]}addPerson(){this.newHouse.persons.push({})}}var HE=Qn({encapsulation:0,styles:[[""]],data:{}});function GE(t){return Xs(0,[(t()(),Ls(0,0,null,null,2,"mat-option",[["class","mat-option mat-focus-indicator"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Yi(t,1)._selectViaInteraction()&&i),"keydown"===e&&(i=!1!==Yi(t,1)._handleKeydown(n)&&i),i}),GC,qC)),sr(1,8568832,[[10,4]],0,Sp,[un,Re,[2,Ep],[2,bp]],{value:[0,"value"]},null),(t()(),Ys(2,0,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit)}),(function(t,e){t(e,0,0,Yi(e,1)._getTabIndex(),Yi(e,1).selected,Yi(e,1).multiple,Yi(e,1).active,Yi(e,1).id,Yi(e,1)._getAriaSelected(),Yi(e,1).disabled.toString(),Yi(e,1).disabled),t(e,2,0,e.context.$implicit)}))}function $E(t){return Xs(0,[(t()(),Ls(0,0,null,null,21,"div",[],null,null,null,null,null)),(t()(),Ls(1,0,null,null,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Eb,hb)),or(6144,null,lb,null,[ub]),sr(3,7520256,null,9,ub,[un,Re,[2,kp],[2,Fp],[2,ab],jd,Zr,[2,t_]],null,null),Bs(603979776,13,{_controlNonStatic:0}),Bs(335544320,14,{_controlStatic:0}),Bs(603979776,15,{_labelChildNonStatic:0}),Bs(335544320,16,{_labelChildStatic:0}),Bs(603979776,17,{_placeholderChild:0}),Bs(603979776,18,{_errorChildren:1}),Bs(603979776,19,{_hintChildren:1}),Bs(603979776,20,{_prefixChildren:1}),Bs(603979776,21,{_suffixChildren:1}),(t()(),Ls(13,0,null,1,7,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Yi(t,14)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Yi(t,14).onTouched()&&i),"compositionstart"===e&&(i=!1!==Yi(t,14)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Yi(t,14)._compositionEnd(n.target.value)&&i),"focus"===e&&(i=!1!==Yi(t,18)._focusChanged(!0)&&i),"blur"===e&&(i=!1!==Yi(t,18)._focusChanged(!1)&&i),"input"===e&&(i=!1!==Yi(t,18)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.newHouse[t.context.$implicit]=n)&&i),i}),null,null)),sr(14,16384,null,0,Mb,[fn,un,[2,Lb]],null,null),or(1024,null,Fb,(function(t){return[t]}),[Mb]),sr(16,671744,null,0,kw,[[8,null],[8,null],[8,null],[6,Fb]],{model:[0,"model"]},{update:"ngModelChange"}),or(2048,null,Bb,null,[kw]),sr(18,999424,null,0,Ob,[un,jd,[6,Bb],[2,Cw],[2,Aw],rp,[8,null],xb,Zr],{placeholder:[0,"placeholder"]},null),sr(19,16384,null,0,qb,[[4,Bb]],null,null),or(2048,[[13,4],[14,4]],eb,null,[Ob]),(t()(),Ls(21,0,null,null,0,"br",[],null,null,null,null,null))],(function(t,e){t(e,16,0,e.component.newHouse[e.context.$implicit]),t(e,18,0,xi(1,"",e.context.$implicit,""))}),(function(t,e){t(e,1,1,["standard"==Yi(e,3).appearance,"fill"==Yi(e,3).appearance,"outline"==Yi(e,3).appearance,"legacy"==Yi(e,3).appearance,Yi(e,3)._control.errorState,Yi(e,3)._canLabelFloat,Yi(e,3)._shouldLabelFloat(),Yi(e,3)._hasFloatingLabel(),Yi(e,3)._hideControlPlaceholder(),Yi(e,3)._control.disabled,Yi(e,3)._control.autofilled,Yi(e,3)._control.focused,"accent"==Yi(e,3).color,"warn"==Yi(e,3).color,Yi(e,3)._shouldForward("untouched"),Yi(e,3)._shouldForward("touched"),Yi(e,3)._shouldForward("pristine"),Yi(e,3)._shouldForward("dirty"),Yi(e,3)._shouldForward("valid"),Yi(e,3)._shouldForward("invalid"),Yi(e,3)._shouldForward("pending"),!Yi(e,3)._animationsEnabled]),t(e,13,1,[Yi(e,18)._isServer,Yi(e,18).id,Yi(e,18).placeholder,Yi(e,18).disabled,Yi(e,18).required,Yi(e,18).readonly&&!Yi(e,18)._isNativeSelect||null,Yi(e,18)._ariaDescribedby||null,Yi(e,18).errorState,Yi(e,18).required.toString(),Yi(e,19).ngClassUntouched,Yi(e,19).ngClassTouched,Yi(e,19).ngClassPristine,Yi(e,19).ngClassDirty,Yi(e,19).ngClassValid,Yi(e,19).ngClassInvalid,Yi(e,19).ngClassPending])}))}function WE(t){return Xs(0,[(t()(),Ls(0,0,null,null,21,"div",[],null,null,null,null,null)),(t()(),Ls(1,0,null,null,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Eb,hb)),or(6144,null,lb,null,[ub]),sr(3,7520256,null,9,ub,[un,Re,[2,kp],[2,Fp],[2,ab],jd,Zr,[2,t_]],null,null),Bs(603979776,22,{_controlNonStatic:0}),Bs(335544320,23,{_controlStatic:0}),Bs(603979776,24,{_labelChildNonStatic:0}),Bs(335544320,25,{_labelChildStatic:0}),Bs(603979776,26,{_placeholderChild:0}),Bs(603979776,27,{_errorChildren:1}),Bs(603979776,28,{_hintChildren:1}),Bs(603979776,29,{_prefixChildren:1}),Bs(603979776,30,{_suffixChildren:1}),(t()(),Ls(13,0,null,1,7,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Yi(t,14)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Yi(t,14).onTouched()&&i),"compositionstart"===e&&(i=!1!==Yi(t,14)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Yi(t,14)._compositionEnd(n.target.value)&&i),"focus"===e&&(i=!1!==Yi(t,18)._focusChanged(!0)&&i),"blur"===e&&(i=!1!==Yi(t,18)._focusChanged(!1)&&i),"input"===e&&(i=!1!==Yi(t,18)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.newHouse.persons[t.parent.context.index][t.context.$implicit]=n)&&i),i}),null,null)),sr(14,16384,null,0,Mb,[fn,un,[2,Lb]],null,null),or(1024,null,Fb,(function(t){return[t]}),[Mb]),sr(16,671744,null,0,kw,[[8,null],[8,null],[8,null],[6,Fb]],{model:[0,"model"]},{update:"ngModelChange"}),or(2048,null,Bb,null,[kw]),sr(18,999424,null,0,Ob,[un,jd,[6,Bb],[2,Cw],[2,Aw],rp,[8,null],xb,Zr],{placeholder:[0,"placeholder"]},null),sr(19,16384,null,0,qb,[[4,Bb]],null,null),or(2048,[[22,4],[23,4]],eb,null,[Ob]),(t()(),Ls(21,0,null,null,0,"br",[],null,null,null,null,null))],(function(t,e){t(e,16,0,e.component.newHouse.persons[e.parent.context.index][e.context.$implicit]),t(e,18,0,xi(1,"",e.context.$implicit,""))}),(function(t,e){t(e,1,1,["standard"==Yi(e,3).appearance,"fill"==Yi(e,3).appearance,"outline"==Yi(e,3).appearance,"legacy"==Yi(e,3).appearance,Yi(e,3)._control.errorState,Yi(e,3)._canLabelFloat,Yi(e,3)._shouldLabelFloat(),Yi(e,3)._hasFloatingLabel(),Yi(e,3)._hideControlPlaceholder(),Yi(e,3)._control.disabled,Yi(e,3)._control.autofilled,Yi(e,3)._control.focused,"accent"==Yi(e,3).color,"warn"==Yi(e,3).color,Yi(e,3)._shouldForward("untouched"),Yi(e,3)._shouldForward("touched"),Yi(e,3)._shouldForward("pristine"),Yi(e,3)._shouldForward("dirty"),Yi(e,3)._shouldForward("valid"),Yi(e,3)._shouldForward("invalid"),Yi(e,3)._shouldForward("pending"),!Yi(e,3)._animationsEnabled]),t(e,13,1,[Yi(e,18)._isServer,Yi(e,18).id,Yi(e,18).placeholder,Yi(e,18).disabled,Yi(e,18).required,Yi(e,18).readonly&&!Yi(e,18)._isNativeSelect||null,Yi(e,18)._ariaDescribedby||null,Yi(e,18).errorState,Yi(e,18).required.toString(),Yi(e,19).ngClassUntouched,Yi(e,19).ngClassTouched,Yi(e,19).ngClassPristine,Yi(e,19).ngClassDirty,Yi(e,19).ngClassValid,Yi(e,19).ngClassInvalid,Yi(e,19).ngClassPending])}))}function KE(t){return Xs(0,[(t()(),Ls(0,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),Ls(1,0,null,null,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),sr(2,16384,null,0,c_,[],null,null),(t()(),Ys(3,null,["Person ",""])),(t()(),Ls(4,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Fs(16777216,null,null,1,null,WE)),sr(6,278528,null,0,Pa,[Fn,Nn,Tn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,6,0,e.component.personDetails)}),(function(t,e){t(e,3,0,e.context.index+1)}))}function YE(t){return Xs(0,[(t()(),Ls(0,0,null,null,45,"mat-card",[["class","mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,p_,f_)),sr(1,49152,null,0,h_,[[2,t_]],null,null),(t()(),Ls(2,0,null,0,29,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Eb,hb)),sr(3,7520256,null,9,ub,[un,Re,[2,kp],[2,Fp],[2,ab],jd,Zr,[2,t_]],null,null),Bs(603979776,1,{_controlNonStatic:0}),Bs(335544320,2,{_controlStatic:0}),Bs(603979776,3,{_labelChildNonStatic:0}),Bs(335544320,4,{_labelChildStatic:0}),Bs(603979776,5,{_placeholderChild:0}),Bs(603979776,6,{_errorChildren:1}),Bs(603979776,7,{_hintChildren:1}),Bs(603979776,8,{_prefixChildren:1}),Bs(603979776,9,{_suffixChildren:1}),or(2048,null,lb,null,[ub]),(t()(),Ls(14,0,null,3,2,"mat-label",[],null,null,null,null,null)),sr(15,16384,[[3,4],[4,4]],0,ib,[],null,null),(t()(),Ys(-1,null,["Select Sub-Group"])),(t()(),Ls(17,0,null,1,11,"mat-select",[["class","mat-select"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(t,e,n){var i=!0,r=t.component;return"keydown"===e&&(i=!1!==Yi(t,21)._handleKeydown(n)&&i),"focus"===e&&(i=!1!==Yi(t,21)._onFocus()&&i),"blur"===e&&(i=!1!==Yi(t,21)._onBlur()&&i),"ngModelChange"===e&&(i=!1!==(r.newHouse.subGroup=n)&&i),i}),BE,FE)),or(6144,null,Ep,null,[NE]),sr(19,671744,null,0,kw,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),or(2048,null,Bb,null,[kw]),sr(21,2080768,null,3,NE,[Mv,Re,Zr,rp,un,[2,Fp],[2,Cw],[2,Aw],[2,lb],[6,Bb],[8,null],kE,Xd,[2,AE]],null,null),Bs(603979776,10,{options:1}),Bs(603979776,11,{optionGroups:1}),Bs(603979776,12,{customTrigger:0}),sr(25,16384,null,0,qb,[[4,Bb]],null,null),or(2048,[[1,4],[2,4]],eb,null,[NE]),(t()(),Fs(16777216,null,1,1,null,GE)),sr(28,278528,null,0,Pa,[Fn,Nn,Tn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ls(29,0,[["subGroup",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Sub Group"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"focus"],[null,"blur"],[null,"input"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==Yi(t,30)._focusChanged(!0)&&i),"blur"===e&&(i=!1!==Yi(t,30)._focusChanged(!1)&&i),"input"===e&&(i=!1!==Yi(t,30)._onInput()&&i),i}),null,null)),sr(30,999424,null,0,Ob,[un,jd,[8,null],[2,Cw],[2,Aw],rp,[8,null],xb,Zr],{placeholder:[0,"placeholder"]},null),or(2048,[[1,4],[2,4]],eb,null,[Ob]),(t()(),Ls(32,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),Fs(16777216,null,0,1,null,$E)),sr(34,278528,null,0,Pa,[Fn,Nn,Tn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ls(35,0,null,0,0,"input",[["accept","image/png, image/jpeg"],["id","input-file-id"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChange(n)&&i),i}),null,null)),(t()(),Ls(36,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),Ls(37,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),Fs(16777216,null,0,1,null,KE)),sr(39,278528,null,0,Pa,[Fn,Nn,Tn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ls(40,0,null,0,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addPerson()&&i),i}),i_,n_)),sr(41,180224,null,0,Op,[un,nf,[2,t_]],null,null),(t()(),Ys(-1,0,["Add Person"])),(t()(),Ls(43,0,null,0,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addHouse()&&i),i}),i_,n_)),sr(44,180224,null,0,Op,[un,nf,[2,t_]],null,null),(t()(),Ys(-1,0,["Add House"]))],(function(t,e){var n=e.component;t(e,19,0,n.newHouse.subGroup),t(e,21,0),t(e,28,0,n.subGroups),t(e,30,0,"Sub Group"),t(e,34,0,n.inputDetails),t(e,39,0,n.newHouse.persons)}),(function(t,e){t(e,0,0,"NoopAnimations"===Yi(e,1)._animationMode),t(e,2,1,["standard"==Yi(e,3).appearance,"fill"==Yi(e,3).appearance,"outline"==Yi(e,3).appearance,"legacy"==Yi(e,3).appearance,Yi(e,3)._control.errorState,Yi(e,3)._canLabelFloat,Yi(e,3)._shouldLabelFloat(),Yi(e,3)._hasFloatingLabel(),Yi(e,3)._hideControlPlaceholder(),Yi(e,3)._control.disabled,Yi(e,3)._control.autofilled,Yi(e,3)._control.focused,"accent"==Yi(e,3).color,"warn"==Yi(e,3).color,Yi(e,3)._shouldForward("untouched"),Yi(e,3)._shouldForward("touched"),Yi(e,3)._shouldForward("pristine"),Yi(e,3)._shouldForward("dirty"),Yi(e,3)._shouldForward("valid"),Yi(e,3)._shouldForward("invalid"),Yi(e,3)._shouldForward("pending"),!Yi(e,3)._animationsEnabled]),t(e,17,1,[Yi(e,21).id,Yi(e,21).tabIndex,Yi(e,21)._getAriaLabel(),Yi(e,21)._getAriaLabelledby(),Yi(e,21).required.toString(),Yi(e,21).disabled.toString(),Yi(e,21).errorState,Yi(e,21).panelOpen?Yi(e,21)._optionIds:null,Yi(e,21).multiple,Yi(e,21)._ariaDescribedby||null,Yi(e,21)._getAriaActiveDescendant(),Yi(e,21).disabled,Yi(e,21).errorState,Yi(e,21).required,Yi(e,21).empty,Yi(e,25).ngClassUntouched,Yi(e,25).ngClassTouched,Yi(e,25).ngClassPristine,Yi(e,25).ngClassDirty,Yi(e,25).ngClassValid,Yi(e,25).ngClassInvalid,Yi(e,25).ngClassPending]),t(e,29,0,Yi(e,30)._isServer,Yi(e,30).id,Yi(e,30).placeholder,Yi(e,30).disabled,Yi(e,30).required,Yi(e,30).readonly&&!Yi(e,30)._isNativeSelect||null,Yi(e,30)._ariaDescribedby||null,Yi(e,30).errorState,Yi(e,30).required.toString()),t(e,40,0,Yi(e,41).disabled||null,"NoopAnimations"===Yi(e,41)._animationMode),t(e,43,0,Yi(e,44).disabled||null,"NoopAnimations"===Yi(e,44)._animationMode)}))}function ZE(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"app-add-house",[],null,null,null,YE,HE)),sr(1,114688,null,0,qE,[Py,Yu,_y,ty,sh],null,null)],(function(t,e){t(e,1,0)}),null)}var QE=Vi("app-add-house",qE,ZE,{},{},[]);class XE{constructor(t,e){this.authService=t,this.router=e}ngOnInit(){}goToDashboard(){this.authService.isLoggedIn()?this.router.navigate(["home"]):this.router.navigate(["signin"])}}var JE=Qn({encapsulation:0,styles:[[""]],data:{}});function tS(t){return Xs(0,[(t()(),Ls(0,0,null,null,125,"html",[["lang","en"]],null,null,null,null,null)),(t()(),Ls(1,0,null,null,9,"head",[],null,null,null,null,null)),(t()(),Ls(2,0,null,null,0,"meta",[["charset","utf-8"]],null,null,null,null,null)),(t()(),Ls(3,0,null,null,0,"meta",[["content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","viewport"]],null,null,null,null,null)),(t()(),Ls(4,0,null,null,0,"meta",[["content",""],["name","description"]],null,null,null,null,null)),(t()(),Ls(5,0,null,null,0,"meta",[["content",""],["name","author"]],null,null,null,null,null)),(t()(),Ls(6,0,null,null,1,"title",[],null,null,null,null,null)),(t()(),Ys(-1,null,["Grayscale - Start Bootstrap Theme"])),(t()(),Ls(8,0,null,null,0,"link",[["href","assets/img/favicon.ico"],["rel","icon"],["type","image/x-icon"]],null,null,null,null,null)),(t()(),Ls(9,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css?family=Varela+Round"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Ls(10,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Ls(11,0,null,null,114,"body",[["id","page-top"]],null,null,null,null,null)),(t()(),Ls(12,0,null,null,3,"nav",[["class","navbar navbar-expand-lg navbar-light fixed-top"],["id","mainNav"]],null,null,null,null,null)),(t()(),Ls(13,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(t()(),Ls(14,0,null,null,1,"a",[["class","navbar-brand js-scroll-trigger"]],null,null,null,null,null)),(t()(),Ys(-1,null,["DRV Data Labs"])),(t()(),Ls(16,0,null,null,8,"header",[["class","masthead"]],null,null,null,null,null)),(t()(),Ls(17,0,null,null,7,"div",[["class","container d-flex h-100 align-items-center"]],null,null,null,null,null)),(t()(),Ls(18,0,null,null,6,"div",[["class","mx-auto text-center"]],null,null,null,null,null)),(t()(),Ls(19,0,null,null,1,"h1",[["class","mx-auto my-0 text-uppercase"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Directory"])),(t()(),Ls(21,0,null,null,1,"h2",[["class","text-white-50 mx-auto mt-2 mb-5"]],null,null,null,null,null)),(t()(),Ys(-1,null,["A cloud solution to store the details of a group or community."])),(t()(),Ls(23,0,null,null,1,"a",[["class","btn btn-primary js-scroll-trigger"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goToDashboard()&&i),i}),null,null)),(t()(),Ys(-1,null,["Go to Dashboard"])),(t()(),Ls(25,0,null,null,16,"section",[["class","about-section text-center"],["id","about"]],null,null,null,null,null)),(t()(),Ls(26,0,null,null,15,"div",[["class","container"]],null,null,null,null,null)),(t()(),Ls(27,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Ls(28,0,null,null,4,"div",[["class","col-lg-8 mx-auto"]],null,null,null,null,null)),(t()(),Ls(29,0,null,null,1,"h2",[["class","text-white mb-4"]],null,null,null,null,null)),(t()(),Ys(-1,null,["About"])),(t()(),Ls(31,0,null,null,1,"p",[["class","text-white-50"]],null,null,null,null,null)),(t()(),Ys(-1,null,[" Directory is a cloud based Directory that can be used to store the details of a group or community. "])),(t()(),Ls(33,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(t()(),Ls(34,0,null,null,7,"div",[["class","col-lg-8 mx-auto"]],null,null,null,null,null)),(t()(),Ls(35,0,null,null,1,"h2",[["class","text-white mb-4"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Features"])),(t()(),Ls(37,0,null,null,4,"ul",[["align","left"],["class","text-white-50"]],null,null,null,null,null)),(t()(),Ls(38,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Ys(-1,null,["Subsections are possible."])),(t()(),Ls(40,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Ys(-1,null,["Photos can be given to each house."])),(t()(),Ls(42,0,null,null,34,"section",[["class","projects-section bg-light"],["id","projects"],["style","display:none;"]],null,null,null,null,null)),(t()(),Ls(43,0,null,null,33,"div",[["class","container"]],null,null,null,null,null)),(t()(),Ls(44,0,null,null,8,"div",[["class","row align-items-center no-gutters mb-4 mb-lg-5"]],null,null,null,null,null)),(t()(),Ls(45,0,null,null,1,"div",[["class","col-xl-8 col-lg-7"]],null,null,null,null,null)),(t()(),Ls(46,0,null,null,0,"img",[["alt",""],["class","img-fluid mb-3 mb-lg-0"],["src","assets/img/bg-masthead.jpg"]],null,null,null,null,null)),(t()(),Ls(47,0,null,null,5,"div",[["class","col-xl-4 col-lg-5"]],null,null,null,null,null)),(t()(),Ls(48,0,null,null,4,"div",[["class","featured-text text-center text-lg-left"]],null,null,null,null,null)),(t()(),Ls(49,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),Ys(-1,null,["Shoreline"])),(t()(),Ls(51,0,null,null,1,"p",[["class","text-black-50 mb-0"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Grayscale is open source and MIT licensed. This means you can use it for any project - even commercial projects! Download it, customize it, and publish your website!"])),(t()(),Ls(53,0,null,null,11,"div",[["class","row justify-content-center no-gutters mb-5 mb-lg-0"]],null,null,null,null,null)),(t()(),Ls(54,0,null,null,1,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),Ls(55,0,null,null,0,"img",[["alt",""],["class","img-fluid"],["src","assets/img/demo-image-01.jpg"]],null,null,null,null,null)),(t()(),Ls(56,0,null,null,8,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),Ls(57,0,null,null,7,"div",[["class","bg-black text-center h-100 project"]],null,null,null,null,null)),(t()(),Ls(58,0,null,null,6,"div",[["class","d-flex h-100"]],null,null,null,null,null)),(t()(),Ls(59,0,null,null,5,"div",[["class","project-text w-100 my-auto text-center text-lg-left"]],null,null,null,null,null)),(t()(),Ls(60,0,null,null,1,"h4",[["class","text-white"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Misty"])),(t()(),Ls(62,0,null,null,1,"p",[["class","mb-0 text-white-50"]],null,null,null,null,null)),(t()(),Ys(-1,null,["An example of where you can put an image of a project, or anything else, along with a description."])),(t()(),Ls(64,0,null,null,0,"hr",[["class","d-none d-lg-block mb-0 ml-0"]],null,null,null,null,null)),(t()(),Ls(65,0,null,null,11,"div",[["class","row justify-content-center no-gutters"]],null,null,null,null,null)),(t()(),Ls(66,0,null,null,1,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),Ls(67,0,null,null,0,"img",[["alt",""],["class","img-fluid"],["src","assets/img/demo-image-02.jpg"]],null,null,null,null,null)),(t()(),Ls(68,0,null,null,8,"div",[["class","col-lg-6 order-lg-first"]],null,null,null,null,null)),(t()(),Ls(69,0,null,null,7,"div",[["class","bg-black text-center h-100 project"]],null,null,null,null,null)),(t()(),Ls(70,0,null,null,6,"div",[["class","d-flex h-100"]],null,null,null,null,null)),(t()(),Ls(71,0,null,null,5,"div",[["class","project-text w-100 my-auto text-center text-lg-right"]],null,null,null,null,null)),(t()(),Ls(72,0,null,null,1,"h4",[["class","text-white"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Mountains"])),(t()(),Ls(74,0,null,null,1,"p",[["class","mb-0 text-white-50"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Another example of a project with its respective description. These sections work well responsively as well, try this theme on a small screen!"])),(t()(),Ls(76,0,null,null,0,"hr",[["class","d-none d-lg-block mb-0 mr-0"]],null,null,null,null,null)),(t()(),Ls(77,0,null,null,14,"section",[["class","signup-section"],["id","signup"],["style","display:none;"]],null,null,null,null,null)),(t()(),Ls(78,0,null,null,13,"div",[["class","container"]],null,null,null,null,null)),(t()(),Ls(79,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(t()(),Ls(80,0,null,null,11,"div",[["class","col-md-10 col-lg-8 mx-auto text-center"]],null,null,null,null,null)),(t()(),Ls(81,0,null,null,0,"i",[["class","far fa-paper-plane fa-2x mb-2 text-white"]],null,null,null,null,null)),(t()(),Ls(82,0,null,null,1,"h2",[["class","text-white mb-5"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Subscribe to receive updates!"])),(t()(),Ls(84,0,null,null,7,"form",[["class","form-inline d-flex"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==Yi(t,86).onSubmit(n)&&i),"reset"===e&&(i=!1!==Yi(t,86).onReset()&&i),i}),null,null)),sr(85,16384,null,0,Tw,[],null,null),sr(86,4210688,null,0,Cw,[[8,null],[8,null]],null,null),or(2048,null,Ub,null,[Cw]),sr(88,16384,null,0,Hb,[[4,Ub]],null,null),(t()(),Ls(89,0,null,null,0,"input",[["class","form-control flex-fill mr-0 mr-sm-2 mb-3 mb-sm-0"],["id","inputEmail"],["placeholder","Enter email address..."],["type","email"]],null,null,null,null,null)),(t()(),Ls(90,0,null,null,1,"button",[["class","btn btn-primary mx-auto"],["type","submit"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Subscribe"])),(t()(),Ls(92,0,null,null,30,"section",[["class","contact-section bg-black"]],null,null,null,null,null)),(t()(),Ls(93,0,null,null,29,"div",[["class","container"]],null,null,null,null,null)),(t()(),Ls(94,0,null,null,28,"div",[["class","row"]],null,null,null,null,null)),(t()(),Ls(95,0,null,null,8,"div",[["class","col-md-4 mb-3 mb-md-0"]],null,null,null,null,null)),(t()(),Ls(96,0,null,null,7,"div",[["class","card py-4 h-100"]],null,null,null,null,null)),(t()(),Ls(97,0,null,null,6,"div",[["class","card-body text-center"]],null,null,null,null,null)),(t()(),Ls(98,0,null,null,0,"i",[["class","fas fa-map-marked-alt text-primary mb-2"]],null,null,null,null,null)),(t()(),Ls(99,0,null,null,1,"h4",[["class","text-uppercase m-0"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Address"])),(t()(),Ls(101,0,null,null,0,"hr",[["class","my-4"]],null,null,null,null,null)),(t()(),Ls(102,0,null,null,1,"div",[["class","small text-black-50"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Kochi, India"])),(t()(),Ls(104,0,null,null,9,"div",[["class","col-md-4 mb-3 mb-md-0"]],null,null,null,null,null)),(t()(),Ls(105,0,null,null,8,"div",[["class","card py-4 h-100"]],null,null,null,null,null)),(t()(),Ls(106,0,null,null,7,"div",[["class","card-body text-center"]],null,null,null,null,null)),(t()(),Ls(107,0,null,null,0,"i",[["class","fas fa-envelope text-primary mb-2"]],null,null,null,null,null)),(t()(),Ls(108,0,null,null,1,"h4",[["class","text-uppercase m-0"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Email"])),(t()(),Ls(110,0,null,null,0,"hr",[["class","my-4"]],null,null,null,null,null)),(t()(),Ls(111,0,null,null,2,"div",[["class","small text-black-50"]],null,null,null,null,null)),(t()(),Ls(112,0,null,null,1,"a",[["href","#!"]],null,null,null,null,null)),(t()(),Ys(-1,null,["milan161@gmail.com"])),(t()(),Ls(114,0,null,null,8,"div",[["class","col-md-4 mb-3 mb-md-0"]],null,null,null,null,null)),(t()(),Ls(115,0,null,null,7,"div",[["class","card py-4 h-100"]],null,null,null,null,null)),(t()(),Ls(116,0,null,null,6,"div",[["class","card-body text-center"]],null,null,null,null,null)),(t()(),Ls(117,0,null,null,0,"i",[["class","fas fa-mobile-alt text-primary mb-2"]],null,null,null,null,null)),(t()(),Ls(118,0,null,null,1,"h4",[["class","text-uppercase m-0"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Phone"])),(t()(),Ls(120,0,null,null,0,"hr",[["class","my-4"]],null,null,null,null,null)),(t()(),Ls(121,0,null,null,1,"div",[["class","small text-black-50"]],null,null,null,null,null)),(t()(),Ys(-1,null,["+91 (yet to update)"])),(t()(),Ls(123,0,null,null,2,"footer",[["class","footer bg-black small text-center text-white-50"]],null,null,null,null,null)),(t()(),Ls(124,0,null,null,1,"div",[["class","container"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Copyright \xa9 DRV Data Labs 2020"]))],null,(function(t,e){t(e,84,0,Yi(e,88).ngClassUntouched,Yi(e,88).ngClassTouched,Yi(e,88).ngClassPristine,Yi(e,88).ngClassDirty,Yi(e,88).ngClassValid,Yi(e,88).ngClassInvalid,Yi(e,88).ngClassPending)}))}function eS(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"app-info",[],null,null,null,tS,JE)),sr(1,114688,null,0,XE,[Py,sh],null,null)],(function(t,e){t(e,1,0)}),null)}var nS=Vi("app-info",XE,eS,{},{},[]);class iS{constructor(t){this._elementRef=t}}const rS=Jf(iS);class sS extends rS{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){ne()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(t=>!(t.classList&&t.classList.contains("mat-toolbar-row"))).filter(t=>t.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(t=>!(!t.textContent||!t.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}class oS{}var aS=Qn({encapsulation:2,styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}\n"],data:{}});function lS(t){return Xs(2,[$s(null,0),$s(null,1)],null,null)}var uS=Qn({encapsulation:0,styles:[["#route[_ngcontent-%COMP%]{width:100%}.NavTitle[_ngcontent-%COMP%]{height:26px;font-size:22px;font-weight:400;color:#faf8f8}.HomeTitle[_ngcontent-%COMP%], .NavTitle[_ngcontent-%COMP%]{font-family:Helvetica;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal}.HomeTitle[_ngcontent-%COMP%]{height:50px;font-size:42px;font-weight:700;color:#112539}.SignOut[_ngcontent-%COMP%]{cursor:pointer}.example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.newEmployeeSubmit[_ngcontent-%COMP%]{margin-left:8px}.newEmployeeInput[_ngcontent-%COMP%], .updateHouse[_ngcontent-%COMP%]{margin-left:8px;display:flex}.newCustomerSubmit[_ngcontent-%COMP%]{margin-left:8px}.newCustomerInput[_ngcontent-%COMP%]{margin-left:8px;display:flex}table[_ngcontent-%COMP%]{width:100%}agm-map[_ngcontent-%COMP%]{height:300px}"]],data:{}});function cS(t){return Xs(0,[(t()(),Ls(0,0,null,null,7,"mat-toolbar",[["class","mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,lS,aS)),sr(1,4243456,null,1,sS,[un,jd,ca],null,null),Bs(603979776,1,{_toolbarRows:1}),(t()(),Ls(3,0,null,0,1,"span",[],null,null,null,null,null)),(t()(),Ys(-1,null,["Directory"])),(t()(),Ls(5,0,null,0,0,"span",[["class","example-fill-remaining-space"]],null,null,null,null,null)),(t()(),Ls(6,0,null,0,1,"span",[["class","SignOut"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.signOut()&&i),i}),null,null)),(t()(),Ys(-1,null,["Sign Out"]))],null,(function(t,e){t(e,0,0,Yi(e,1)._toolbarRows.length>0,0===Yi(e,1)._toolbarRows.length)}))}function hS(t){return Xs(0,[(t()(),Fs(16777216,null,null,1,null,cS)),sr(1,16384,null,0,La,[Fn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Ls(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),sr(3,212992,null,0,lh,[ah,Fn,sn,[8,null],Re],null,null)],(function(t,e){var n=e.component;t(e,1,0,!0===n.signedIn&&"/info"!==n.routerUrl),t(e,3,0)}),null)}function dS(t){return Xs(0,[(t()(),Ls(0,0,null,null,1,"app-root",[],null,null,null,hS,uS)),sr(1,49152,null,0,aa,[X_,sh],null,null)],null,null)}var fS=Vi("app-root",aa,dS,{},{},[]),pS=n("wj3C"),mS=n.n(pS),gS=n("6Joi");function _S(t,e){return function(t,e=Nd){return new b(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot(n)}):i=t.onSnapshot(n),()=>{null!=i&&i()}})}(t,e)}function yS(t,e){return _S(t,e).pipe(M(t=>({payload:t,type:"query"})))}function vS(t,e){return yS(t,e).pipe(M(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function bS(t,e,n){return yS(t,n).pipe(M(t=>t.payload.docChanges()),Ol((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),M(t=>t.map(t=>({type:t.type,payload:t}))))}function wS(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class CS{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?vS(this.query,this.afs.schedulers.outsideAngular).pipe(M(e=>e.filter(e=>t.indexOf(e.type)>-1)),nl(t=>t.length>0),this.afs.keepUnstableUntilFirst):vS(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ol((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=wS(t);return bS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return yS(this.query,this.afs.schedulers.outsideAngular).pipe(M(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return B(this.query.get(t)).pipe(b_(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new ES(this.ref.doc(t),this.afs)}}class ES{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=TS(n,e);return new CS(i,r,this.afs)}snapshotChanges(){return _S(this.ref,this.afs.schedulers.outsideAngular).pipe(M(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(M(t=>t.payload.data()))}get(t){return B(this.ref.get(t)).pipe(b_(this.afs.schedulers.insideAngular))}}class SS{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?vS(this.query,this.afs.schedulers.outsideAngular).pipe(M(e=>e.filter(e=>t.indexOf(e.type)>-1)),nl(t=>t.length>0),this.afs.keepUnstableUntilFirst):vS(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ol((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=wS(t);return bS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return yS(this.query,this.afs.schedulers.outsideAngular).pipe(M(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return B(this.query.get(t)).pipe(b_(this.afs.schedulers.insideAngular))}}const xS=new Et("angularfire2.enableFirestorePersistence"),IS=new Et("angularfire2.firestore.persistenceSettings"),kS=new Et("angularfire2.firestore.settings");function TS(t,e=(t=>t)){return{query:e(t),ref:t}}let AS=(()=>{class t{constructor(t,e,n,i,r,s,o){this.schedulers=new q_(s),this.keepUnstableUntilFirst=H_(this.schedulers),this.firestore=s.runOutsideAngular(()=>{const n=Z_(t,s,e);gS.registerFirestore&&Object(gS.registerFirestore)(mS.a);const r=n.firestore();return i&&r.settings(i),r}),this.persistenceEnabled$=n&&!function(t){return"server"===t}(r)?s.runOutsideAngular(()=>{try{return B(this.firestore.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(t){return $a(!1)}}):$a(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=TS(n,e),s=this.schedulers.ngZone.run(()=>i);return new CS(s,r,this)}collectionGroup(t,e){const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new SS(n(i),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new ES(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275prov=ut({factory:function(){return new t(Rt($_),Rt(W_,8),Rt(xS,8),Rt(kS,8),Rt(Lr),Rt(Zr),Rt(IS,8))},token:t,providedIn:"any"}),t})(),RS=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){const n=this;return this.authService.isLoggedIn()==t.data.shouldBeSignedIn?(this.authService.executeWhenStateChanges(()=>{n.router.navigate([t.data.redirect])}),!0):(this.router.navigate([t.data.redirect]),!1)}}return t.\u0275prov=ut({factory:function(){return new t(Rt(Py),Rt(sh))},token:t,providedIn:"root"}),t})();const OS={shouldBeSignedIn:!0,redirect:"info"},DS={shouldBeSignedIn:!1,redirect:"home"},NS={shouldBeSignedIn:!0,redirect:"signin"},PS={shouldBeSignedIn:!0,redirect:"signin"},FS={shouldBeSignedIn:!0,redirect:"signin"},LS={shouldBeSignedIn:!0,redirect:"signin"};class MS{}class VS{}class US{}var jS=ra(oa,[aa],(function(t){return function(t){const e={},n=[];let i=null;for(let r=0;r<t.length;r++){const s=t[r];s.token===De&&(i=s.value),1073741824&s.flags&&n.push(s.token),s.index=r,e[Zn(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:n,scope:i}}([Oi(512,sn,on,[[8,[Nh,$y,Lw,Bw,AC,zC,QE,nS,fS]],[3,sn],Pt]),Oi(5120,Ur,Ds,[[3,Ur]]),Oi(4608,Aa,Ra,[Ur]),Oi(5120,wr,Ns,[Zr]),Oi(5120,Dr,Nr,[]),Oi(5120,Tn,Rs,[]),Oi(5120,An,Os,[]),Oi(4608,zf,qf,[ca]),Oi(6144,mn,null,[zf]),Oi(4608,Nf,Ff,[]),Oi(5120,yf,(function(t,e,n,i,r,s,o,a){return[new Of(t,e,n),new Bf(i),new Lf(r,s,o,a)]}),[ca,Zr,Lr,ca,ca,Nf,Vr,[2,Pf]]),Oi(4608,vf,vf,[yf,Zr]),Oi(135680,Cf,Cf,[ca]),Oi(4608,kf,kf,[vf,Cf,Dr]),Oi(5120,um,Qg,[]),Oi(5120,Xm,Xg,[]),Oi(4608,xg,Zg,[ca,um,Xm]),Oi(5120,hn,Jg,[kf,xg,Zr]),Oi(6144,wf,null,[Cf]),Oi(4608,rs,rs,[Zr]),Oi(5120,Yu,xh,[sh]),Oi(4608,dh,dh,[]),Oi(6144,ch,null,[dh]),Oi(135680,fh,fh,[sh,_s,$r,Pe,ch]),Oi(4608,hh,hh,[]),Oi(5120,ph,bh,[sh,Ha,mh]),Oi(5120,Ah,Th,[Ih]),Oi(5120,Mr,(function(t){return[t]}),[Ah]),Oi(5120,K_,Z_,[$_,Zr,[2,W_]]),Oi(4608,X_,X_,[$_,[2,W_],Lr,Zr]),Oi(4608,Mp,qg,[hn,ca]),Oi(4608,Av,Av,[]),Oi(4608,rp,rp,[]),Oi(4608,vE,vE,[eE,uE,sn,_E,aE,Pe,Zr,ca,Fp,[2,xa]]),Oi(5120,wE,SE,[vE]),Oi(5120,kE,TE,[vE]),Oi(4608,ky,Ty,[ca,Lr,xy]),Oi(4608,Ay,Ay,[ky,Iy]),Oi(5120,vy,(function(t){return[t]}),[Ay]),Oi(4608,Ey,Ey,[]),Oi(6144,Cy,null,[Ey]),Oi(4608,Sy,Sy,[Cy]),Oi(6144,ny,null,[Sy]),Oi(4608,ey,Ry,[ny,Pe]),Oi(4608,_y,_y,[ey]),Oi(4608,Jb,Jb,[]),Oi(4608,ty,ty,[]),Oi(4608,Py,Py,[sh,X_,ty,Zr,Ny]),Oi(4608,AS,AS,[$_,[2,W_],[2,xS],[2,kS],Lr,Zr,[2,IS]]),Oi(1073742336,qa,qa,[]),Oi(1024,Ht,Hf,[]),Oi(1024,cs,(function(){return[yh()]}),[]),Oi(512,Ih,Ih,[Pe]),Oi(1024,Rr,(function(t,e){return[(n=t,mf("probe",_f),mf("coreTokens",Object.assign(Object.assign({},gf),(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>_f),kh(e)];var n}),[[2,cs],Ih]),Oi(512,Or,Or,[[2,Rr]]),Oi(131584,ms,ms,[Zr,Vr,Pe,Ht,sn,Or]),Oi(1073742336,Ps,Ps,[ms]),Oi(1073742336,$f,$f,[[3,$f]]),Oi(1024,gh,Ch,[[3,sh]]),Oi(512,ku,Tu,[]),Oi(512,ah,ah,[]),Oi(512,ba,Sa,[ha,[2,Ca]]),Oi(512,xa,xa,[ba,ha]),Oi(512,$r,$r,[]),Oi(512,_s,bs,[$r,[2,ys]]),Oi(1024,Xc,(function(){return[[{path:"home",component:m_,canActivate:[RS],data:OS},{path:"signin",component:Dw,canActivate:[RS],data:DS},{path:"create",component:Mw,canActivate:[RS],data:NS},{path:"group-edit",component:bC,canActivate:[RS],data:PS},{path:"group/:id",component:RC,canActivate:[RS],data:FS},{path:"addHouse/:id",component:qE,canActivate:[RS],data:LS},{path:"info",component:XE},{path:"",redirectTo:"info",pathMatch:"full"}]]}),[]),Oi(256,mh,{useHash:!0},[]),Oi(1024,sh,Sh,[ku,ah,xa,Pe,_s,$r,Xc,mh,[2,th],[2,Zc]]),Oi(1073742336,vh,vh,[[2,gh],[2,sh]]),Oi(1073742336,MS,MS,[]),Oi(1073742336,Q_,Q_,[Lr]),Oi(1073742336,J_,J_,[]),Oi(1073742336,e_,e_,[]),Oi(1073742336,Lp,Lp,[]),Oi(1073742336,Qf,Qf,[of,[2,Zf],[2,ca]]),Oi(1073742336,d_,d_,[]),Oi(1073742336,Bd,Bd,[]),Oi(1073742336,pp,pp,[]),Oi(1073742336,Np,Np,[]),Oi(1073742336,Dv,Dv,[]),Oi(1073742336,cb,cb,[]),Oi(1073742336,Ib,Ib,[]),Oi(1073742336,Db,Db,[]),Oi(1073742336,ev,ev,[]),Oi(1073742336,af,af,[of]),Oi(1073742336,Tv,Tv,[]),Oi(1073742336,sp,sp,[]),Oi(1073742336,gp,gp,[]),Oi(1073742336,VS,VS,[]),Oi(1073742336,US,US,[]),Oi(1073742336,oS,oS,[]),Oi(1073742336,Vv,Vv,[]),Oi(1073742336,Uv,Uv,[]),Oi(1073742336,xE,xE,[]),Oi(1073742336,Ip,Ip,[]),Oi(1073742336,PE,PE,[]),Oi(1073742336,tC,tC,[]),Oi(1073742336,mC,mC,[]),Oi(1073742336,Oy,Oy,[]),Oi(1073742336,Dy,Dy,[]),Oi(1073742336,yd,yd,[]),Oi(1073742336,kd,kd,[]),Oi(1073742336,Rw,Rw,[]),Oi(1073742336,Ow,Ow,[]),Oi(1073742336,oa,oa,[]),Oi(256,jr,"USD",[]),Oi(256,De,"root",[]),Oi(256,$_,{apiKey:"AIzaSyAtu-rX_SCnYvHfeb1KB-Y_RBjP-yKaM8c",authDomain:"teamcontacts-251c5.firebaseapp.com",databaseURL:"https://teamcontacts-251c5.firebaseio.com",projectId:"teamcontacts-251c5",storageBucket:"teamcontacts-251c5.appspot.com",messagingSenderId:"61021792737",appId:"1:61021792737:web:dc02c97baba18c733d0aa0",measurementId:"G-WD9EZ5PMFX"},[]),Oi(256,W_,void 0,[]),Oi(256,t_,"BrowserAnimations",[]),Oi(256,$w,{separatorKeyCodes:[13]},[]),Oi(256,xy,"XSRF-TOKEN",[]),Oi(256,Iy,"X-XSRF-TOKEN",[])])}));(function(){if(ee)throw new Error("Cannot enable prod mode after platform setup.");te=!1})(),Gf().bootstrapModuleFactory(jS).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,c=(15&a)<<2|u>>6,h=63&u;l||(h=64,o||(c=64)),i.push(n[s>>2],n[(3&s)<<4|a>>4],n[c],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){var o=((7&r)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var s=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,l=++r<t.length?n[t.charAt(r)]:64;if(++r,null==s||null==o||null==a||null==l)throw Error();i.push(s<<2|o>>4),64!==a&&(i.push(o<<4&240|a>>2),64!==l&&i.push(a<<6&192|l))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,i){var r=t.call(this,i)||this;return r.code=n,r.name="FirebaseError",Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,m.prototype.create),r}return i.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},r=this.service+"/"+t,s=this.errors[t],o=s?g(s,i):"Error",a=this.serviceName+": "+o+" ("+r+").",l=new p(r,a),u=0,c=Object.keys(i);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=i[h])}return l},t}();function g(t,e){return t.replace(_,(function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var v=function(t){var e={},n={},i={},r="";try{var s=t.split(".");e=y(u(s[0])||""),n=y(u(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:i,signature:r}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,s,o=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=u^a&(l^u),s=1518500249):(r=a^l^u,s=1859775393):i<60?(r=a&l|u&(a|l),s=2400959708):(r=a^l^u,s=3395469782);var h=(o<<5|o>>>27)+r+c+s+n[i]&4294967295;c=u,u=l,l=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,s=this.inbuf_;i<e;){if(0===s)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[s]=t.charCodeAt(i),++i,++s===this.blockSize){this.compress_(r),s=0;break}}else for(;i<e;)if(r[s]=t[i],++i,++s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=C),void 0===i.error&&(i.error=C),void 0===i.complete&&(i.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}})),this.observers.push(i),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}function E(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}e.CONSTANTS=r,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=p,e.Sha1=b,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=s,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=l,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return l.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=E,e.getUA=d,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!==indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=f,e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=v(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),r=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var s=r[i];n(s[0],s[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=r-55296;i++,s(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(E(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,i)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=window.indexedDB.open(i);r.onsuccess=function(){r.result.close(),n||window.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=function(){n=!1},r.onerror=function(){var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}}))},e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(E(t,e,i)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);